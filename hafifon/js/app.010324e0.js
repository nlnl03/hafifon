(function(e){function t(t){for(var s,i,c=t[0],r=t[1],l=t[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);m&&m(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,c=1;c<a.length;c++){var r=a[c];0!==o[r]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},o={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var m=r;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0502":function(e,t,a){"use strict";a("2c91")},"0b8a":function(e,t,a){"use strict";a("65c1")},1298:function(e,t,a){"use strict";a("ec12")},"135a":function(e,t,a){"use strict";a("c7f8")},1771:function(e,t,a){var s={"./Assistant-Regular.ttf":"33e1","./CMD.png":"8134","./KioskServlet.jpg":"fd40","./SCCM.png":"4f4b","./active-directory-logo2.png":"df0b","./bios.png":"713a","./communication.png":"914e","./disc.png":"183b","./fileServer.jpg":"e0d7","./homePageBackground.png":"c442","./installation.jpg":"3e86","./logo-removebg-preview.png":"d580","./mail.jpg":"8e4a","./mivzOper.png":"ed98","./onlineCourse.jpg":"80e6","./pc.jpg":"1e5e","./printer.jpg":"9db6","./takalot.jpg":"3722","./xrm.jpg":"580a"};function o(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="1771"},"183b":function(e,t,a){e.exports=a.p+"img/disc.75e57f0a.png"},"1e5e":function(e,t,a){e.exports=a.p+"img/pc.f8de9fed.jpg"},"1eb6":function(e,t,a){},2935:function(e,t,a){"use strict";a("5252")},"2bec":function(e,t,a){"use strict";a("7632")},"2c91":function(e,t,a){},"33e1":function(e,t,a){e.exports=a.p+"fonts/Assistant-Regular.5193a037.ttf"},3722:function(e,t,a){e.exports=a.p+"img/takalot.bc954f09.jpg"},"3c3a":function(e,t,a){"use strict";a("91b7")},"3e86":function(e,t,a){e.exports=a.p+"img/installation.7ea70fac.jpg"},4509:function(e,t,a){"use strict";a("55f1")},"4f4b":function(e,t,a){e.exports=a.p+"img/SCCM.4e98334e.png"},5252:function(e,t,a){},"55f1":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");function o(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("MainNavbar"),r=Object(s["resolveComponent"])("router-view");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[Object(s["createVNode"])(c),Object(s["createVNode"])(r)],64)}const n=e=>(Object(s["pushScopeId"])("data-v-47dfae84"),e=e(),Object(s["popScopeId"])(),e),i={class:"main-nav"},c=Object(s["createTextVNode"])(" חפיפה "),r=Object(s["createTextVNode"])(" לאיזור אישי "),l={class:"menu"},m={class:"nav-bar"},d=Object(s["createTextVNode"])("המבחן הסופי"),u=n(()=>Object(s["createElementVNode"])("span",null,"ממשק מנהלים",-1)),p={key:0,class:"admin-drop-down-menu"},h={class:"drop-down-list"},b=Object(s["createTextVNode"])(" בדיקת מבחנים"),O={class:"drop-down-list"},g=Object(s["createTextVNode"])(" פתיחת הרשאות למבחנים"),j=n(()=>Object(s["createElementVNode"])("span",null,"בחנים",-1)),k={key:0,class:"drop-down-menu"},f=Object(s["createTextVNode"])("תרגולים");function v(e,t,a,o,n,v){const y=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",i,[Object(s["createVNode"])(y,{to:{name:"HomePage"},class:"home-title"},{default:Object(s["withCtx"])(()=>[c]),_:1}),Object(s["createVNode"])(y,{to:{name:"User"},class:"user-title"},{default:Object(s["withCtx"])(()=>[r]),_:1}),Object(s["createElementVNode"])("div",l,[Object(s["createElementVNode"])("div",m,[Object(s["createElementVNode"])("ul",null,[Object(s["createElementVNode"])("li",null,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(y,{to:{name:"exams",params:{Title:"finalTest"}}},{default:Object(s["withCtx"])(()=>[d]),_:1})])]),Object(s["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[0]||(t[0]=e=>n.isOpen=!0),onMouseleave:t[1]||(t[1]=e=>n.isOpen=!1)},[u,n.isOpen?(Object(s["openBlock"])(),Object(s["createElementBlock"])("ul",p,[Object(s["createElementVNode"])("li",h,[Object(s["createVNode"])(y,{class:"admin-routers",to:{name:"MainCheckPage"}},{default:Object(s["withCtx"])(()=>[b]),_:1})]),Object(s["createElementVNode"])("li",O,[Object(s["createVNode"])(y,{class:"admin-routers",to:{name:"openPerm"}},{default:Object(s["withCtx"])(()=>[g]),_:1})])])):Object(s["createCommentVNode"])("",!0)],32),Object(s["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[2]||(t[2]=e=>n.isExamsDropOpen=!0),onMouseleave:t[3]||(t[3]=e=>n.isExamsDropOpen=!1)},[j,n.isExamsDropOpen?(Object(s["openBlock"])(),Object(s["createElementBlock"])("ul",k,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.examsName,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{key:e,class:"drop-down-list"},[Object(s["createVNode"])(y,{class:"drop-down-items",to:{name:"exams",params:{Title:e.Title}}},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.subject),1)]),_:2},1032,["to"])]))),128))])):Object(s["createCommentVNode"])("",!0)],32),Object(s["createElementVNode"])("li",null,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(y,{to:{name:"PracticesList"}},{default:Object(s["withCtx"])(()=>[f]),_:1})])])])])])])}var y=a("bc3a"),x=a.n(y),E={name:"MainNavbar",data(){return{isExamsDropOpen:!1,isOpen:!1,examsName:[],url:"https://portal.army.idf/sites/hafifon383/_api/web/Lists/getByTitle('testsNames')/Items"}},methods:{async getNameOfExams(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('testsNames')/Items"):await x.a.get(this.$sharePointUrl+"testsNames"),this.examsName=e.data.value,localStorage.setItem("examsName",JSON.stringify(this.examsName)),this.examsName=this.examsName.filter(e=>"finalTest"!==e.Title)},async checkPermForCheckPage(){await x.a.get("https://portal.army.idf/sites/hafifon383/_api/web/Lists/getByTitle('AdminCheck')/Items?$filter eq admin")}},async beforeMount(){await this.$isSharePointUrl,this.getNameOfExams()}},N=(a("0b8a"),a("d959")),B=a.n(N);const V=B()(E,[["render",v],["__scopeId","data-v-47dfae84"]]);var T=V,w={name:"App",components:{MainNavbar:T},data(){return{token:null,currentUser:"https://portal.army.idf/sites/gdud0383/Team/_api/web/currentUser",urlForToken:"https://portal.army.idf/sites/hafifon383/_api/contextinfo",Id:null,userName:null,isAdmin:null}},methods:{async getToken(){const e=await x.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo");this.token=e.data.FormDigestValue},async getCurrentUser(){const e=await x.a.get(this.currentUser);this.currentUserData=e.data,this.Id=this.currentUserData.Id;const t=this.currentUserData.Title.split(" -");this.userName=t[0],localStorage.setItem("userName",this.userName),localStorage.setItem("userId",this.Id),console.log(this.Id)},async checkIfAdmin(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('AdminCheck')/Items"):await x.a.get(this.$sharePointUrl+"AdminCheck"),e.data.value.length?this.isAdmin=!0:this.isAdmin=!1,sessionStorage.setItem("isAdmin",this.isAdmin)}},beforeMount(){this.getCurrentUser(),this.checkIfAdmin()}};a("1298");const D=B()(w,[["render",o]]);var S=D,C=a("6c02");const P=e=>(Object(s["pushScopeId"])("data-v-43bd4028"),e=e(),Object(s["popScopeId"])(),e),I={key:0,class:"loading-spinner"},$={class:"container"},A={class:"main-background"},F={key:0,class:"welcome"},U=P(()=>Object(s["createElementVNode"])("h1",null,"ברוכים הבאים לאתר חפיפה",-1)),L={class:"name"};function q(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoad?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",I,[Object(s["createVNode"])(c)])),Object(s["createElementVNode"])("div",$,[Object(s["createElementVNode"])("div",A,[n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",F,[U,Object(s["createElementVNode"])("div",L,[Object(s["createElementVNode"])("h2",null,"שלום "+Object(s["toDisplayString"])(n.userName),1)])])):Object(s["createCommentVNode"])("",!0)])])],64)}const _={class:"spin"};function R(e,t,a,o,n,i){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",_)}var M={name:"loadingSpinner"};a("b7b7");const Q=B()(M,[["render",R],["__scopeId","data-v-a129ab64"]]);var G=Q,H={name:"HomePage",components:{loadingSpinner:G},data(){return{currentUserData:[],Id:null,isLoad:!1,timeOut:null,token:"",userName:""}},methods:{async getToken(){return x.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async checkIfUser(){if(this.Id=localStorage.getItem("userId"),this.userName=localStorage.getItem("userName"),console.log(this.Id),console.log(this.$isSharePointUrl),this.$isSharePointUrl){const t=await x.a.get(this.$sharePointUrl+`getByTitle('students')/items?$filter=num eq '${this.Id}'`),a=t.data.value;if(console.log(a),this.token=await this.getToken(),console.log(this.token),!a.length)try{await x.a.post(this.$sharePointUrl+"getByTitle('students')/items",{Title:this.userName,num:this.Id,exam1:null,exam2:null,exam3:null,exam4:null,finalTest:null},{headers:{"X-RequestDigest":this.token}})}catch(e){console.log(e.message)}}this.isLoad=!0,console.log(this.isLoad)}},beforeMount(){setTimeout(this.checkIfUser,500)}};a("2935");const z=B()(H,[["render",q],["__scopeId","data-v-43bd4028"]]);var J=z;const W=e=>(Object(s["pushScopeId"])("data-v-72f2f66d"),e=e(),Object(s["popScopeId"])(),e),X={key:0,class:"loader-spinner"},K={key:1,class:"main"},Y=W(()=>Object(s["createElementVNode"])("h1",null,"תרגולים",-1)),Z=W(()=>Object(s["createElementVNode"])("div",{class:"text-under-line"},null,-1)),ee={class:"container-cards"},te={class:"flex-cards"},ae=["src"],se={class:"inner-flex"},oe={class:"text"},ne={class:"num-of-que"};function ie(e,t,o,n,i,c){const r=Object(s["resolveComponent"])("loadingSpinner"),l=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[i.isLoad?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",X,[Object(s["createVNode"])(r)])),i.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",K,[Y,Z,Object(s["createElementVNode"])("div",ee,[Object(s["createElementVNode"])("div",te,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(i.practices,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"items",key:e},[Object(s["createVNode"])(l,{class:"router-text",to:{name:"beforeEnterQuiz",params:{practices:JSON.stringify(e),title:e.Title}}},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("img",{class:"image-of-items",src:a("1771")("./"+e.Img)},null,8,ae),Object(s["createElementVNode"])("div",se,[Object(s["createElementVNode"])("h4",oe,Object(s["toDisplayString"])(e.Subject),1),Object(s["createElementVNode"])("span",ne,"מספר שאלות: "+Object(s["toDisplayString"])(e.numOfQue),1)])]),_:2},1032,["to"])]))),128))])])])):Object(s["createCommentVNode"])("",!0)],64)}const ce=e=>(Object(s["pushScopeId"])("data-v-7a329edf"),e=e(),Object(s["popScopeId"])(),e),re={key:0,class:"spiner"},le={key:1,class:"main-container"},me={key:0,class:"about-quiz"},de={class:"quiz-subject"},ue=ce(()=>Object(s["createElementVNode"])("div",{class:"quiz-info"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Qui nesciunt eius corrupti expedita necessitatibus voluptatum cumque odit deleniti aspernatur ex, pariatur assumenda labore. Vitae quasi et esse at doloremque ut aliquam, voluptate ab totam aspernatur eius earum reiciendis iste dolor aperiam saepe error eos culpa nobis nisi repellendus inventore quis, temporibus odit? Recusandae autem repellat vitae tempore repudiandae accusantium in illo quidem? Impedit, perspiciatis dignissimos. At numquam non corporis architecto quidem quaerat, ad accusantium ab fuga voluptas minima quam cupiditate ipsam, accusamus praesentium tenetur assumenda, quasi sunt adipisci aliquid necessitatibus? Doloribus ipsum praesentium, ipsa sapiente cumque voluptatem iure error repellendus. ",-1)),pe={class:"start-back-buttons"},he=Object(s["createTextVNode"])(" התחל תרגול");function be(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner"),r=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",re,[Object(s["createVNode"])(c)])),n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",le,[e.isShow?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",me,[Object(s["createElementVNode"])("div",de,Object(s["toDisplayString"])(n.Subject),1),ue,Object(s["createElementVNode"])("div",pe,[Object(s["createElementVNode"])("button",{class:"back-btn",onClick:t[0]||(t[0]=e=>i.goBack())},"בחזרה לתרגולים"),Object(s["createVNode"])(r,{class:"start-btn",to:{name:"quiz"}},{default:Object(s["withCtx"])(()=>[he]),_:1})])]))])):Object(s["createCommentVNode"])("",!0)],64)}var Oe={name:"beforeEnterQuiz",components:{loadingSpinner:G},data(){return{results:[],Subject:"",isLoadForSpinner:!1,timeOut:null}},methods:{goBack(){this.$router.go(-1)},async getData(){if(this.$isSharePointUrl){const e=await x.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items");this.results=e.data.value,this.results=this.results.filter(e=>e.Title==this.$route.params.title)[0],this.Subject=this.results.Subject}this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,150)}};a("e9b5");const ge=B()(Oe,[["render",be],["__scopeId","data-v-7a329edf"]]);var je=ge,ke={name:"PracticesList",components:{beforeEnterQuiz:je,loadingSpinner:G},data(){return{practices:[],isLoad:!1,timeOut:null}},methods:{async getPractices(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items"):await x.a.get(this.$sharePointUrl+"practice"),this.practices=e.data.value,this.isLoad=!0}},async beforeMount(){this.timeOut=setTimeout(this.getPractices,200)}};a("a163");const fe=B()(ke,[["render",ie],["__scopeId","data-v-72f2f66d"]]);var ve=fe;const ye=e=>(Object(s["pushScopeId"])("data-v-adc2578e"),e=e(),Object(s["popScopeId"])(),e),xe={class:"main-page"},Ee=ye(()=>Object(s["createElementVNode"])("h1",null,"האיזור האישי",-1)),Ne=ye(()=>Object(s["createElementVNode"])("div",{class:"under-line"},null,-1)),Be={class:"main"},Ve={class:"right-side-flex"},Te={class:"name-progress-details"},we={class:"personal-info"},De={class:"personal-info-items"},Se={class:"inner-right-flex"},Ce={key:0,class:"name-detail"},Pe=ye(()=>Object(s["createElementVNode"])("div",{class:"hafifa-nickname"}," חפיפון מתחיל ",-1)),Ie=ye(()=>Object(s["createElementVNode"])("div",{class:"inner-left-flex"},[Object(s["createElementVNode"])("img",{class:"user-image",src:"http://www.portalhr.leshem.idf/KioskServlet?infoOrPic=pic"})],-1)),$e={class:"progress-info"},Ae={class:"users-progress-item"},Fe={key:0,class:"title"},Ue={key:1,class:"spinner-for-progress"},Le={key:2,class:"progress-circle"},qe={class:"left-side-flex"},_e={key:0,class:"spinner"},Re={key:1,class:"grid-container"},Me={class:"average"},Qe=ye(()=>Object(s["createElementVNode"])("span",{class:"items-title"},"ממוצע ציונים ",-1)),Ge={class:"items-title"},He={key:0,class:"the-grades"},ze={key:1,class:"the-grades-no-examdata"},Je={class:"show-exam"},We=Object(s["createTextVNode"])("לצפייה במבחן");function Xe(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner"),r=Object(s["resolveComponent"])("circle-progress"),l=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",xe,[Ee,Ne,Object(s["createElementVNode"])("div",Be,[Object(s["createElementVNode"])("div",Ve,[Object(s["createElementVNode"])("div",Te,[Object(s["createElementVNode"])("div",we,[Object(s["createElementVNode"])("div",De,[Object(s["createElementVNode"])("div",Se,[n.isFinished?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ce,[Object(s["createElementVNode"])("h2",null,Object(s["toDisplayString"])(n.userName),1)])):Object(s["createCommentVNode"])("",!0),Pe]),Ie])]),Object(s["createElementVNode"])("div",$e,[Object(s["createElementVNode"])("div",Ae,[n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Fe,"כמה עברתי מהחפיפה ?")):Object(s["createCommentVNode"])("",!0),n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ue,[Object(s["createVNode"])(c)])),n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Le,[Object(s["createVNode"])(r,{percent:i.calcTotalProgress(e.val),"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:600},null,8,["percent"])])):Object(s["createCommentVNode"])("",!0)])])])]),Object(s["createElementVNode"])("div",qe,[n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",_e,[Object(s["createVNode"])(c)])),n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Re,[Object(s["createElementVNode"])("div",Me,[Qe,Object(s["createElementVNode"])("span",{class:"gradeAv",ref:"gradeAv"},Object(s["toDisplayString"])(i.calcGradesAve(n.average)),513)]),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.onlyExamData,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:e},[Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])(i.dynamicGridClass(t+1))},[Object(s["createElementVNode"])("span",Ge,Object(s["toDisplayString"])(n.examsNames[t].subject),1),null!=e?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",He,Object(s["toDisplayString"])(e[e.length-1]["finalGrade"]),1)):Object(s["createCommentVNode"])("",!0),null==e?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",ze,"עוד לא הוזן")):Object(s["createCommentVNode"])("",!0),Object(s["createElementVNode"])("div",Je,[null!=e?(Object(s["openBlock"])(),Object(s["createBlock"])(l,{key:0,class:"exam-Checked-router",to:{name:"CheckedExams",params:{title:n.examsNames[t].Title}}},{default:Object(s["withCtx"])(()=>[We]),_:2},1032,["to"])):Object(s["createCommentVNode"])("",!0)])],2)]))),128))])):Object(s["createCommentVNode"])("",!0)])])])}var Ke=a("78da"),Ye=a.n(Ke),Ze=(a("872e"),{components:{CircleProgress:Ye.a,loadingSpinner:G},data(){return{userDetails:[],gradesAvera:[],userName:"",isFinished:!1,userId:"",checkedExamData:[],onlyExamData:[],examsNames:[],hafifaProgress:null,isLoad:!1,average:null,timeOut:null,isGradeAve:!1,isLoadForSpinner:!1}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async getExamsNames(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('testsNames')/Items"):await x.a.get(this.$sharePointUrl+"testsNames"),this.examsNames=e.data.value,console.log(this.examsNames)},async parseData(){await this.getExamsNames(),this.examsNames.forEach(e=>{Promise.all(this.checkedExamData.map(t=>this.asyncParse(t[e.Title]).then(a=>(t[e.Title]=a,{item:t}))))})},async getCheckedExam(){this.userId=localStorage.getItem("userId"),console.log(this.userId);var e=null;this.$isSharePointUrl?(e=await x.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'`),this.checkedExamData=e.data.value):(e=await x.a.get(this.$sharePointUrl+`students?num='${this.userId}'`),this.checkedExamData=e.data),console.log(this.checkedExamData),this.filterToExamsOnly(),this.calcGradesAve(),this.isLoadForSpinner=!0},async filterToExamsOnly(){await this.parseData(),this.examsNames.forEach(e=>{this.onlyExamData.push(this.checkedExamData[0][e.Title])}),console.log(this.onlyExamData)},dynamicGridClass(e){return"test-"+e+"-score"},calcTotalProgress(e){var t=0;return this.onlyExamData.forEach(e=>{null!=e&&t++}),0==t?0:t/this.onlyExamData.length*100},calcGradesAve(e){var t=0,a=0,s="אין מידע",o=this.onlyExamData.length;if(this.onlyExamData.forEach(e=>{null!=e?t+=e[e.length-1]["finalGrade"]:(a++,o=this.onlyExamData.length-a)}),console.log(a),0==o){console.log("is 0");let e=this.$refs["gradeAv"];return console.log(e),s}return t/o},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,300)})},getUserName(){var e=localStorage.getItem("userName");this.userName=e}},async beforeMount(){await this.asyncSetTimeout(),this.getUserName(),this.isFinished=!0,this.getCheckedExam()}});a("0502");const et=B()(Ze,[["render",Xe],["__scopeId","data-v-adc2578e"]]);var tt=et;function at(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("HafifaCheckMainCompo");return Object(s["openBlock"])(),Object(s["createBlock"])(c)}const st=e=>(Object(s["pushScopeId"])("data-v-3edb5e7e"),e=e(),Object(s["popScopeId"])(),e),ot={key:0,class:"loading-spinner"},nt={key:1,class:"box"},it={key:0,class:"box-flex"},ct={class:"count-students-cicrcle"},rt={class:"count-students-items"},lt=st(()=>Object(s["createElementVNode"])("div",{class:"ave-title"}," מבחנים לבדיקה ",-1)),mt={class:"students-in-hafifa"},dt={class:"average-cicrcle"},ut={class:"average-items"},pt=st(()=>Object(s["createElementVNode"])("div",{class:"ave-title"}," ממוצע ציונים ",-1)),ht={class:"progress-circle"},bt={class:"select-title"},Ot={class:"selected-option",ref:"selectTitle"},gt={class:"exams-list-options"},jt=["onClick"],kt={key:1,class:"title"},ft={key:2,class:"accordion"},vt=["onClick","value"],yt={class:"text"},xt={key:0,class:"accordion-content"},Et={key:3,class:"when-empty"};function Nt(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner"),r=Object(s["resolveComponent"])("circle-progress"),l=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoad?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ot,[Object(s["createVNode"])(c)])),n.isAdmin?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",nt,[n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",it,[Object(s["createElementVNode"])("div",ct,[Object(s["createElementVNode"])("div",rt,[lt,Object(s["createElementVNode"])("div",mt,Object(s["toDisplayString"])(n.userData.length),1)])]),Object(s["createElementVNode"])("div",dt,[Object(s["createElementVNode"])("div",ut,[pt,Object(s["createElementVNode"])("div",ht,[Object(s["createVNode"])(r,{percent:n.gradrPerExam,size:140,"show-percent":!0,"fill-color":i.changeAveColor(n.gradrPerExam),viewport:!0,transition:600},null,8,["percent","fill-color"])]),n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:0,class:"select-to-show-ave-menu",onClick:t[0]||(t[0]=(...e)=>i.toggleOptions&&i.toggleOptions(...e)),ref:"fixTitleWidth"},[Object(s["createElementVNode"])("div",bt,[Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])(["select-option-arrow",{rotate:n.showOptions}])},"▼",2),Object(s["createElementVNode"])("div",Ot,"בחר מבחן",512)]),Object(s["withDirectives"])(Object(s["createElementVNode"])("ul",gt,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.testsNames,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("li",{key:t,onClick:t=>i.selectOption(e)},Object(s["toDisplayString"])(e.subject),9,jt))),128))],512),[[s["vShow"],n.showOptions]])],512)):Object(s["createCommentVNode"])("",!0)])])])):Object(s["createCommentVNode"])("",!0),n.examTitlesFiltered.length&&n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",kt,"מבחנים הממתינים לבדיקה")):Object(s["createCommentVNode"])("",!0),n.isLoad&&n.examTitlesFiltered.length>0?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ft,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.examTitlesFiltered,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"accordion-item",key:e},[Object(s["createElementVNode"])("button",{class:Object(s["normalizeClass"])(["accordion-header",{active:n.ite===t&&n.isOpen}]),onClick:a=>i.OpenAccordion(e,t),ref:e+t,value:e},[Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])(["accordion-arrow",{rotate:n.ite===t&&n.isOpen}])},"▼",2),Object(s["createElementVNode"])("div",yt,Object(s["toDisplayString"])(e),1)],10,vt),n.isOpen&&n.ite==t?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",xt,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.userInfoFilterd,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"name-of-hafifot",key:e},[Object(s["createVNode"])(l,{to:{name:"examsToCheck",path:`/examsToCheck/${e.num}/${e.type}`,params:{examType:e.type,num:e.num}}},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.Title),1)]),_:2},1032,["to"])]))),128))])):Object(s["createCommentVNode"])("",!0)]))),128))])):Object(s["createCommentVNode"])("",!0),!n.examTitlesFiltered.length&&n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Et," אין מבחנים לבדיקה ")):Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0)],64)}var Bt={name:"HafifaCheckMainCompo",components:{CircleProgress:Ye.a,loadingSpinner:G},data(){return{examTitles:[],examTitlesFiltered:[],userData:[],isOpen:!1,ite:0,getBtnVal:null,userInfoFilterd:[],isLoad:!1,isAdmin:!1,testsNames:[],aveColor:null,showOptions:null,gradrPerExam:0}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},toggleOptions(){this.showOptions=!this.showOptions},async getGrades(e){var t=null,a=null;if(this.$isSharePointUrl){t=await x.a.get(this.$sharePointUrl+"getByTitle('students')/items?$select="+e.Title),a=t.data.value;await Promise.all(a.map(t=>this.asyncParse(t[e.Title]).then(a=>(t[e.Title]=a,{item:t}))));console.log(a)}else t=await x.a.get(this.$sharePointUrl+"students"),console.log(t.data),a=t.data;var s=a.map(t=>t[e.Title]);console.log(s);var o=s.map(e=>{if(null!=e)return e.map(e=>e.finalGrade).filter(e=>void 0!==e)}).flat().filter(e=>void 0!==e);console.log(o),this.calcAve(o)},selectOption(e){var t=this.$refs["selectTitle"];console.log(t),t.innerHTML=e.subject;var a=this.$refs["fixTitleWidth"];"המבחן הסופי"==e.subject?(console.log("yes"),a.style.width="125px"):a.style.width="100px",this.getGrades(e)},async filterTitles(){this.examTitlesFiltered=this.userData.map(e=>e.name);const e=this.examTitlesFiltered;this.examTitlesFiltered=this.filterArrayOfTitles(e),console.log(this.examTitlesFiltered)},filterArrayOfTitles(e){return e.filter((t,a)=>e.indexOf(t)===a)},async getData(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('pending tests')/Items"):await x.a.get(this.$sharePointUrl+"pendingTests"),this.userData=e.data.value,console.log(this.userData)},async OpenAccordion(e,t){this.ite=t,this.getBtnVal=await this.$refs[e+t].value,console.log(this.getBtnVal),this.userInfoFilterd=await this.userData.filter(e=>e.name==this.getBtnVal),console.log(this.userInfoFilterd),this.isOpen=!this.isOpen},changeAveColor(e){return e>=80?"#2E8B57":e>=60&&e<80?"var(--main-background-color)":"#de0f0f"},showAveOnEachTest(e){console.log(e)},calcAve(e){console.log("yews"),console.log(e);let t=0,a=0;if(e.length){for(let s=0;s<e.length;s++)t+=e[s],a++;return 0===a?0:(this.gradrPerExam=t/a,console.log(this.gradrPerExam),this.gradrPerExam)}return this.gradrPerExam=0,console.log(this.gradrPerExam),this.gradrPerExam},timeOutForSpinner(){this.isLoad=!0}},async beforeMount(){if(this.isAdmin=JSON.parse(sessionStorage.getItem("isAdmin")),console.log(this.isAdmin),this.isAdmin){this.isAdmin=!0;var e=JSON.parse(localStorage.getItem("examsName"));this.testsNames=e,console.log(this.testsNames),await this.getData(),await this.filterTitles();setTimeout(this.timeOutForSpinner,250)}else alert("מצטערים, אך אין לך גישה לעמוד זה..."),this.$router.go(-1)}};a("4509");const Vt=B()(Bt,[["render",Nt],["__scopeId","data-v-3edb5e7e"]]);var Tt=Vt,wt={components:{HafifaCheckMainCompo:Tt}};const Dt=B()(wt,[["render",at]]);var St=Dt;const Ct=e=>(Object(s["pushScopeId"])("data-v-637769fb"),e=e(),Object(s["popScopeId"])(),e),Pt={key:0,class:"loading-spinner"},It={key:1,class:"exam-box"},$t={class:"question"},At={class:"que-index"},Ft=Ct(()=>Object(s["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Ut={class:"answer-options"},Lt={class:"answer-items"},qt={class:"select-right-wrong"},_t={class:"choose-points"},Rt=["max","onUpdate:modelValue","onChange"],Mt={class:"comments"},Qt=["onUpdate:modelValue"],Gt={class:"bottom-of-page"},Ht={key:0,class:"warning-title"},zt={class:"send"};function Jt(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoad?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Pt,[Object(s["createVNode"])(c)])),n.isLoad?(Object(s["openBlock"])(),Object(s["createElementBlock"])("form",It,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.examData,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"exam",key:t},[Object(s["createElementVNode"])("div",$t,[Object(s["createElementVNode"])("div",At,Object(s["toDisplayString"])(t+1+"."),1),Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(e.Que),1)]),Ft,Object(s["createElementVNode"])("div",Ut,[Object(s["createElementVNode"])("div",Lt,Object(s["toDisplayString"])(e.Ans),1),Object(s["createElementVNode"])("div",qt,[Object(s["createElementVNode"])("span",_t,"*בחר ניקוד (מקס' "+Object(s["toDisplayString"])(Math.round(n.pointsForEachQue))+" נק')",1),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"number",min:"0",max:n.pointsForEachQue,"onUpdate:modelValue":t=>n.vModelData[e.Que]=t,placeholder:"אנא בחר ניקוד",onChange:e=>i.handler(e,t),ref:"inputRef_"+t},null,40,Rt),[[s["vModelText"],n.vModelData[e.Que]]])]),Object(s["createElementVNode"])("div",Mt,[Object(s["withDirectives"])(Object(s["createElementVNode"])("textarea",{name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":t=>n.commentsData[e.Que]=t,placeholder:"הכנס הערות (אופציונלי)"},null,8,Qt),[[s["vModelText"],n.commentsData[e.Que]]])])])]))),128)),Object(s["createElementVNode"])("div",Gt,[n.isOpenWarn?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ht,"*אנא בדוק שניקדת את כל השאלות")):Object(s["createCommentVNode"])("",!0),Object(s["createElementVNode"])("div",zt,[Object(s["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.submit&&i.submit(...e))},"הגש")])])])):Object(s["createCommentVNode"])("",!0)],64)}var Wt={components:{loadingSpinner:G},data(){return{examData:[],vModelData:{},isAllInpFull:!1,isLoad:!1,pointsForEachQue:null,examLength:null,pointsArray:[],inputVal:[],openHalfAns:"",ite:0,isOpenWarn:!1,routerIsShown:!1,finalGrade:null,isChecExamNotExist:!1,token:"",id:null,pendingTestId:null,dataToPost:[],commentsData:{},examType:null,alreadyCalc:!1}},methods:{pushToArrToCheckGrade(){this.examData.forEach(e=>{this.pointsArray.push(null)})},handler(e,t){console.log(this.vModelData),this.isOpenWarn=!1;var a=e.target.value;console.log(a),a>=0&&a<=this.pointsForEachQue?a==Math.round(this.pointsForEachQue)?this.pointsArray[t]=this.pointsForEachQue:this.pointsArray[t]=parseInt(a):this.pointsArray[t]=null,console.log(this.pointsArray)},postDataFormat(){var e=null,t=null;Object.entries(this.vModelData).forEach(a=>{console.log(a),e=this.commentsData[a[0]],this.examData.forEach(e=>{e["Que"]==a[0]&&(t=e["Ans"])}),console.log(t);const[s,o,n,i]=a;this.dataToPost.push({Que:s,Points:o,Comments:e,Ans:t})})},calcFinalGrade(){return new Promise(e=>{if(this.alreadyCalc)this.dataToPost.push({finalGrade:this.finalGrade}),console.log(this.dataToPost);else{for(var t in this.pointsArray)this.finalGrade+=this.pointsArray[t];console.log(this.finalGrade),this.dataToPost.push({finalGrade:this.finalGrade}),this.alreadyCalc=!0}e(this.dataToPost)})},checkIfAllIsFull(){var e=null,t=!0;return this.pointsArray.forEach((a,s)=>{a||(t=!1,e=this.$refs["inputRef_"+s],e.scrollIntoView({behavior:"smooth",block:"center"}),console.log(e),e.classList.add("input-placeholder"))}),t},showAlertConfirm(){this.$swal({title:"האם אתה בטוח שברצונך להגיש בדיקה זו ?",type:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, שלח בדיקה"}).then(e=>{e.value&&this.calcFinalGrade().then(e=>{this.postData()})})},async submit(){await this.checkIfAllIsFull(),1==this.checkIfAllIsFull()?(this.postDataFormat(),console.log(this.dataToPost),this.showAlertConfirm()):this.isOpenWarn=!0},getToken(){return x.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getId(){return this.$isSharePointUrl?x.a.get(this.$sharePointUrl+"getByTitle('students')/Items?$filter=num eq "+this.$route.params.num).then(e=>e.data.value[0].ID):(console.log(this.$route.params),x.a.get(this.$sharePointUrl+"students?num="+this.$route.params.num).then(e=>e.data[0].id))},async postData(){if(this.id=await this.getId(),console.log(this.id),this.$isSharePointUrl){this.token=await this.getToken();const t=await x.a.post(this.$sharePointUrl+`getByTitle('students')/Items('${this.id}')`,{__metadata:{type:"SP.Data.StudentsListItem"},[this.examType]:JSON.stringify(this.dataToPost)},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),this.delDataFromPending(),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}else{console.log(this.id);const t=await x.a.patch(this.$sharePointUrl+"students/"+this.id,{[this.examType]:this.dataToPost});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}},async delDataFromPending(){if(this.$isSharePointUrl){this.token=await this.getToken(),console.log(this.token);await x.a.post(this.$sharePointUrl+`getByTitle('pending tests')/Items('${this.pendingTestId}')`,{__metadata:{type:"SP.Data.Pending_x0020_testsListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},timeOutForSpinner(){this.isLoad=!0},calcTheGrade(){this.pointsForEachQue=100/this.examLength,console.log(this.pointsForEachQue)}},async beforeMount(){if(console.log(this.$route.params.examType),this.examType=this.$route.params.examType,this.$isSharePointUrl){const e=await x.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.$route.params.num}') and (type eq '${this.$route.params.examType}')`);this.examData=e.data.value,this.pendingTestId=e.data.value[0].ID;await Promise.all(this.examData.map(e=>this.asyncParse(e.exam).then(t=>(e["exam"]=t,{item:e}))));this.examData=this.examData[0].exam,console.log(this.examData)}else{const e=await x.a.get(this.$sharePointUrl+`pendingTests/?num=${this.$route.params.num}&type=${this.$route.params.examType}`);this.examData=e.data.value,this.examData=e.data.value[0].exam,console.log(this.examData)}this.examLength=this.examData.length,console.log(this.examLength),this.calcTheGrade();setTimeout(this.timeOutForSpinner,200);this.pushToArrToCheckGrade(),console.log(this.$route.params)},mounted(){this.examData.forEach(e=>{this.vModelData=""})}};a("6d61");const Xt=B()(Wt,[["render",Jt],["__scopeId","data-v-637769fb"]]);var Kt=Xt;const Yt=e=>(Object(s["pushScopeId"])("data-v-864de33c"),e=e(),Object(s["popScopeId"])(),e),Zt={key:0,class:"main"},ea={class:"permission"},ta={class:"permission-title"},aa={key:0,class:"switch"},sa=["checked","onClick"],oa=Yt(()=>Object(s["createElementVNode"])("span",{class:"slider round"},null,-1));function na(e,t,a,o,n,i){return n.isAdmin?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Zt,[Object(s["createElementVNode"])("div",ea,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.currentPermission,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"permisson-items",key:e},[Object(s["createElementVNode"])("span",ta,Object(s["toDisplayString"])(e.Title),1),n.isload?(Object(s["openBlock"])(),Object(s["createElementBlock"])("label",aa,[Object(s["createElementVNode"])("input",{type:"checkbox",checked:e.isAllow,onClick:a=>i.openPerm(e,t),ref:e+t},null,8,sa),oa])):Object(s["createCommentVNode"])("",!0)]))),128))])])):Object(s["createCommentVNode"])("",!0)}var ia={data(){return{urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,targetRoleDefId:null,token:null,testNames:[],active:[],currentPermission:[],Id:null,isload:!1,isAdmin:!1}},methods:{async getToken(){return x.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getIdOfgroup(){const e=await x.a.get(this.urlForId);this.groupId=e.data.value,console.log(this.groupId)},async getTargetRoleDefenitionId(){const e=await x.a.get("https://portal.army.idf/sites/hafifon383/_api/web/roledefinitions/getbyname('קריאה')/id");this.targetRoleDefId=e.data.value,console.log(this.targetRoleDefId)},async setNewPermForGroup(e){return x.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/addroleassignment(principalid='${this.groupId}' ,roledefid='${this.targetRoleDefId}')`,{},{headers:{"X-RequestDigest":this.token}})},async openPerm(e,t){var a=null,s=this.$refs[e+t];await this.getPermListId(e),s.checked?(a=!0,this.setNewPermForGroup(e),this.updatePerm(a)):(a=!1,this.updatePerm(a),this.deletePer(e)),console.log(s),console.log(a)},async checkTheCurrentPerm(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+"getByTitle('isPermissionActive')/items"):await x.a.get(this.$sharePointUrl+"isPermissionActive"),this.currentPermission=e.data.value},async updatePerm(e){await x.a.post(this.$sharePointUrl+`getByTitle('isPermissionActive')/Items('${this.Id}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"},isAllow:e},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async deletePer(e){await x.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async getPermListId(e){const t=await x.a.get(this.$sharePointUrl+`getByTitle('isPermissionActive')/items?$filter=type eq '${e.type}'`);this.Id=t.data.value[0].ID,console.log(this.Id)}},async beforeMount(){this.isAdmin=JSON.parse(sessionStorage.getItem("isAdmin")),console.log(this.isAdmin),this.isAdmin?(this.$isSharePointUrl&&(await this.getIdOfgroup(),this.getTargetRoleDefenitionId(),this.token=await this.getToken()),this.checkTheCurrentPerm(),this.isload=!0):(alert("מצטערים, אך אין לך גישה לעמוד זה..."),this.$router.go(-1))}};a("b7da");const ca=B()(ia,[["render",na],["__scopeId","data-v-864de33c"]]);var ra=ca;const la=e=>(Object(s["pushScopeId"])("data-v-1376a697"),e=e(),Object(s["popScopeId"])(),e),ma={key:0,class:"spinner"},da={key:1,class:"quiz-box"},ua={key:0},pa={key:0,class:"question"},ha={class:"questions-text"},ba={class:"current-que"},Oa=["onUpdate:modelValue","value","onClick","name","id","disabled"],ga=["for"],ja={class:"answers-text"},ka={key:2,class:"bank-quiz"},fa={class:"option-title"},va=["onUpdate:modelValue","id","value","onClick","disabled"],ya=["for"],xa={key:3},Ea={class:"que-title"},Na={class:"questions-without-ans"},Ba=["disabled"],Va=["disabled"],Ta=la(()=>Object(s["createElementVNode"])("span",{class:"finish-btn-text"}," סיים ",-1)),wa=[Ta];function Da(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ma,[Object(s["createVNode"])(c)])),n.isFinished&&n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",da,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.examData,(e,a)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("form",{key:a},[a==n.ite?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ua,[null!=e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",pa,[Object(s["createElementVNode"])("span",ha,Object(s["toDisplayString"])(e.Title),1),Object(s["createElementVNode"])("div",ba,Object(s["toDisplayString"])(n.ite+1)+"/"+Object(s["toDisplayString"])(n.examData.length),1)])):Object(s["createCommentVNode"])("",!0),"american"==e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:1,class:"answer-options",ref:e["Title"]},[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.answers,(t,o)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"answer-items",style:Object(s["normalizeStyle"])("--cursor:"+n.inputsCursor),key:o},[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t=>n.userData[e.Title]=t,ref:t,value:t,onClick:t=>i.clickHandler(t,a,e["Title"]),name:e.Title,id:t,disabled:n.userData[e.Title]},null,8,Oa),[[s["vModelRadio"],n.userData[e.Title]]]),Object(s["createElementVNode"])("label",{for:t},[Object(s["createElementVNode"])("div",ja,Object(s["toDisplayString"])(t),1)],8,ga)],4))),128))],512)):Object(s["createCommentVNode"])("",!0),"bankQue"==e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ka,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(Object.keys(e.bankOptions),(t,o)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"bank-quiz-que",key:t+o},[Object(s["createElementVNode"])("div",fa,Object(s["toDisplayString"])(t),1),Object(s["createElementVNode"])("div",{class:"VX",ref:t},null,512),Object(s["createElementVNode"])("div",{class:"bank-options",ref:t+o},[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.bankCorrect,(c,r)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"bank-words-items",key:c+r},[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":a=>n.bankUserData[e.Title][t]=a,id:c+o,value:c,onClick:s=>i.clickBankHandler(s,t,n.bankUserData[e.Title],a,o),disabled:""!=n.bankUserData[e.Title][t]},null,8,va),[[s["vModelRadio"],n.bankUserData[e.Title][t]]]),Object(s["createElementVNode"])("label",{class:"bank-options-text",for:c+o},Object(s["toDisplayString"])(c),9,ya)]))),128))],512)]))),128))])):Object(s["createCommentVNode"])("",!0),null==e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",xa,[Object(s["createElementVNode"])("div",Ea,"שאלה "+Object(s["toDisplayString"])(n.ite+1)+" נסו בעצמכם",1),Object(s["createElementVNode"])("div",Na,[Object(s["createElementVNode"])("span",null,Object(s["toDisplayString"])(e.Title),1)]),n.examData.length!=n.ite+1?(Object(s["openBlock"])(),Object(s["createElementBlock"])("button",{key:0,class:"next-btn-on-type-null",onClick:t[0]||(t[0]=(...e)=>i.nextQue&&i.nextQue(...e))},"הבא")):Object(s["createCommentVNode"])("",!0),n.examData.length==n.ite+1?(Object(s["openBlock"])(),Object(s["createElementBlock"])("button",{key:1,class:"next-btn-on-type-null",onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e))},"סיים")):Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0),n.ite!=n.examData.length-1&&null!=e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("button",{key:4,class:"next-button",onClick:t[2]||(t[2]=(...e)=>i.nextQue&&i.nextQue(...e)),ref:"nextBtn",disabled:!n.userData[e.Title]&&n.isDisabled,style:Object(s["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},"הבא",12,Ba)):Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0)]))),128)),n.examData.length==n.ite+1&&null!=n.examData[n.ite].type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("button",{key:0,onClick:t[3]||(t[3]=(...e)=>i.submit&&i.submit(...e)),class:"next-button",disabled:!n.isEndBtnAllow,ref:"endBtn",style:Object(s["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},wa,12,Va)):Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0)],64)}const Sa=e=>(Object(s["pushScopeId"])("data-v-fa609e52"),e=e(),Object(s["popScopeId"])(),e),Ca={key:0,class:"spinner"},Pa={key:1,class:"results-card"},Ia={class:"practice-results-score"},$a={class:"score-items"},Aa={class:"countRightsAns"},Fa={key:0,class:"results-table"},Ua=Sa(()=>Object(s["createElementVNode"])("thead",null,[Object(s["createElementVNode"])("tr",null,[Object(s["createElementVNode"])("th",null,"השאלה"),Object(s["createElementVNode"])("th",null,"התשובה שענית"),Object(s["createElementVNode"])("th",null,"התשובה הנכונה")])],-1)),La={class:"text"},qa={class:"text"},_a={class:"text"},Ra={class:"text"},Ma={class:"text"},Qa={class:"text"},Ga={class:"btn"},Ha=Object(s["createTextVNode"])("חזרה לתרגולים"),za=Object(s["createTextVNode"])("לסרטון בנושא"),Ja={key:1,class:"all-correct"},Wa=Sa(()=>Object(s["createElementVNode"])("span",null,"כל התשבות נכונות, עבודה מעולה !",-1)),Xa=[Wa];function Ka(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner"),r=Object(s["resolveComponent"])("circle-progress"),l=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ca,[Object(s["createVNode"])(c)])),n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Pa,[Object(s["createElementVNode"])("div",Ia,[Object(s["createElementVNode"])("div",$a,[Object(s["createVNode"])(r,{percent:n.score,"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:700},null,8,["percent"]),Object(s["createElementVNode"])("div",Aa,Object(s["toDisplayString"])(n.countRightsAns),1)])]),n.showMassaAllCorrect?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Fa,[Object(s["createElementVNode"])("table",null,[Ua,Object(s["createElementVNode"])("tbody",null,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.userResults,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("tr",{key:e},[Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",La,Object(s["toDisplayString"])(e.theCorrectAns),1)]),Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",qa,Object(s["toDisplayString"])(e.wrongAns),1)]),Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",_a,Object(s["toDisplayString"])(e.wrongQue),1)])]))),128)),(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.userBankResults,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("tr",{key:e},[Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",Ra,Object(s["toDisplayString"])(e.theCorrectBankAns),1)]),Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",Ma,Object(s["toDisplayString"])(e.wrongBankAns),1)]),Object(s["createElementVNode"])("td",null,[Object(s["createElementVNode"])("div",Qa,Object(s["toDisplayString"])(e.wrongBankQue),1)])]))),128))])]),Object(s["createElementVNode"])("div",Ga,[Object(s["createVNode"])(l,{class:"back-btn",to:{name:"PracticesList"}},{default:Object(s["withCtx"])(()=>[Ha]),_:1}),Object(s["createVNode"])(l,{class:"video-btn",to:{name:"PracticesList"}},{default:Object(s["withCtx"])(()=>[za]),_:1})])])),n.showMassaAllCorrect?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ja,Xa)):Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0)],64)}var Ya={name:"practiceResult",components:{CircleProgress:Ye.a,loadingSpinner:G},data(){return{userResults:[],userBankResults:[],score:"",showMassaAllCorrect:!1,isBankQue:!1,countRightsAns:null,isLoadForSpinner:!1,timeOut:null}},methods:{getData(){var e=localStorage.getItem("pointsInPerc");this.score=JSON.parse(e);var t=localStorage.getItem("results");this.userResults=JSON.parse(t);var a=localStorage.getItem("bankResults");this.userBankResults=JSON.parse(a),this.countRightsAns=localStorage.getItem("countRightsAns"),console.log(this.countRightsAns),0==this.userResults.length&&0==this.userBankResults.length&&(this.showMassaAllCorrect=!0),this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,300)}};a("3c3a");const Za=B()(Ya,[["render",Ka],["__scopeId","data-v-fa609e52"]]);var es=Za,ts={components:{practiceResult:es,loadingSpinner:G},data(){return{examData:[],userData:{},bankUserData:{},grades:0,isFinished:!1,isFinishedButton:!1,ite:0,inputsCursor:"pointer",nextBtnCursor:"not-allowed",wrongAns:"",wrongQue:"",theCorrectAns:"",results:[],bankResults:[],bankWrongAns:[],parseAns:[],isDisabled:!0,bankQuePoints:0,isLoadForSpinner:!1,isEndBtnAllow:!1,countRightsAns:0,queWithoutAns:0}},methods:{clickHandler(e,t,a){this.inputsCursor="not-allowed",this.nextBtnCursor="pointer";const s=e.target,o=s.value,n=this.examData[t]["correctAnswer"],i=this.$refs[a].children[n].querySelector("input"),c=i.value;var r=this.$refs["nextBtn"],l=this.$refs["endBtn"];o!=c?s.classList.add("input-answer-wrong"):(this.countRightsAns++,console.log(this.countRightsAns)),i.classList.add("input-answer-right"),this.ite!=this.examData.length-1&&(console.log("yess"),r.classList.add("next-btn-on")),t==this.examData.length-1&&(this.isEndBtnAllow=!0,l.classList.add("next-btn-on"))},clickBankHandler(e,t,a,s,o){var n=this.$refs[t+o];n.classList.add("bank-input-cursor"),this.checkIfcorrectBank(e,t,a,s),this.disableNextBtn(a),s==this.examData.length-1&&(this.isEndBtnAllow=!0,endBtn.classList.add("next-btn-on"))},checkIfcorrectBank(e,t,a,s){const o=e.target,n=o.value,i=this.$refs[t];var c=0;Object.keys(this.examData[s].bankOptions).forEach(e=>{c++}),n==this.examData[s].bankOptions[t]?(console.log("correct"),i.classList.add("input-bank-right"),this.bankQuePoints+=100/(this.examData.length-this.queWithoutAns)/c,this.countRightsAns++,console.log(this.countRightsAns)):(console.log("not correct"),i.classList.add("input-bank-wrong"),this.bankResults.push({wrongBankQue:this.examData[s].Title,wrongBankAns:n+": "+t,theCorrectBankAns:this.examData[s].bankOptions[t]+": "+t,type:"bankQue"}))},disableNextBtn(e){var t=0;if(Object.values(e).forEach(e=>{console.log(e),""==e&&t++}),t>1)this.isDisabled=!0;else{this.isDisabled=!1;const e=this.$refs["nextBtn"];e.classList.add("next-btn-on"),this.nextBtnCursor="pointer"}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},nextQue(){this.isDisabled=!0,this.inputsCursor="pointer",this.nextBtnCursor="not-allowed",this.ite++,this.isFinishedButton=!1},backQue(){this.ite--},updateVmodelAmerican(){this.examData.forEach(e=>{"american"==e.type&&(console.log("american"),this.userData[e.Title]="")}),this.isFinished=!0},updateVmodelBank(){this.examData.forEach(e=>{"bankQue"==e.type&&(this.bankUserData[e.Title]={},Object.keys(e.bankOptions).forEach(t=>{this.bankUserData[e.Title][t]=""}))}),console.log(this.bankUserData),this.isFinished=!0},submit(){this.$router.push({name:"result"}),this.examData.forEach(e=>{"american"==e.type&&(this.userData[e.Title]==e.answers[e.correctAnswer]?this.grades++:(this.wrongQue=e.Title,this.wrongAns=this.userData[e.Title],this.theCorrectAns=e.answers[e.correctAnswer],this.results.push({wrongQue:this.wrongQue,wrongAns:this.wrongAns,theCorrectAns:this.theCorrectAns,type:"AmerQue"})))});var e=Math.round(this.grades/(this.examData.length-this.queWithoutAns)*100+this.bankQuePoints);localStorage.setItem("pointsInPerc",JSON.stringify(e)),localStorage.setItem("results",JSON.stringify(this.results)),console.log(this.results),localStorage.setItem("bankResults",JSON.stringify(this.bankResults)),console.log(this.bankResults);var t=this.countRightsAns+"/"+(this.examData.length-this.queWithoutAns);localStorage.setItem("countRightsAns",t)},async getData(){var e=null;if(this.$isSharePointUrl){e=await x.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.title}')/Items`),this.examData=e.data.value;await Promise.all(this.examData.map(e=>this.asyncParse(e.answers).then(t=>(e["answers"]=t,{item:e})))),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankCorrect).then(t=>(e["bankCorrect"]=t,{item:e}))})),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankOptions).then(t=>(e["bankOptions"]=t,{bankOption:e}))}))}else e=await x.a.get(this.$sharePointUrl+"practice"),this.examData=e.data.value,this.examData=this.examData.filter(e=>e.Title==this.$route.params.title)[0],this.examData=this.examData.exam;this.examData.forEach(e=>{null==e.type&&this.queWithoutAns++}),console.log(this.examData.length),console.log(this.queWithoutAns)},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,500)})}},async beforeMount(){this.getData(),await this.asyncSetTimeout(),this.updateVmodelBank(),this.isLoadForSpinner=!0},mounted(){this.updateVmodelAmerican()}};a("135a");const as=B()(ts,[["render",Da],["__scopeId","data-v-1376a697"]]);var ss=as;const os=e=>(Object(s["pushScopeId"])("data-v-e831df7a"),e=e(),Object(s["popScopeId"])(),e),ns={key:0,class:"loader-spinner"},is={class:"title"},cs={key:1,class:"no-permission-mess"},rs=os(()=>Object(s["createElementVNode"])("h1",null,"אין לך הרשאות לעמוד זה...",-1)),ls=[rs],ms={key:2,class:"exam-box"},ds={class:"question"},us={class:"que-index"},ps={key:0,class:"american-answer-options"},hs=["onUpdate:modelValue","value","onChange","name","id"],bs={class:"label-text"},Os=["onInput","onUpdate:modelValue"],gs={key:3,class:"send"},js={key:0,class:"show-red-Warn"},ks={key:4,class:"alreadySubmitted"};function fs(e,t,a,o,n,i){const c=Object(s["resolveComponent"])("loadingSpinner");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[n.isLoadForSpinner?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ns,[Object(s["createVNode"])(c)])),Object(s["createElementVNode"])("div",is,Object(s["toDisplayString"])(),1),n.isExamsPer?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",cs,ls)),!n.isAlreadySub&&n.isLoadForSpinner&&n.isExamsPer?(Object(s["openBlock"])(),Object(s["createElementBlock"])("form",ms,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.examData,(t,a)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"exam",key:a},[Object(s["createElementVNode"])("div",ds,[Object(s["createElementVNode"])("div",us,Object(s["toDisplayString"])(a+1+"."),1),Object(s["createElementVNode"])("div",null,Object(s["toDisplayString"])(t.Title),1)]),"american"==t.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ps,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(t.options,(e,o)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("label",{class:Object(s["normalizeClass"])(["answer-items",{checked:n.examUserData[t.Title]===e}]),key:o,ref:"inputRef_"+a+o},[Object(s["createElementVNode"])("div",null,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":e=>n.examUserData[t.Title]=e,value:e,onChange:e=>i.clickHandler(e,n.examUserData[t.Title]+a,a,o),name:e,id:e,ref:"inputRef_"+a},null,40,hs),[[s["vModelRadio"],n.examUserData[t.Title]]])]),Object(s["createElementVNode"])("div",bs,Object(s["toDisplayString"])(e),1)],2))),128)),Object(s["createCommentVNode"])("",!0)])):Object(s["createCommentVNode"])("",!0),"open"==t.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{key:1,class:"open-que",ref:"inputRef_"+a},[Object(s["withDirectives"])(Object(s["createElementVNode"])("textarea",{id:"",cols:"30",rows:"10",placeholder:"הכנס תשובה",onInput:s=>i.clickHandler(s,n.examUserData[t.Title]+a,a,e.inner),"onUpdate:modelValue":e=>n.examUserData[t.Title]=e},null,40,Os),[[s["vModelText"],n.examUserData[t.Title]]])],512)):Object(s["createCommentVNode"])("",!0)]))),128))])):Object(s["createCommentVNode"])("",!0),!n.isAlreadySub&&n.isLoadForSpinner&&n.isExamsPer?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",gs,[n.showRedWarn?(Object(s["openBlock"])(),Object(s["createElementBlock"])("p",js,"* אנא בדוק שענית על כל השאלות")):Object(s["createCommentVNode"])("",!0),Object(s["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.sendData&&i.sendData(...e))},"סיים")])):Object(s["createCommentVNode"])("",!0),n.isAlreadySub&&n.isLoadForSpinner?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",ks," כבר הגשת מבחן זה... ")):Object(s["createCommentVNode"])("",!0)],64)}var vs={components:{loadingSpinner:G},data(){return{urlForTheExams:`https://portal.army.idf/sites/hafifon383/_api/web/Lists/getByTitle('${this.$route.params.Title}')/Items`,examData:[],examUserData:{},isUserDataEmpty:!0,boolIfEmpty:[],dataToPost:[],token:"",userName:"",userId:"",isExamsPer:!0,isAlreadySub:null,isLoadForSpinner:!1,examExistData:[],subRouterIsShow:!1,showRedWarn:!1,showRedWarnToAmerican:!1}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},clickHandler(e,t,a,s){this.showRedWarn=!1;this.$refs[`inputRef_${a}${s}`];const o=e.target.value;o.trim()?(this.isUserDataEmpty=!1,this.boolIfEmpty[a]=this.isUserDataEmpty,console.log(this.boolIfEmpty)):(this.boolIfEmpty[a]=!0,console.log(this.boolIfEmpty),console.log("is empty"))},async getToken(){const e=await x.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo");this.token=e.data.FormDigestValue,console.log(this.token)},postDataFormat(){Object.entries(this.examUserData).forEach(e=>{const[t,a]=e;this.dataToPost.push({Que:t,Ans:a})}),console.log(this.dataToPost)},async postExams(){var e=null;return console.log(this.examsName.subject),this.$isSharePointUrl?(await this.getToken(),e=await x.a.post(this.$sharePointUrl+"getByTitle('pending tests')/Items",{Title:this.userName,exam:JSON.stringify(this.dataToPost),num:this.userId,type:this.$route.params.Title,name:this.examsName.subject},{headers:{"X-RequestDigest":this.token}})):(console.log(this.$route.params),e=await x.a.post(this.$sharePointUrl+"pendingTests",{value:[{Title:"sdsdsd",exam:this.dataToPost,num:this.userId,type:this.$route.params.Title,name:this.examsName.subject}]})),"200"==e.status||"201"==e.status},submit(){var e=!0;this.boolIfEmpty.forEach(t=>{0!=t&&(e=!1)}),console.log(e),1==e?(this.showRedWarn=!1,this.subRouterIsShow=!0,console.log(this.examUserData)):this.showRedWarn=!0},showAlertConfirm(){this.$swal({title:"האם אתה בטוח",text:"האם אתה בטוח שברצונך להגיש מבחן זו ?",type:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, הגש מבחן"}).then(e=>{e.value&&(this.postDataFormat(),this.postExams()?(this.$swal({title:"Send",text:"נשלח בהצלחה",type:"success",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"סיים"}),this.$router.push({name:"submitted",params:{Title:this.$route.params.Title}})):this.$swal("Not Send","אירעה שגיעה","not succeeded"))})},async sendData(){this.submit();for(let t=0;t<this.boolIfEmpty.length;t++){console.log(this.$refs["inputRef_"+t]);var e=this.$refs["inputRef_"+t].children[0];if(1==this.boolIfEmpty[t])return this.$refs["inputRef_"+t].scrollIntoView({behavior:"smooth",block:"center"}),"open"==this.examData[t].type&&e.classList.add("text-aria-placeholder"),alert("אנא הכנס תשובה בשאלה "+(t+1))}1==this.subRouterIsShow&&this.showAlertConfirm()},checkIfExamExist(){return this.userId=localStorage.getItem("userId"),this.$isSharePointUrl?x.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.userId}') and (type eq '${this.$route.params.Title}')`).then(e=>e.data.value):x.a.get(this.$sharePointUrl+`pendingTests?num=${this.userId}&type=${this.$route.params.Title}`).then(e=>e.data.value)},spinner(){this.isLoadForSpinner=!0},pushToArrToCheckIfEmpty(){this.examData.forEach(e=>{this.boolIfEmpty.push(!0)}),console.log(this.boolIfEmpty)}},async beforeMount(){if(console.log(this.$route.params),this.userName=localStorage.getItem("userName"),console.log(this.userName),this.examsName=localStorage.getItem("examsName"),this.examsName=JSON.parse(this.examsName),this.examsName=this.examsName.filter(e=>e.Title==this.$route.params.Title)[0],console.log(this.examsName),this.examExistData=await this.checkIfExamExist(),console.log("yess"),this.$isSharePointUrl){try{console.log(this.examExistData),this.examExistData.length?(console.log("is full"),this.isLoadForSpinner=!0,this.isAlreadySub=!0):(console.log("is empty, you should see the exam"),this.isAlreadySub=!1)}catch{console.log("is empty, you should see the exam")}return console.log(this.isAlreadySub),x.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items`).then(e=>e.data.value).then(e=>{Promise.all(e.map(e=>this.asyncParse(e.options).then(t=>(e["options"]=t,{item:e}))));this.examData=e,console.log(this.examData);setTimeout(this.spinner,170);this.pushToArrToCheckIfEmpty()}).catch(e=>{console.log(e),this.isExamsPer=!1,console.log(this.isExamsPer),this.isLoadForSpinner=!0})}return x.a.get(this.$sharePointUrl+""+this.$route.params.Title).then(e=>{this.examData=e.data.value,console.log(this.examData),this.isAlreadySub=!1;setTimeout(this.spinner,170);this.pushToArrToCheckIfEmpty()}).catch(e=>{404===e.response.status&&(this.isExamsPer=!1,console.log(this.isExamsPer),this.isLoadForSpinner=!0)})},mounted(){this.examData.forEach(e=>{this.examUserData[e.Title]=""}),console.log(this.examUserData)}};a("2bec");const ys=B()(vs,[["render",fs],["__scopeId","data-v-e831df7a"]]);var xs=ys;const Es={class:"title"};function Ns(e,t,a,o,n,i){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Es,"המבחן הוגש בהצלחה")}var Bs={};a("8904");const Vs=B()(Bs,[["render",Ns],["__scopeId","data-v-5876e149"]]);var Ts=Vs;const ws=e=>(Object(s["pushScopeId"])("data-v-4a0610a3"),e=e(),Object(s["popScopeId"])(),e),Ds={class:"exam"},Ss={class:"que"},Cs={class:"que-title"},Ps={class:"que-index"},Is={class:"points"},$s=ws(()=>Object(s["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),As={class:"ans"},Fs=ws(()=>Object(s["createElementVNode"])("p",{class:"comments-title"},"הערות הבודק\\ת:",-1)),Us={key:0},Ls={key:1,class:"comments"},qs=ws(()=>Object(s["createElementVNode"])("div",{class:"under-line"},null,-1));function _s(e,t,a,o,n,i){return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ds,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(n.checkedExam[n.examType],(t,a)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"exam-checked",key:t},[Object(s["createElementVNode"])("div",Ss,[Object(s["createElementVNode"])("div",Cs,[Object(s["createElementVNode"])("div",Ps,Object(s["toDisplayString"])(a+1+"."),1),Object(s["createTextVNode"])(" "+Object(s["toDisplayString"])(t.Que),1)]),Object(s["createElementVNode"])("div",Is,Object(s["toDisplayString"])(t.Points)+"/"+Object(s["toDisplayString"])(i.showTheGradeOutOf(e.val)),1)]),$s,Object(s["createElementVNode"])("div",As,Object(s["toDisplayString"])(t.Ans),1),Fs,t.Comments?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Us,"אין הערות")),t.Comments?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",Ls," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est tenetur maxime ipsum, illo, in doloremque cumque dolores dolore numquam consectetur id, unde enim non sapiente repellat iure voluptatibus quis. Sint possimus deserunt porro incidunt corporis perferendis fugit tempora voluptatibus. Nostrum, ut similique voluptatibus totam iste, vero tenetur distinctio numquam rerum commodi repellendus, quae nam rem! Rerum blanditiis, recusandae harum itaque asperiores, illo dolores numquam nisi tempora mollitia facilis laboriosam neque culpa ipsa exercitationem in similique tenetur temporibus est ratione explicabo dolore qui quos. Modi, corrupti quidem blanditiis quis ad impedit obcaecati repellat at tempore necessitatibus suscipit ratione facere eaque, aliquam error quisquam commodi unde. Aut aliquam accusantium, esse odio est, illum veniam repellendus maxime quaerat modi mollitia numquam deserunt dolorem, temporibus minima architecto? Unde laborum velit earum ipsa odit numquam eius quod expedita magni aut doloremque totam sunt, possimus voluptates sed veritatis porro quisquam nihil eaque quia ad ipsam aliquid exercitationem distinctio. Inventore dignissimos totam ad quae earum vel in magni dolorem. Distinctio provident nesciunt tenetur, odit pariatur, maxime atque ipsum ab impedit architecto nihil ut magnam voluptate quasi eligendi, neque ullam ducimus et ipsa mollitia a? Fugiat dignissimos, quibusdam recusandae ad consequuntur, quas repellat eius nam neque repudiandae ullam? ")):Object(s["createCommentVNode"])("",!0),qs]))),128))])}var Rs={data(){return{checkedExam:[],examType:null,userId:null,fullcheckedExam:[],exam:[]}},methods:{async getdata(){var e=null;e=this.$isSharePointUrl?await x.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'&$select=${this.examType}`):await x.a.get(this.$sharePointUrl+`students?num='${this.userId}'`),this.checkedExam=e.data.value,this.parseData(),console.log(this.checkedExam),console.log(this.fullcheckedExam)},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async parseData(){Promise.all(this.checkedExam.map(e=>this.asyncParse(e[this.examType]).then(t=>(this.fullcheckedExam=[...t],e[this.examType]=t.filter(e=>"finalGrade"!=Object.keys(e)),{item:e}))));this.checkedExam=this.checkedExam[0]},showTheGradeOutOf(e){var t=100/this.checkedExam[this.examType].length;return t.toFixed(1)}},beforeMount(){this.examType=this.$route.params.title,this.userId=localStorage.getItem("userId"),this.getdata()}};a("d3d9");const Ms=B()(Rs,[["render",_s],["__scopeId","data-v-4a0610a3"]]);var Qs=Ms;const Gs=[{path:"/",name:"HomePage",component:J},{path:"/Practices",name:"PracticesList",component:ve},{path:"/User",name:"User",component:tt},{path:"/User/:title",name:"CheckedExams",component:Qs},{path:"/Admin/MainCheckPage",name:"MainCheckPage",component:St},{path:"/Admin/examsToCheck/:num/:examType",name:"examsToCheck",component:Kt,props:!0},{path:"/Admin/openPermForExams",name:"openPerm",component:ra,props:!0},{path:"/examsToCheck/:num/:examType/submitted",name:"submitted",component:Ts,props:!0},{path:"/exams/:Title",name:"exams",component:xs,props:e=>({...e.params})},{path:"/exams/:Title/submitted",name:"submitted",component:Ts,props:e=>({...e.params})},{path:"/Practices/:title",name:"beforeEnterQuiz",component:je,props:e=>({...e.params})},{path:"/Practices/:title/quiz",name:"quiz",component:ss,props:e=>({...e.params})},{path:"/Practices/:title/result",name:"result",component:es,props:e=>({...e.params})}],Hs=Object(C["a"])({history:Object(C["b"])(""),routes:Gs});var zs=Hs,Js=a("f9d5"),Ws=a.n(Js);a("4413");const Xs=Object(s["createApp"])(S);Xs.config.globalProperties.$sharePointUrl="https://portal.army.idf/sites/hafifon383/_api/web/Lists/",Xs.config.globalProperties.$isSharePointUrl=!0,Xs.use(zs),Xs.use(Ws.a),Xs.mount("#app")},"580a":function(e,t,a){e.exports=a.p+"img/xrm.0eb906a3.jpg"},"65c1":function(e,t,a){},"6d61":function(e,t,a){"use strict";a("7df1")},"713a":function(e,t,a){e.exports=a.p+"img/bios.ea33ba68.png"},7632:function(e,t,a){},"7df1":function(e,t,a){},"80e6":function(e,t,a){e.exports=a.p+"img/onlineCourse.fd2b6fae.jpg"},8134:function(e,t,a){e.exports=a.p+"img/CMD.4a05cdd1.png"},8904:function(e,t,a){"use strict";a("baf3")},"8e4a":function(e,t,a){e.exports=a.p+"img/mail.b1be72ce.jpg"},"914e":function(e,t,a){e.exports=a.p+"img/communication.51737fd5.png"},"91b7":function(e,t,a){},9313:function(e,t,a){},"9db6":function(e,t,a){e.exports=a.p+"img/printer.8bd0f703.jpg"},a163:function(e,t,a){"use strict";a("be8e")},a270:function(e,t,a){},b7b7:function(e,t,a){"use strict";a("eac9")},b7da:function(e,t,a){"use strict";a("a270")},baf3:function(e,t,a){},be8e:function(e,t,a){},c442:function(e,t,a){e.exports=a.p+"img/homePageBackground.4bcf9a61.png"},c7f8:function(e,t,a){},d3d9:function(e,t,a){"use strict";a("1eb6")},d580:function(e,t,a){e.exports=a.p+"img/logo-removebg-preview.6251c3fd.png"},df0b:function(e,t,a){e.exports=a.p+"img/active-directory-logo2.6af63782.png"},e0d7:function(e,t,a){e.exports=a.p+"img/fileServer.9953c2a0.jpg"},e9b5:function(e,t,a){"use strict";a("9313")},eac9:function(e,t,a){},ec12:function(e,t,a){},ed98:function(e,t,a){e.exports=a.p+"img/mivzOper.996f2a76.png"},fd40:function(e,t,a){e.exports=a.p+"img/KioskServlet.3c3587b1.jpg"}});
//# sourceMappingURL=app.010324e0.js.map