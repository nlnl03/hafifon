(function(e){function t(t){for(var a,i,c=t[0],r=t[1],l=t[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);m&&m(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,c=1;c<s.length;c++){var r=s[c];0!==o[r]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},o={app:0},n=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var m=r;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0a4d":function(e,t,s){"use strict";s("252e")},"110f":function(e,t,s){},1771:function(e,t,s){var a={"./Assistant-Regular.ttf":"33e1","./CMD.png":"8134","./KioskServlet.jpg":"fd40","./SCCM.png":"4f4b","./active-directory-logo2.png":"df0b","./bios.png":"713a","./communication.png":"914e","./disc.png":"183b","./fileServer.jpg":"e0d7","./homePageBackground.png":"c442","./installation.jpg":"3e86","./mail.jpg":"8e4a","./mainLogo.png":"b5de","./mivzOper.png":"ed98","./onlineCourse.jpg":"80e6","./pc.jpg":"1e5e","./printer.jpg":"9db6","./takalot.jpg":"3722","./xrm.jpg":"580a"};function o(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=n,e.exports=o,o.id="1771"},"183b":function(e,t,s){e.exports=s.p+"img/disc.75e57f0a.png"},"1b00":function(e,t,s){},"1e5e":function(e,t,s){e.exports=s.p+"img/pc.f8de9fed.jpg"},"215b":function(e,t,s){},"252e":function(e,t,s){},"2b33":function(e,t,s){},"33e1":function(e,t,s){e.exports=s.p+"fonts/Assistant-Regular.5193a037.ttf"},"36dd":function(e,t,s){"use strict";s("1b00")},3722:function(e,t,s){e.exports=s.p+"img/takalot.bc954f09.jpg"},"38b9":function(e,t,s){"use strict";s("2b33")},"3c3a":function(e,t,s){"use strict";s("91b7")},"3e86":function(e,t,s){e.exports=s.p+"img/installation.7ea70fac.jpg"},4594:function(e,t,s){},"4dcf":function(e,t,s){},"4f4b":function(e,t,s){e.exports=s.p+"img/SCCM.4e98334e.png"},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("7a23");const o={key:1};function n(e,t,s,n,i,c){const r=Object(a["resolveComponent"])("MainNavbar"),l=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[c.isNotFoundRoute?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0})),i.scroll>=300?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("button",{class:"scroll-to-top",onClick:t[0]||(t[0]=(...e)=>c.scrollToTop&&c.scrollToTop(...e))}," ▲ ")])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(l)],64)}const i=e=>(Object(a["pushScopeId"])("data-v-252bb1d5"),e=e(),Object(a["popScopeId"])(),e),c={class:"main-nav"},r=Object(a["createTextVNode"])(" חפיפה "),l=Object(a["createTextVNode"])(" לאיזור אישי "),m={class:"menu"},d={class:"nav-bar"},u=i(()=>Object(a["createElementVNode"])("span",null,"ממשק מנהלים",-1)),p={key:0,class:"admin-drop-down-menu"},h={class:"admin-drop-down-list"},b={class:"admin-drop-down-list"},O=i(()=>Object(a["createElementVNode"])("span",null,"בחנים",-1)),g={key:0,class:"drop-down-menu"},j=["onClick"],k=Object(a["createTextVNode"])("תרגולים");function f(e,t,s,o,n,i){const f=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createVNode"])(f,{class:"home-title",to:{name:"HomePage"}},{default:Object(a["withCtx"])(()=>[r]),_:1}),Object(a["createVNode"])(f,{to:{name:"User"},class:"user-title"},{default:Object(a["withCtx"])(()=>[l]),_:1}),Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("ul",null,[Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("button",{class:"final-test-btn",onClick:t[0]||(t[0]=e=>i.checkIfhasPermToExams())},"המבחן הסופי")])]),Object(a["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[3]||(t[3]=e=>n.isOpen=!0),onMouseleave:t[4]||(t[4]=e=>n.isOpen=!1)},[u,n.isOpen?(Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",p,[Object(a["createElementVNode"])("li",h,[Object(a["createElementVNode"])("button",{class:"admin-routers",onClick:t[1]||(t[1]=e=>i.openAdminComp("MainCheckPage"))}," בדיקת מבחנים")]),Object(a["createElementVNode"])("li",b,[Object(a["createElementVNode"])("button",{class:"admin-routers",onClick:t[2]||(t[2]=e=>i.openAdminComp("openPerm"))}," פתיחת הרשאות למבחנים")])])):Object(a["createCommentVNode"])("",!0)],32),Object(a["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[5]||(t[5]=e=>n.isExamsDropOpen=!0),onMouseleave:t[6]||(t[6]=e=>n.isExamsDropOpen=!1)},[O,n.isExamsDropOpen?(Object(a["openBlock"])(),Object(a["createElementBlock"])("ul",g,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.examsName,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:e,class:"drop-down-list"},[Object(a["createElementVNode"])("button",{class:"drop-down-items",onClick:t=>i.checkIfhasPermToExams(e)},Object(a["toDisplayString"])(e.subject),9,j)]))),128))])):Object(a["createCommentVNode"])("",!0)],32),Object(a["createElementVNode"])("li",null,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(f,{to:{name:"PracticesList"}},{default:Object(a["withCtx"])(()=>[k]),_:1})])])])])])])}var v=s("bc3a"),y=s.n(v),E={name:"MainNavbar",data(){return{isExamsDropOpen:!1,isOpen:!1,examsPerm:[],examsName:[],isAdmin:null,url:"https://portal.army.idf/sites/hafifon383/_api/web/Lists/getByTitle('testsNames')/Items"}},methods:{async getNameOfExams(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('testsNames')/Items"):await y.a.get(this.$sharePointUrl+"testsNames"),this.examsName=e.data.value,localStorage.setItem("examsName",JSON.stringify(this.examsName)),this.examsName=this.examsName.filter(e=>"finalTest"!==e.Title)},openAdminComp(e){console.log(e),this.isAdmin?this.$router.push({name:e}):alert("מצטערים, אך אין לך גישה לעמוד זה...")},async checkIfhasPermToExams(e){var t=null,s=null;t=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('isPermissionActive')/Items"):await y.a.get(this.$sharePointUrl+"isPermissionActive");var a=t.data.value;void 0!==e?(s=e.Title,this.examsPerm=a.filter(e=>e.type==s)[0],console.log(this.examsPerm)):(s="finalTest",this.examsPerm=a.filter(e=>e.type==s)[0],console.log(this.examsPerm)),console.log(this.isAdmin),1==this.examsPerm.isAllow||1==this.isAdmin?(console.log("admin "+this.isAdmin),console.log("premission "+this.examsPerm.isAllow),this.$router.push({name:"beforeStartingExam",params:{Title:s}})):(console.log("no permission"),this.$router.push({name:"noPermission",params:{Title:s}}))},async checkIfAdmin(){var e=null;return e=this.$isSharePointUrl?this.$sharePointUrl+"getByTitle('AdminCheck')/Items":this.$sharePointUrl+"AdminCheck",y.a.get(e).then(e=>e.data.value).then(e=>!!e.length)}},async beforeMount(){this.getNameOfExams(),this.isAdmin=await this.checkIfAdmin(),console.log(this.isAdmin)}},B=(s("f460"),s("d959")),x=s.n(B);const N=x()(E,[["render",f],["__scopeId","data-v-252bb1d5"]]);var w=N,V={name:"App",components:{MainNavbar:w},data(){return{token:null,currentUser:"https://portal.army.idf/sites/gdud0383/Team/_api/web/currentUser",urlForToken:"https://portal.army.idf/sites/hafifon383/_api/contextinfo",Id:null,userName:null,userNum:null,isAdmin:null,scroll:null}},methods:{scrollToTop(){console.log(window.pageYOffset),window.scrollTo({top:0,behavior:"smooth"})},async getToken(){const e=await y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo");this.token=e.data.FormDigestValue},async getCurrentUser(){const e=await y.a.get(this.currentUser);this.currentUserData=e.data;var t=this.currentUserData.LoginName.split("s");this.userNum=t[1],this.Id=this.currentUserData.Id;const s=this.currentUserData.Title.split(" -");this.userName=s[0],localStorage.setItem("userName",this.userName),localStorage.setItem("userId",this.Id),localStorage.setItem("userNum",this.userNum),console.log(this.Id)},showScrollBtn(){this.scroll=window.scrollY}},beforeMount(){this.getCurrentUser()},created(){window.addEventListener("scroll",this.showScrollBtn)},unmounted(){window.removeEventListener("scroll",this.showScrollBtn)},computed:{isNotFoundRoute(){return this.$route.matched.some(e=>e.meta.notFound)}}};s("38b9");const S=x()(V,[["render",n]]);var T=S,A=s("6c02");const C=e=>(Object(a["pushScopeId"])("data-v-c555b088"),e=e(),Object(a["popScopeId"])(),e),I={key:0,class:"loading-spinner"},D={class:"container"},P={class:"main-background"},$={key:0,class:"welcome"},L=C(()=>Object(a["createElementVNode"])("h1",null,"ברוכים הבאים לאתר חפיפה",-1)),U={class:"name"};function F(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoad?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",I,[Object(a["createVNode"])(c)])),Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("div",P,[n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$,[L,Object(a["createElementVNode"])("div",U,[Object(a["createElementVNode"])("h2",null,"שלום "+Object(a["toDisplayString"])(n.userName),1)])])):Object(a["createCommentVNode"])("",!0)])])],64)}const R={class:"spin"};function q(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",R)}var M={name:"loadingSpinner"};s("b7b7");const Q=x()(M,[["render",q],["__scopeId","data-v-a129ab64"]]);var H=Q,G={name:"HomePage",components:{loadingSpinner:H},data(){return{currentUserData:[],Id:null,isLoad:!1,timeOut:null,token:"",userName:""}},methods:{async getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async checkIfUser(){if(this.Id=localStorage.getItem("userId"),this.userName=localStorage.getItem("userName"),console.log(this.Id),console.log(this.$isSharePointUrl),this.$isSharePointUrl){const t=await y.a.get(this.$sharePointUrl+`getByTitle('students')/items?$filter=num eq '${this.Id}'`),s=t.data.value;if(console.log(s),this.token=await this.getToken(),console.log(this.token),!s.length)try{await y.a.post(this.$sharePointUrl+"getByTitle('students')/items",{Title:this.userName,num:this.Id,exam1:null,exam2:null,exam3:null,exam4:null,finalTest:null},{headers:{"X-RequestDigest":this.token}})}catch(e){console.log(e.message)}}this.isLoad=!0,console.log(this.isLoad)}},beforeMount(){setTimeout(this.checkIfUser,500)}};s("c9bf");const z=x()(G,[["render",F],["__scopeId","data-v-c555b088"]]);var _=z;const W=e=>(Object(a["pushScopeId"])("data-v-72f2f66d"),e=e(),Object(a["popScopeId"])(),e),J={key:0,class:"loader-spinner"},Z={key:1,class:"main"},Y=W(()=>Object(a["createElementVNode"])("h1",null,"תרגולים",-1)),X=W(()=>Object(a["createElementVNode"])("div",{class:"text-under-line"},null,-1)),K={class:"container-cards"},ee={class:"flex-cards"},te=["src"],se={class:"inner-flex"},ae={class:"text"},oe={class:"num-of-que"};function ne(e,t,o,n,i,c){const r=Object(a["resolveComponent"])("loadingSpinner"),l=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[i.isLoad?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",J,[Object(a["createVNode"])(r)])),i.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Z,[Y,X,Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("div",ee,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.practices,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"items",key:e},[Object(a["createVNode"])(l,{class:"router-text",to:{name:"beforeEnterQuiz",params:{practices:JSON.stringify(e),title:e.Title}}},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("img",{class:"image-of-items",src:s("1771")("./"+e.Img)},null,8,te),Object(a["createElementVNode"])("div",se,[Object(a["createElementVNode"])("h4",ae,Object(a["toDisplayString"])(e.Subject),1),Object(a["createElementVNode"])("span",oe,"מספר שאלות: "+Object(a["toDisplayString"])(e.numOfQue),1)])]),_:2},1032,["to"])]))),128))])])])):Object(a["createCommentVNode"])("",!0)],64)}const ie=e=>(Object(a["pushScopeId"])("data-v-7a329edf"),e=e(),Object(a["popScopeId"])(),e),ce={key:0,class:"spiner"},re={key:1,class:"main-container"},le={key:0,class:"about-quiz"},me={class:"quiz-subject"},de=ie(()=>Object(a["createElementVNode"])("div",{class:"quiz-info"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Qui nesciunt eius corrupti expedita necessitatibus voluptatum cumque odit deleniti aspernatur ex, pariatur assumenda labore. Vitae quasi et esse at doloremque ut aliquam, voluptate ab totam aspernatur eius earum reiciendis iste dolor aperiam saepe error eos culpa nobis nisi repellendus inventore quis, temporibus odit? Recusandae autem repellat vitae tempore repudiandae accusantium in illo quidem? Impedit, perspiciatis dignissimos. At numquam non corporis architecto quidem quaerat, ad accusantium ab fuga voluptas minima quam cupiditate ipsam, accusamus praesentium tenetur assumenda, quasi sunt adipisci aliquid necessitatibus? Doloribus ipsum praesentium, ipsa sapiente cumque voluptatem iure error repellendus. ",-1)),ue={class:"start-back-buttons"},pe=Object(a["createTextVNode"])(" התחל תרגול");function he(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ce,[Object(a["createVNode"])(c)])),n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",re,[e.isShow?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",le,[Object(a["createElementVNode"])("div",me,Object(a["toDisplayString"])(n.Subject),1),de,Object(a["createElementVNode"])("div",ue,[Object(a["createElementVNode"])("button",{class:"back-btn",onClick:t[0]||(t[0]=e=>i.goBack())},"בחזרה לתרגולים"),Object(a["createVNode"])(r,{class:"start-btn",to:{name:"quiz"}},{default:Object(a["withCtx"])(()=>[pe]),_:1})])]))])):Object(a["createCommentVNode"])("",!0)],64)}var be={name:"beforeEnterQuiz",components:{loadingSpinner:H},data(){return{results:[],Subject:"",isLoadForSpinner:!1,timeOut:null}},methods:{goBack(){this.$router.go(-1)},async getData(){if(this.$isSharePointUrl){const e=await y.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items");this.results=e.data.value,this.results=this.results.filter(e=>e.Title==this.$route.params.title)[0],this.Subject=this.results.Subject}this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,150)}};s("e9b5");const Oe=x()(be,[["render",he],["__scopeId","data-v-7a329edf"]]);var ge=Oe,je={name:"PracticesList",components:{beforeEnterQuiz:ge,loadingSpinner:H},data(){return{practices:[],isLoad:!1,timeOut:null}},methods:{async getPractices(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items"):await y.a.get(this.$sharePointUrl+"practice"),this.practices=e.data.value,this.isLoad=!0}},async beforeMount(){this.timeOut=setTimeout(this.getPractices,200)}};s("a163");const ke=x()(je,[["render",ne],["__scopeId","data-v-72f2f66d"]]);var fe=ke;const ve=e=>(Object(a["pushScopeId"])("data-v-50d17c78"),e=e(),Object(a["popScopeId"])(),e),ye={class:"main-page"},Ee=ve(()=>Object(a["createElementVNode"])("h1",null,"האיזור האישי",-1)),Be=ve(()=>Object(a["createElementVNode"])("div",{class:"under-line"},null,-1)),xe={class:"main"},Ne={class:"right-side-flex"},we={class:"name-progress-details"},Ve={class:"personal-info"},Se={class:"personal-info-items"},Te={class:"inner-right-flex"},Ae={key:0,class:"name-detail"},Ce=ve(()=>Object(a["createElementVNode"])("div",{class:"hafifa-nickname"}," חפיפון מתחיל ",-1)),Ie=ve(()=>Object(a["createElementVNode"])("div",{class:"inner-left-flex"},[Object(a["createElementVNode"])("img",{class:"user-image",src:"http://www.portalhr.leshem.idf/KioskServlet?infoOrPic=pic"})],-1)),De={class:"progress-info"},Pe={class:"users-progress-item"},$e={key:0,class:"title"},Le={key:1,class:"spinner-for-progress"},Ue={key:2,class:"progress-circle-how-much"},Fe={class:"left-side-flex"},Re={key:0,class:"spinner"},qe={class:"grid-container"},Me={class:"average"},Qe=ve(()=>Object(a["createElementVNode"])("span",{class:"items-title"},"ממוצע ציונים ",-1)),He={class:"items-title"},Ge={key:0,class:"the-grades"},ze={key:1,class:"the-grades-no-examdata"},_e={class:"show-exam"},We=Object(a["createTextVNode"])("לצפייה במבחן");function Je(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("circle-progress"),l=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ye,[Ee,Be,Object(a["createElementVNode"])("div",xe,[Object(a["createElementVNode"])("div",Ne,[Object(a["createElementVNode"])("div",we,[Object(a["createElementVNode"])("div",Ve,[Object(a["createElementVNode"])("div",Se,[Object(a["createElementVNode"])("div",Te,[n.isFinished?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ae,[Object(a["createElementVNode"])("h2",null,Object(a["toDisplayString"])(n.userName),1)])):Object(a["createCommentVNode"])("",!0),Ce]),Ie])]),Object(a["createElementVNode"])("div",De,[Object(a["createElementVNode"])("div",Pe,[n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",$e,"כמה עברתי מהחפיפה ?")):Object(a["createCommentVNode"])("",!0),n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Le,[Object(a["createVNode"])(c)])),n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ue,[Object(a["createVNode"])(r,{percent:i.calcTotalProgress(e.val),"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:600},null,8,["percent"])])):Object(a["createCommentVNode"])("",!0)])])])]),Object(a["createElementVNode"])("div",Fe,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Re,[Object(a["createVNode"])(c)])),Object(a["withDirectives"])(Object(a["createElementVNode"])("div",qe,[Object(a["createElementVNode"])("div",Me,[Qe,Object(a["createElementVNode"])("span",{class:"gradeAv",ref:"gradeAv"},Object(a["toDisplayString"])(n.average),513)]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.onlyExamData,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(i.dynamicGridClass(t+1))},[Object(a["createElementVNode"])("span",He,Object(a["toDisplayString"])(n.examsNames[t].subject),1),null!=e?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Ge,Object(a["toDisplayString"])(e[e.length-1]["finalGrade"]),1)):Object(a["createCommentVNode"])("",!0),null==e?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",ze,"עוד לא הוזן")):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",_e,[null!=e?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,class:"exam-Checked-router",to:{name:"CheckedExams",params:{title:n.examsNames[t].Title}}},{default:Object(a["withCtx"])(()=>[We]),_:2},1032,["to"])):Object(a["createCommentVNode"])("",!0)])],2)]))),128))],512),[[a["vShow"],n.isLoadForSpinner]])])])])}var Ze=s("78da"),Ye=s.n(Ze),Xe=(s("872e"),{components:{CircleProgress:Ye.a,loadingSpinner:H},data(){return{userDetails:[],gradesAvera:[],userName:"",isFinished:!1,userId:"",checkedExamData:[],onlyExamData:[],examsNames:[],hafifaProgress:null,isLoad:!1,average:null,timeOut:null,isGradeAve:!1,isLoadForSpinner:!1,isCalculated:!1,onlyExam:null}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async parseData(){if(this.examsNames=localStorage.getItem("examsName"),this.examsNames=JSON.parse(this.examsNames),console.log(this.examsNames),!this.$isSharePointUrl)return this.examsNames;this.examsNames.forEach(e=>{Promise.all(this.checkedExamData.map(t=>this.asyncParse(t[e.Title]).then(s=>(t[e.Title]=s,{item:t}))))})},async getCheckedExam(){this.userId=localStorage.getItem("userId"),console.log(this.userId);return this.$isSharePointUrl?y.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'`).then(e=>e.data.value):y.a.get(this.$sharePointUrl+"students?num="+this.userId).then(e=>(console.log(e.data),e.data.value))},async filterToExamsOnly(){return await this.parseData(),new Promise(e=>{console.log("yesss"),this.$isSharePointUrl,this.examsNames.forEach(e=>{this.onlyExamData.push(this.checkedExamData[0][e.Title])}),console.log(this.onlyExamData),e(this.onlyExamData)})},dynamicGridClass(e){return"test-"+e+"-score"},calcTotalProgress(e){var t=0;return this.onlyExamData.forEach(e=>{null!=e&&t++}),0==t?0:t/this.onlyExamData.length*100},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,300)})},getUserName(){var e=localStorage.getItem("userName");this.userName=e},calcGradesAve(){console.log(this.onlyExamData);var e=0,t=0,s="אין מידע",a=this.onlyExamData.length;if(console.log(a),console.log(this.onlyExamData),this.onlyExamData.forEach(s=>{null!=s?(console.log("usdfjdh"),e+=s[s.length-1]["finalGrade"]):(t++,a=this.onlyExamData.length-t)}),console.log(t),a)this.average=e/a;else{console.log("is 0");let e=this.$refs["gradeAv"];console.log(e),e.style.fontSize="35px",this.average=s}}},async beforeMount(){await this.asyncSetTimeout(),this.getUserName(),this.isFinished=!0,this.checkedExamData=await this.getCheckedExam(),await this.filterToExamsOnly(),this.calcGradesAve(),this.isLoadForSpinner=!0}});s("9659");const Ke=x()(Xe,[["render",Je],["__scopeId","data-v-50d17c78"]]);var et=Ke;function tt(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("HafifaCheckMainCompo");return Object(a["openBlock"])(),Object(a["createBlock"])(c)}const st=e=>(Object(a["pushScopeId"])("data-v-ea8b70f8"),e=e(),Object(a["popScopeId"])(),e),at={key:0,class:"loading-spinner"},ot={class:"box"},nt={key:0,class:"box-flex"},it={class:"count-students-cicrcle"},ct={class:"count-students-items"},rt=st(()=>Object(a["createElementVNode"])("div",{class:"ave-title"}," מבחנים לבדיקה ",-1)),lt={class:"students-in-hafifa"},mt={class:"average-cicrcle"},dt={class:"average-items"},ut=st(()=>Object(a["createElementVNode"])("div",{class:"ave-title"}," ממוצע ציונים ",-1)),pt={class:"progress-circle"},ht={class:"select-title"},bt={class:"selected-option",ref:"selectTitle"},Ot={class:"exams-list-options"},gt=["onClick"],jt={key:1,class:"title"},kt={key:2,class:"accordion"},ft=["onClick","value"],vt={class:"text"},yt={key:0,class:"accordion-content"},Et={key:3,class:"when-empty"};function Bt(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("circle-progress"),l=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoad?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",at,[Object(a["createVNode"])(c)])),Object(a["createElementVNode"])("div",ot,[n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",nt,[Object(a["createElementVNode"])("div",it,[Object(a["createElementVNode"])("div",ct,[rt,Object(a["createElementVNode"])("div",lt,Object(a["toDisplayString"])(n.userData.length),1)])]),Object(a["createElementVNode"])("div",mt,[Object(a["createElementVNode"])("div",dt,[ut,Object(a["createElementVNode"])("div",pt,[Object(a["createVNode"])(r,{percent:n.gradrPerExam,size:140,"show-percent":!0,"fill-color":i.changeAveColor(n.gradrPerExam),viewport:!0,transition:600},null,8,["percent","fill-color"])]),n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"select-to-show-ave-menu",onClick:t[0]||(t[0]=(...e)=>i.toggleOptions&&i.toggleOptions(...e)),ref:"fixTitleWidth"},[Object(a["createElementVNode"])("div",ht,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["select-option-arrow",{rotate:n.showOptions}])},"▼",2),Object(a["createElementVNode"])("div",bt,"בחר מבחן",512)]),Object(a["withDirectives"])(Object(a["createElementVNode"])("ul",Ot,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.testsNames,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("li",{key:t,onClick:t=>i.selectOption(e)},Object(a["toDisplayString"])(e.subject),9,gt))),128))],512),[[a["vShow"],n.showOptions]])],512)):Object(a["createCommentVNode"])("",!0)])])])):Object(a["createCommentVNode"])("",!0),n.examTitlesFiltered.length&&n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",jt,"מבחנים הממתינים לבדיקה")):Object(a["createCommentVNode"])("",!0),n.isLoad&&n.examTitlesFiltered.length>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",kt,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.examTitlesFiltered,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"accordion-item",key:e},[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["accordion-header",{active:n.ite===t&&n.isOpen}]),onClick:s=>i.OpenAccordion(e,t),ref:e+t,value:e},[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["accordion-arrow",{rotate:n.ite===t&&n.isOpen}])},"▼",2),Object(a["createElementVNode"])("div",vt,Object(a["toDisplayString"])(e),1)],10,ft),n.isOpen&&n.ite==t?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",yt,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.userInfoFilterd,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"name-of-hafifot",key:e},[Object(a["createVNode"])(l,{to:{name:"examsToCheck",path:`/examsToCheck/${e.num}/${e.type}`,params:{examType:e.type,num:e.num}},onClick:t=>i.passName(e)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.Title),1)]),_:2},1032,["to","onClick"])]))),128))])):Object(a["createCommentVNode"])("",!0)]))),128))])):Object(a["createCommentVNode"])("",!0),!n.examTitlesFiltered.length&&n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Et," אין מבחנים לבדיקה ")):Object(a["createCommentVNode"])("",!0)])],64)}var xt={name:"HafifaCheckMainCompo",components:{CircleProgress:Ye.a,loadingSpinner:H},data(){return{examTitlesFiltered:[],userData:[],isOpen:!1,ite:0,getBtnVal:null,userInfoFilterd:[],isLoad:!1,testsNames:[],showOptions:null,gradrPerExam:0}},methods:{passName(e){localStorage.setItem("infoName",e.Title)},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},toggleOptions(){this.showOptions=!this.showOptions},async getGrades(e){var t=null,s=null;if(this.$isSharePointUrl){t=await y.a.get(this.$sharePointUrl+"getByTitle('students')/items?$select="+e.Title),s=t.data.value;await Promise.all(s.map(t=>this.asyncParse(t[e.Title]).then(s=>(t[e.Title]=s,{item:t}))));console.log(s)}else t=await y.a.get(this.$sharePointUrl+"students"),console.log(t.data),s=t.data;var a=s.map(t=>t[e.Title]);console.log(a);var o=a.map(e=>{if(null!=e)return e.map(e=>e.finalGrade).filter(e=>void 0!==e)}).flat().filter(e=>void 0!==e);console.log(o),this.calcAve(o)},selectOption(e){var t=this.$refs["selectTitle"];console.log(t),t.innerHTML=e.subject;var s=this.$refs["fixTitleWidth"];"המבחן הסופי"==e.subject?(console.log("yes"),s.style.width="125px"):s.style.width="100px",this.getGrades(e)},async filterTitles(){this.examTitlesFiltered=this.userData.map(e=>e.name);const e=this.examTitlesFiltered;this.examTitlesFiltered=this.filterArrayOfTitles(e),console.log(this.examTitlesFiltered)},filterArrayOfTitles(e){return e.filter((t,s)=>e.indexOf(t)===s)},async getData(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('pending tests')/Items"):await y.a.get(this.$sharePointUrl+"pendingTests"),this.userData=e.data.value,console.log(this.userData)},async OpenAccordion(e,t){this.ite=t,this.getBtnVal=await this.$refs[e+t].value,console.log(this.getBtnVal),this.userInfoFilterd=await this.userData.filter(e=>e.name==this.getBtnVal),console.log(this.userInfoFilterd),this.isOpen=!this.isOpen},changeAveColor(e){return e>=80?"#2E8B57":e>=60&&e<80?"var(--main-background-color)":"rgb(175 11 11)"},showAveOnEachTest(e){console.log(e)},calcAve(e){console.log("yews"),console.log(e);let t=0,s=0;if(e.length){for(let a=0;a<e.length;a++)t+=e[a],s++;return 0===s?0:(this.gradrPerExam=t/s,console.log(this.gradrPerExam),this.gradrPerExam)}return this.gradrPerExam=0,console.log(this.gradrPerExam),this.gradrPerExam},timeOutForSpinner(){this.isLoad=!0}},async beforeMount(){var e=JSON.parse(localStorage.getItem("examsName"));this.testsNames=e,console.log(this.testsNames),await this.getData(),await this.filterTitles();setTimeout(this.timeOutForSpinner,250)}};s("f108");const Nt=x()(xt,[["render",Bt],["__scopeId","data-v-ea8b70f8"]]);var wt=Nt,Vt={components:{HafifaCheckMainCompo:wt}};const St=x()(Vt,[["render",tt]]);var Tt=St;const At=e=>(Object(a["pushScopeId"])("data-v-2a62103e"),e=e(),Object(a["popScopeId"])(),e),Ct={key:0,class:"loading-spinner"},It={key:1,class:"exam-box"},Dt={class:"que-index"},Pt={key:0,class:"regular-que"},$t={class:"que-text"},Lt=At(()=>Object(a["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Ut={class:"answer-options"},Ft={class:"answer-items"},Rt={class:"select-right-wrong"},qt={class:"choose-points"},Mt=["max","onUpdate:modelValue","onChange"],Qt={class:"comments"},Ht=["onUpdate:modelValue"],Gt={key:1,class:"sub-que"},zt={class:"que-text"},_t=At(()=>Object(a["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Wt={class:"answer-options"},Jt={class:"answer-items"},Zt={class:"select-right-wrong"},Yt={class:"choose-points"},Xt=["max","onUpdate:modelValue","onChange"],Kt={class:"comments"},es=["onUpdate:modelValue"],ts={class:"bottom-of-page"},ss={key:0,class:"warning-title"},as={class:"send"};function os(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoad?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ct,[Object(a["createVNode"])(c)])),n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("form",It,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.examData,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"exam",key:t},[Object(a["createElementVNode"])("div",Dt,Object(a["toDisplayString"])(t+1+"."),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.questions,(t,s)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"question",key:s},["regularQue"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Pt,[Object(a["createElementVNode"])("div",$t,Object(a["toDisplayString"])(t.que),1),Lt,Object(a["createElementVNode"])("div",Ut,[Object(a["createElementVNode"])("div",Ft,Object(a["toDisplayString"])(e.inputAns),1),Object(a["createElementVNode"])("div",Rt,[Object(a["createElementVNode"])("span",qt,"*בחר ניקוד (מקס' "+Object(a["toDisplayString"])(e.points)+" נק')",1),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"number",min:"0",max:t.points,step:"any","onUpdate:modelValue":t=>e.pointsReceived=t,placeholder:"אנא בחר ניקוד",onChange:t=>i.handler(t,e.id,e.points),ref:"inputRef_"+e.id},null,40,Mt),[[a["vModelText"],e.pointsReceived]])]),Object(a["createElementVNode"])("div",Qt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":t=>e.comments=t,placeholder:"הכנס הערות (אופציונלי)"},null,8,Ht),[[a["vModelText"],e.comments]])])])])):Object(a["createCommentVNode"])("",!0),"subQue"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gt,[Object(a["createElementVNode"])("div",zt,Object(a["toDisplayString"])(i.getHebLetters(s))+"."+Object(a["toDisplayString"])(t.que),1),_t,Object(a["createElementVNode"])("div",Wt,[Object(a["createElementVNode"])("div",Jt,Object(a["toDisplayString"])(t.inputAns),1),Object(a["createElementVNode"])("div",Zt,[Object(a["createElementVNode"])("span",Yt,"*בחר ניקוד (מקס' "+Object(a["toDisplayString"])(t.points)+" נק')",1),Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"number",min:"0",max:t.points,step:"any","onUpdate:modelValue":e=>t.pointsReceived=e,placeholder:"אנא בחר ניקוד",onChange:e=>i.handler(e,t.id,t.points),ref:"inputRef_"+t.id},null,40,Xt),[[a["vModelText"],t.pointsReceived]])]),Object(a["createElementVNode"])("div",Kt,[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":e=>t.comments=e,placeholder:"הכנס הערות (אופציונלי)"},null,8,es),[[a["vModelText"],t.comments]])])])])):Object(a["createCommentVNode"])("",!0)]))),128))]))),128)),Object(a["createElementVNode"])("div",ts,[n.isOpenWarn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ss,"*אנא בדוק שניקדת את כל השאלות")):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",as,[Object(a["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.submit&&i.submit(...e))},"הגש")])])])):Object(a["createCommentVNode"])("",!0)],64)}var ns={components:{loadingSpinner:H},data(){return{examData:[],vModelData:{},isLoad:!1,pointsForEachQue:null,examLength:null,pointsArray:[],isOpenWarn:!1,finalGrade:0,isChecExamNotExist:!1,token:"",id:null,pendingTestId:null,dataToPost:[],commentsData:{},examType:null,alreadyCalc:!1,fullUserDataToHistory:null}},methods:{getHebLetters(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},pushToArrToCheckGrade(){this.examData.forEach(e=>{e.questions.forEach(e=>{this.pointsArray.push(null)})}),console.log(this.pointsArray)},handler(e,t,s){console.log(this.vModelData),this.isOpenWarn=!1;var a=e.target.value;console.log(a),this.pointsArray[t]=a>=0&&a<=s?parseFloat(a):null,console.log(this.pointsArray)},postDataFormat(){this.dataToPost=[...this.examData],this.dataToPost.push({finalGrade:this.finalGrade}),console.log(this.dataToPost)},async calcFinalGrade(){return new Promise(e=>{this.pointsArray.forEach(e=>{this.finalGrade+=e}),console.log(this.finalGrade),e(this.finalGrade)})},checkIfAllIsFull(){var e=null,t=!0;return this.pointsArray.forEach((s,a)=>{console.log(""+a+s),s||(t=!1,e=this.$refs["inputRef_"+a],e.scrollIntoView({behavior:"smooth",block:"center"}),console.log(e),e.classList.add("input-placeholder"))}),t},async showAlertConfirm(){try{const e=await new Promise(e=>{this.$swal({icon:"warning",title:"האם אתה בטוח שברצונך להגיש בדיקה זו ?",type:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, שלח בדיקה"}).then(t=>{e(t)})});e.isConfirmed&&(await this.calcFinalGrade(),this.postDataFormat(),this.postData())}catch(e){console.log(e)}},submit(){1==this.checkIfAllIsFull()?this.showAlertConfirm():this.isOpenWarn=!0},getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getId(){return this.$isSharePointUrl?y.a.get(this.$sharePointUrl+"getByTitle('students')/Items?$filter=num eq "+this.$route.params.num).then(e=>e.data.value[0].ID):(console.log(this.$route.params),y.a.get(this.$sharePointUrl+"students?num="+this.$route.params.num).then(e=>e.data[0].id))},async postData(){if(this.id=await this.getId(),console.log(this.id),this.$isSharePointUrl){this.token=await this.getToken();const t=await y.a.post(this.$sharePointUrl+`getByTitle('students')/Items('${this.id}')`,{__metadata:{type:"SP.Data.StudentsListItem"},[this.examType]:JSON.stringify(this.dataToPost)},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),await this.postToHistoryList(),this.delDataFromPending(),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}else{console.log(this.id);const t=await y.a.patch(this.$sharePointUrl+"students/"+this.id,{[this.examType]:this.dataToPost});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),await this.postToHistoryList(),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}},async delDataFromPending(){if(this.$isSharePointUrl){this.token=await this.getToken(),console.log(this.token);await y.a.post(this.$sharePointUrl+`getByTitle('pending tests')/Items('${this.pendingTestId}')`,{__metadata:{type:"SP.Data.Pending_x0020_testsListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},timeOutForSpinner(){this.isLoad=!0},calcTheGrade(){this.pointsForEachQue=100/this.examLength,console.log(this.pointsForEachQue)},async postToHistoryList(){this.fullUserDataToHistory=this.dataToPost,console.log(this.fullUserDataToHistory);const e=new Date;if(this.$isSharePointUrl)return this.token=await this.getToken(),new Promise((t,s)=>y.a.post(this.$sharePointUrl+"getByTitle('hafifotHistory')/Items",{Title:localStorage.getItem("infoName"),num:this.$route.params.num,group:e,[this.examType]:JSON.stringify(this.fullUserDataToHistory)},{headers:{"X-RequestDigest":this.token}}).then(e=>e.data).then(e=>{t(e)}))}},async beforeMount(){if(console.log(this.$route.params.examType),this.examType=this.$route.params.examType,this.$isSharePointUrl){const e=await y.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.$route.params.num}') and (type eq '${this.$route.params.examType}')`);this.examData=e.data.value,this.pendingTestId=e.data.value[0].ID;await Promise.all(this.examData.map(e=>this.asyncParse(e.exam).then(t=>(e["exam"]=t,{item:e}))));this.examData=this.examData[0].exam,console.log(this.examData)}else{const e=await y.a.get(this.$sharePointUrl+`pendingTests/?num=${this.$route.params.num}&type=${this.$route.params.examType}`);this.examData=e.data.value,this.examData=e.data.value[0].exam,console.log(this.examData)}this.examLength=this.examData.length,console.log(this.examLength),this.calcTheGrade();setTimeout(this.timeOutForSpinner,200);this.pushToArrToCheckGrade(),console.log(this.$route.params)},mounted(){this.examData.forEach(e=>{this.vModelData=""})}};s("92ad");const is=x()(ns,[["render",os],["__scopeId","data-v-2a62103e"]]);var cs=is;const rs=e=>(Object(a["pushScopeId"])("data-v-de479638"),e=e(),Object(a["popScopeId"])(),e),ls={class:"main"},ms=rs(()=>Object(a["createElementVNode"])("div",{class:"title"},"פתיחת הרשאות",-1)),ds={class:"permission"},us={class:"permission-flex"},ps={class:"permission-title"},hs={key:0,class:"switch"},bs=["checked","onClick"],Os=rs(()=>Object(a["createElementVNode"])("span",{class:"slider round"},null,-1));function gs(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ls,[ms,Object(a["createElementVNode"])("div",ds,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.currentPermission,(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"permisson-items",key:e},[Object(a["createElementVNode"])("div",us,[Object(a["createElementVNode"])("span",ps,Object(a["toDisplayString"])(e.Title)+":",1),n.isload?(Object(a["openBlock"])(),Object(a["createElementBlock"])("label",hs,[Object(a["createElementVNode"])("input",{type:"checkbox",checked:e.isAllow,onClick:s=>i.openPerm(e,t),ref:e+t},null,8,bs),Os])):Object(a["createCommentVNode"])("",!0)])]))),128))])])}var js={data(){return{urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,targetRoleDefId:null,token:null,currentPermission:[],Id:null,isload:!1}},methods:{async getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getIdOfgroup(){const e=await y.a.get(this.urlForId);this.groupId=e.data.value,console.log(this.groupId)},async getTargetRoleDefenitionId(){const e=await y.a.get("https://portal.army.idf/sites/hafifon383/_api/web/roledefinitions/getbyname('שליטה מלאה')/id");this.targetRoleDefId=e.data.value,console.log(this.targetRoleDefId)},async setNewPermForGroup(e){return y.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/addroleassignment(principalid='${this.groupId}' ,roledefid='${this.targetRoleDefId}')`,{},{headers:{"X-RequestDigest":this.token}})},async openPerm(e,t){var s=null,a=this.$refs[e+t];await this.getPermListId(e),a.checked?(s=!0,this.setNewPermForGroup(e),this.updatePerm(s)):(s=!1,this.updatePerm(s),this.deletePer(e)),console.log(a),console.log(s)},async checkTheCurrentPerm(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('isPermissionActive')/items"):await y.a.get(this.$sharePointUrl+"isPermissionActive"),this.currentPermission=e.data.value},async updatePerm(e){await y.a.post(this.$sharePointUrl+`getByTitle('isPermissionActive')/Items('${this.Id}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"},isAllow:e},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async deletePer(e){await y.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async getPermListId(e){const t=await y.a.get(this.$sharePointUrl+`getByTitle('isPermissionActive')/items?$filter=type eq '${e.type}'`);this.Id=t.data.value[0].ID,console.log(this.Id)}},async beforeMount(){this.$isSharePointUrl&&(await this.getIdOfgroup(),this.getTargetRoleDefenitionId(),this.token=await this.getToken()),this.checkTheCurrentPerm(),this.isload=!0}};s("8fbf");const ks=x()(js,[["render",gs],["__scopeId","data-v-de479638"]]);var fs=ks;const vs=e=>(Object(a["pushScopeId"])("data-v-72a64a28"),e=e(),Object(a["popScopeId"])(),e),ys={key:0,class:"spinner"},Es={key:1,class:"quiz-box"},Bs={key:0},xs={key:0,class:"question"},Ns={class:"questions-text"},ws={class:"current-que"},Vs=["onUpdate:modelValue","value","onClick","name","id","disabled"],Ss=["for"],Ts={class:"answers-text"},As={key:2,class:"bank-quiz"},Cs={class:"option-title"},Is=["onUpdate:modelValue","id","value","onClick","disabled"],Ds=["for"],Ps={key:3},$s={class:"que-title"},Ls={class:"questions-without-ans"},Us={key:4,class:"drag-drop"},Fs=["disabled"],Rs=["disabled"],qs=vs(()=>Object(a["createElementVNode"])("span",{class:"finish-btn-text"}," סיים ",-1)),Ms=[qs];function Qs(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("dragAndDrop");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ys,[Object(a["createVNode"])(c)])),n.isFinished&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Es,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.examData,(e,s)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("form",{key:s},[s==n.ite?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Bs,[null!=e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",xs,[Object(a["createElementVNode"])("span",Ns,Object(a["toDisplayString"])(e.Title),1),Object(a["createElementVNode"])("div",ws,Object(a["toDisplayString"])(n.ite+1)+"/"+Object(a["toDisplayString"])(n.examData.length),1)])):Object(a["createCommentVNode"])("",!0),"american"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:1,class:"answer-options",ref:e["Title"]},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.answers,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"answer-items",style:Object(a["normalizeStyle"])("--cursor:"+n.inputsCursor),key:o},[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t=>n.userData[e.Title]=t,ref:t,value:t,onClick:t=>i.clickHandler(t,s,e["Title"]),name:e.Title,id:t,disabled:n.userData[e.Title]},null,8,Vs),[[a["vModelRadio"],n.userData[e.Title]]]),Object(a["createElementVNode"])("label",{for:t},[Object(a["createElementVNode"])("div",Ts,Object(a["toDisplayString"])(t),1)],8,Ss)],4))),128))],512)):Object(a["createCommentVNode"])("",!0),"bankQue"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",As,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Object.keys(e.bankOptions),(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"bank-quiz-que",key:t+o},[Object(a["createElementVNode"])("div",Cs,Object(a["toDisplayString"])(t),1),Object(a["createElementVNode"])("div",{class:"VX",ref:t},null,512),Object(a["createElementVNode"])("div",{class:"bank-options",ref:t+o},[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.bankCorrect,(c,r)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"bank-words-items",key:c+r},[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":s=>n.bankUserData[e.Title][t]=s,id:c+o,value:c,onClick:a=>i.clickBankHandler(a,t,n.bankUserData[e.Title],s,o),disabled:""!=n.bankUserData[e.Title][t]},null,8,Is),[[a["vModelRadio"],n.bankUserData[e.Title][t]]]),Object(a["createElementVNode"])("label",{class:"bank-options-text",for:c+o},Object(a["toDisplayString"])(c),9,Ds)]))),128))],512)]))),128))])):Object(a["createCommentVNode"])("",!0),null==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ps,[Object(a["createElementVNode"])("div",$s,"שאלה "+Object(a["toDisplayString"])(n.ite+1)+" נסו בעצמכם",1),Object(a["createElementVNode"])("div",Ls,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.Title),1)]),n.examData.length!=n.ite+1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"next-btn-on-type-null",onClick:t[0]||(t[0]=(...e)=>i.nextQue&&i.nextQue(...e))},"הבא")):Object(a["createCommentVNode"])("",!0),n.examData.length==n.ite+1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,class:"next-btn-on-type-null",onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e))},"סיים")):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),"dragDrop"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Us,[Object(a["createVNode"])(r,{question:e},null,8,["question"])])):Object(a["createCommentVNode"])("",!0),n.ite!=n.examData.length-1&&null!=e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:5,class:"next-button",onClick:t[2]||(t[2]=(...e)=>i.nextQue&&i.nextQue(...e)),ref:"nextBtn",disabled:!n.userData[e.Title]&&n.isDisabled,style:Object(a["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},"הבא",12,Fs)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]))),128)),n.examData.length==n.ite+1&&null!=n.examData[n.ite].type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,onClick:t[3]||(t[3]=(...e)=>i.submit&&i.submit(...e)),class:"next-button",disabled:!n.isEndBtnAllow,ref:"endBtn",style:Object(a["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},Ms,12,Rs)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)],64)}const Hs=e=>(Object(a["pushScopeId"])("data-v-fa609e52"),e=e(),Object(a["popScopeId"])(),e),Gs={key:0,class:"spinner"},zs={key:1,class:"results-card"},_s={class:"practice-results-score"},Ws={class:"score-items"},Js={class:"countRightsAns"},Zs={key:0,class:"results-table"},Ys=Hs(()=>Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",null,"השאלה"),Object(a["createElementVNode"])("th",null,"התשובה שענית"),Object(a["createElementVNode"])("th",null,"התשובה הנכונה")])],-1)),Xs={class:"text"},Ks={class:"text"},ea={class:"text"},ta={class:"text"},sa={class:"text"},aa={class:"text"},oa={class:"btn"},na=Object(a["createTextVNode"])("חזרה לתרגולים"),ia=Object(a["createTextVNode"])("לסרטון בנושא"),ca={key:1,class:"all-correct"},ra=Hs(()=>Object(a["createElementVNode"])("span",null,"כל התשבות נכונות, עבודה מעולה !",-1)),la=[ra];function ma(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("circle-progress"),l=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Gs,[Object(a["createVNode"])(c)])),n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",zs,[Object(a["createElementVNode"])("div",_s,[Object(a["createElementVNode"])("div",Ws,[Object(a["createVNode"])(r,{percent:n.score,"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:700},null,8,["percent"]),Object(a["createElementVNode"])("div",Js,Object(a["toDisplayString"])(n.countRightsAns),1)])]),n.showMassaAllCorrect?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Zs,[Object(a["createElementVNode"])("table",null,[Ys,Object(a["createElementVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.userResults,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e},[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",Xs,Object(a["toDisplayString"])(e.theCorrectAns),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",Ks,Object(a["toDisplayString"])(e.wrongAns),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",ea,Object(a["toDisplayString"])(e.wrongQue),1)])]))),128)),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.userBankResults,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:e},[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",ta,Object(a["toDisplayString"])(e.theCorrectBankAns),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",sa,Object(a["toDisplayString"])(e.wrongBankAns),1)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",aa,Object(a["toDisplayString"])(e.wrongBankQue),1)])]))),128))])]),Object(a["createElementVNode"])("div",oa,[Object(a["createVNode"])(l,{class:"back-btn",to:{name:"PracticesList"}},{default:Object(a["withCtx"])(()=>[na]),_:1}),Object(a["createVNode"])(l,{class:"video-btn",to:{name:"PracticesList"}},{default:Object(a["withCtx"])(()=>[ia]),_:1})])])),n.showMassaAllCorrect?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ca,la)):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)],64)}var da={name:"practiceResult",components:{CircleProgress:Ye.a,loadingSpinner:H},data(){return{userResults:[],userBankResults:[],score:"",showMassaAllCorrect:!1,isBankQue:!1,countRightsAns:null,isLoadForSpinner:!1,timeOut:null}},methods:{getData(){var e=localStorage.getItem("pointsInPerc");this.score=JSON.parse(e);var t=localStorage.getItem("results");this.userResults=JSON.parse(t);var s=localStorage.getItem("bankResults");this.userBankResults=JSON.parse(s),this.countRightsAns=localStorage.getItem("countRightsAns"),console.log(this.countRightsAns),0==this.userResults.length&&0==this.userBankResults.length&&(this.showMassaAllCorrect=!0),this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,300)}};s("3c3a");const ua=x()(da,[["render",ma],["__scopeId","data-v-fa609e52"]]);var pa=ua;const ha=e=>(Object(a["pushScopeId"])("data-v-401c39de"),e=e(),Object(a["popScopeId"])(),e),ba={class:"drag-drop-box"},Oa={class:"options"},ga=["value"],ja=ha(()=>Object(a["createElementVNode"])("input",{type:"radio"},null,-1));function ka(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ba,[Object(a["createElementVNode"])("div",Oa,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(Object.keys(n.question.dragOptions),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("label",{class:"option-items",key:t,value:t+1,draggable:"true"},[ja,Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e),1)],8,ga))),128))])])}var fa={name:"dragAndDrop",props:{question:Array},data(){return{question:this.question}},methods:{dragStart(e,t){}},async beforeMount(){}};s("de8b");const va=x()(fa,[["render",ka],["__scopeId","data-v-401c39de"]]);var ya=va,Ea={components:{practiceResult:pa,loadingSpinner:H,dragAndDrop:ya},data(){return{examData:[],userData:{},bankUserData:{},grades:0,isFinished:!1,isFinishedButton:!1,ite:0,inputsCursor:"pointer",nextBtnCursor:"not-allowed",wrongAns:"",wrongQue:"",theCorrectAns:"",results:[],bankResults:[],bankWrongAns:[],parseAns:[],isDisabled:!0,bankQuePoints:0,isLoadForSpinner:!1,isEndBtnAllow:!1,countRightsAns:0,queWithoutAns:0}},methods:{clickHandler(e,t,s){this.inputsCursor="not-allowed",this.nextBtnCursor="pointer";const a=e.target,o=a.value,n=this.examData[t]["correctAnswer"],i=this.$refs[s].children[n].querySelector("input"),c=i.value;var r=this.$refs["nextBtn"],l=this.$refs["endBtn"];o!=c?a.classList.add("input-answer-wrong"):(this.countRightsAns++,console.log(this.countRightsAns)),i.classList.add("input-answer-right"),this.ite!=this.examData.length-1&&(console.log("yess"),r.classList.add("next-btn-on")),t==this.examData.length-1&&(this.isEndBtnAllow=!0,l.classList.add("next-btn-on"))},clickBankHandler(e,t,s,a,o){var n=this.$refs[t+o];n.classList.add("bank-input-cursor"),this.checkIfcorrectBank(e,t,s,a),this.disableNextBtn(s),a==this.examData.length-1&&(this.isEndBtnAllow=!0,endBtn.classList.add("next-btn-on"))},checkIfcorrectBank(e,t,s,a){const o=e.target,n=o.value,i=this.$refs[t];var c=0;Object.keys(this.examData[a].bankOptions).forEach(e=>{c++}),n==this.examData[a].bankOptions[t]?(console.log("correct"),i.classList.add("input-bank-right"),this.bankQuePoints+=100/(this.examData.length-this.queWithoutAns)/c,this.countRightsAns++,console.log(this.countRightsAns)):(console.log("not correct"),i.classList.add("input-bank-wrong"),this.bankResults.push({wrongBankQue:this.examData[a].Title,wrongBankAns:n+": "+t,theCorrectBankAns:this.examData[a].bankOptions[t]+": "+t,type:"bankQue"}))},disableNextBtn(e){var t=0;if(Object.values(e).forEach(e=>{console.log(e),""==e&&t++}),t>1)this.isDisabled=!0;else{this.isDisabled=!1;const e=this.$refs["nextBtn"];e.classList.add("next-btn-on"),this.nextBtnCursor="pointer"}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},nextQue(){this.isDisabled=!0,this.inputsCursor="pointer",this.nextBtnCursor="not-allowed",this.ite++,this.isFinishedButton=!1},backQue(){this.ite--},updateVmodelAmerican(){this.examData.forEach(e=>{"american"==e.type&&(console.log("american"),this.userData[e.Title]="")}),this.isFinished=!0},updateVmodelBank(){this.examData.forEach(e=>{"bankQue"==e.type&&(this.bankUserData[e.Title]={},Object.keys(e.bankOptions).forEach(t=>{this.bankUserData[e.Title][t]=""}))}),console.log(this.bankUserData),this.isFinished=!0},submit(){this.$router.push({name:"result"}),this.examData.forEach(e=>{"american"==e.type&&(this.userData[e.Title]==e.answers[e.correctAnswer]?this.grades++:(this.wrongQue=e.Title,this.wrongAns=this.userData[e.Title],this.theCorrectAns=e.answers[e.correctAnswer],this.results.push({wrongQue:this.wrongQue,wrongAns:this.wrongAns,theCorrectAns:this.theCorrectAns,type:"AmerQue"})))});var e=Math.round(this.grades/(this.examData.length-this.queWithoutAns)*100+this.bankQuePoints);localStorage.setItem("pointsInPerc",JSON.stringify(e)),localStorage.setItem("results",JSON.stringify(this.results)),console.log(this.results),localStorage.setItem("bankResults",JSON.stringify(this.bankResults)),console.log(this.bankResults);var t=this.countRightsAns+"/"+(this.examData.length-this.queWithoutAns);localStorage.setItem("countRightsAns",t)},async getData(){var e=null;if(this.$isSharePointUrl){e=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.title}')/Items`),this.examData=e.data.value;await Promise.all(this.examData.map(e=>this.asyncParse(e.answers).then(t=>(e["answers"]=t,{item:e})))),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankCorrect).then(t=>(e["bankCorrect"]=t,{item:e}))})),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankOptions).then(t=>(e["bankOptions"]=t,{bankOption:e}))}))}else e=await y.a.get(this.$sharePointUrl+"practice"),this.examData=e.data.value,this.examData=this.examData.filter(e=>e.Title==this.$route.params.title)[0],this.examData=this.examData.exam;this.examData.forEach(e=>{null==e.type&&this.queWithoutAns++}),console.log(this.examData.length),console.log(this.queWithoutAns)},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,500)})}},async beforeMount(){this.getData(),await this.asyncSetTimeout(),this.updateVmodelBank(),this.isLoadForSpinner=!0},mounted(){this.updateVmodelAmerican()}};s("d342");const Ba=x()(Ea,[["render",Qs],["__scopeId","data-v-72a64a28"]]);var xa=Ba;const Na=e=>(Object(a["pushScopeId"])("data-v-847a0160"),e=e(),Object(a["popScopeId"])(),e),wa={class:"main"},Va={key:0,class:"loader-spinner"},Sa={key:1,class:"box"},Ta={class:"name-of-exam"},Aa=Na(()=>Object(a["createElementVNode"])("h2",{class:"instructions-title"},"לפני שמתחילים אנא קרא/י את ההוראות:",-1)),Ca={class:"instructions"},Ia=Na(()=>Object(a["createElementVNode"])("div",{class:"router-text"},"התחל",-1));function Da(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",wa,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Va,[Object(a["createVNode"])(c)])),n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Sa,[Object(a["createElementVNode"])("div",Ta,Object(a["toDisplayString"])(n.title),1),Aa,Object(a["createElementVNode"])("div",Ca,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.instructions,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"instructions-items",key:e},Object(a["toDisplayString"])(e),1))),128))]),Object(a["createVNode"])(r,{to:{name:"exams",params:{Title:this.$route.params.Title}},class:"start-btn",onClick:e.startBtn},{default:Object(a["withCtx"])(()=>[Ia]),_:1},8,["to","onClick"])])):Object(a["createCommentVNode"])("",!0)])}var Pa={components:{loadingSpinner:H},data(){return{title:null,isLoadForSpinner:!1,instructions:[]}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async getInstructions(){var e=null;if(this.$isSharePointUrl){e=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items?$select=instructions`);var t=e.data.value;await Promise.all(t.map(e=>this.asyncParse(e.instructions).then(t=>(e.instructions=t,{item:e}))));this.instructions=t[0].instructions}else{console.log(this.$sharePointUrl),e=await y.a.get(this.$sharePointUrl+this.$route.params.Title);const t=e.data.value[0];this.instructions=t.instructions}console.log(this.instructions)},spinner(){this.isLoadForSpinner=!0}},async beforeMount(){var e=localStorage.getItem("examsName");e=JSON.parse(e),this.title=e.filter(e=>e.Title==this.$route.params.Title)[0],this.title=this.title.subject,console.log(this.title),this.getInstructions();setTimeout(this.spinner,250)}};s("36dd");const $a=x()(Pa,[["render",Da],["__scopeId","data-v-847a0160"]]);var La=$a;const Ua={key:0,class:"loader-spinner"},Fa={class:"title-timer"},Ra={key:0,class:"title"},qa={key:1,class:"timer"},Ma={key:1,class:"exam-box"},Qa={class:"que-index"},Ha={key:0,class:"regular-que"},Ga={class:"question"},za={class:"que-text"},_a=["onInput","onUpdate:modelValue"],Wa={key:1,class:"sub-que"},Ja={class:"que-text"},Za=["onInput","onUpdate:modelValue"],Ya={key:1,class:"american-answer-options"},Xa=["onUpdate:modelValue","value","onChange","name","id"],Ka={class:"label-text"},eo={key:2,class:"send"},to={key:0,class:"show-red-Warn"},so={key:3,class:"alreadySubmitted"};function ao(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner"),r=Object(a["resolveComponent"])("timer");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ua,[Object(a["createVNode"])(c)])),Object(a["createElementVNode"])("div",Fa,[!n.isAlreadySub&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ra,Object(a["toDisplayString"])(e.examsName.subject),1)):Object(a["createCommentVNode"])("",!0),!n.isAlreadySub&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",qa,[Object(a["createVNode"])(r,{totalTime:5,routeName:n.routerName},null,8,["routeName"])])):Object(a["createCommentVNode"])("",!0)]),!n.isAlreadySub&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("form",Ma,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.examData.exam,(t,s)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"exam",key:s},[Object(a["createElementVNode"])("span",Qa,Object(a["toDisplayString"])(s+1+"."),1),"regularQue"==t.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ha,[Object(a["createElementVNode"])("div",Ga,[Object(a["createElementVNode"])("div",za,Object(a["toDisplayString"])(t.questions[0]["que"]),1),"open"==t.questions[0].type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"open-que",ref:"inputRef_"+t.id},[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{id:"",cols:"30",rows:"10",placeholder:"הכנס תשובה",onInput:a=>i.clickHandler(a,s,e.inner,e.subIndex,t.id),"onUpdate:modelValue":e=>t.inputAns=e},"\r\n                            ",40,_a),[[a["vModelText"],t.inputAns]])],512)):Object(a["createCommentVNode"])("",!0)])])):Object(a["createCommentVNode"])("",!0),"subQue"==t.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Wa,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.questions,(t,o)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"question",key:o},[Object(a["createElementVNode"])("div",Ja,Object(a["toDisplayString"])(i.getHebLetters(o))+". "+Object(a["toDisplayString"])(t.que),1),"open"==t.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"open-que",ref:"inputRef_"+t.id},[Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{id:"",cols:"30",rows:"10",placeholder:"הכנס תשובה",onInput:a=>i.clickHandler(a,s,e.inner,o,t.id),"onUpdate:modelValue":e=>t.inputAns=e},"\r\n                        ",40,Za),[[a["vModelText"],t.inputAns]])],512)):Object(a["createCommentVNode"])("",!0),"american"==t.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ya,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.options,(e,c)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("label",{class:Object(a["normalizeClass"])(["answer-items",{checked:n.examUserData[t.Title]===e}]),key:c,ref:"inputRef_"+s+c},[Object(a["createElementVNode"])("div",null,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":e=>t.inputAns=e,value:e,onChange:e=>i.clickHandler(e,s,c,o,t.id),name:e,id:e,ref:"inputRef_"+s},null,40,Xa),[[a["vModelRadio"],t.inputAns]])]),Object(a["createElementVNode"])("div",Ka,Object(a["toDisplayString"])(e),1)],2))),128)),Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)]))),128))])):Object(a["createCommentVNode"])("",!0)]))),128))])):Object(a["createCommentVNode"])("",!0),!n.isAlreadySub&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",eo,[n.showRedWarn?(Object(a["openBlock"])(),Object(a["createElementBlock"])("p",to,"* אנא בדוק שענית על כל השאלות")):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.sendData&&i.sendData(...e))},"סיים")])):Object(a["createCommentVNode"])("",!0),n.isAlreadySub&&n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",so," כבר הגשת מבחן זה... ")):Object(a["createCommentVNode"])("",!0)],64)}const oo={key:0},no={key:1};function io(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoad?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",oo,"00:00:00")),n.isLoad?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",no,Object(a["toDisplayString"])(n.fullTimer),1)):Object(a["createCommentVNode"])("",!0)],64)}var co={name:"timer",props:{totalTime:{type:Number,required:!0},routeName:String},data(){return{timer:null,hours:0,minutes:0,seconds:0,timeRemaining:this.totalTime,fullTimer:null,isLoad:!1,routeName:this.routeName,urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,token:null,PermListId:null}},mounted(){this.startTimer()},methods:{getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},startTimer(){this.timer=setInterval(()=>{this.updateTimer()},1e3)},updateTimer(){if(console.log(this.timeRemaining),this.timeRemaining>0){this.hours=Math.floor(this.timeRemaining/3600);var e=this.timeRemaining%3600;this.minutes=Math.floor(e/60),this.seconds=Math.floor(e%60);const t=this.addZeroBefore(this.hours),s=this.addZeroBefore(this.minutes),a=this.addZeroBefore(this.seconds);this.fullTimer=`${t}:${s}:${a}`,this.isLoad=!0,this.timeRemaining--}else this.fullTimer="00:00:00",clearInterval(this.timer),console.log("time over"),this.timerEnded()},timerEnded(){localStorage.setItem("prevExit",!1),console.log("time is end"),this.deletePer().then(e=>{e?this.$swal({title:"נגמר הזמן...",text:"שים לב שנגמר לך הזמן. המבחן יוגש עם כל מה שפתרת עד עכשיו !",icon:"warning",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"}).then(e=>{this.$router.push({name:"submitted",params:{Title:this.routeName}})}):this.$swal({title:"שגיאה!",text:"נגמר לך הזמן, אך קרתה שגיאה בשליחת המבחן. אנא פנה לאחראי",icon:"error",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"})}).catch(e=>{console.error(e),this.$swal({title:"אין רשת!",text:"שים לב שנגמר לך הזמן, אך משום שאין רשת המבחן לא הוגש. אנא פנה לאחראי...",icon:"error",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"})})},addZeroBefore(e){return e<10?"0"+e:e},getIdOfgroup(){return y.a.get(this.urlForId).then(e=>e.data.value)},async deletePer(){this.token=await this.getToken(),this.groupId=await this.getIdOfgroup(),console.log(this.groupId);try{const e=await y.a.post(this.$sharePointUrl+`getByTitle('${this.routeName}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});if(console.log(e.status),e.status>=200&&e.status<300){await this.updatePerm();return console.log("success deletePer"),!0}return console.log("no success deletePer"),!1}catch(e){return console.log("no success deletePer, catch"),!1}},getPermListId(){return y.a.get(this.$sharePointUrl+`getByTitle('isPermissionActive')/items?$filter=type eq '${this.routeName}'`).then(e=>e.data.value[0].ID)},async updatePerm(){this.PermListId=await this.getPermListId();try{const e=await y.a.post(this.$sharePointUrl+`getByTitle('isPermissionActive')/Items('${this.PermListId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"},isAllow:!1},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});return e.status>=200&&e.status<300?(console.log("success updatePerm"),!0):(console.log("no success updatePerm"),!1)}catch(e){return console.log("no success updatePerm, catch"),!1}}},beforeUnmount(){clearInterval(this.timer)}};const ro=x()(co,[["render",io]]);var lo=ro,mo={components:{loadingSpinner:H,timer:lo},data(){return{examData:[],examUserData:{},isUserDataEmpty:!0,boolIfEmpty:[],dataToPost:[],token:"",routerName:null,userName:"",userId:"",isAlreadySub:null,isLoadForSpinner:!1,examExistData:[],subRouterIsShow:!1,showRedWarn:!1,showRedWarnToAmerican:!1,showExitAlert:!0,urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,isTime:!0}},methods:{getHebLetters(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},clickHandler(e,t,s,a,o){console.log(o),this.showRedWarn=!1;const n=this.$refs[`inputRef_${t}${s}`];console.log(n);const i=e.target.value;this.message=i,i.trim()?(this.isUserDataEmpty=!1,this.boolIfEmpty[o]=this.isUserDataEmpty,console.log(this.boolIfEmpty)):(this.boolIfEmpty[o]=!0,console.log(this.boolIfEmpty),console.log("is empty"))},getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async postExams(){console.log("you in post func");var e=[...this.examData.exam],t=null;return console.log(this.examsName.subject),this.$isSharePointUrl?(this.token=await this.getToken(),t=await y.a.post(this.$sharePointUrl+"getByTitle('pending tests')/Items",{Title:this.userName,exam:JSON.stringify(e),num:this.userId,type:this.$route.params.Title,name:this.examsName.subject},{headers:{"X-RequestDigest":this.token}})):(console.log(this.$route.params),t=await y.a.post(this.$sharePointUrl+"pendingTests",{value:[{Title:"sdsdsd",exam:e,num:this.userId,type:this.$route.params.Title,name:this.examsName.subject}]})),t.status>=200&&t.status<300},submit(){var e=!0;this.boolIfEmpty.forEach(t=>{0!=t&&(e=!1)}),console.log(e),1==e?(this.showRedWarn=!1,this.subRouterIsShow=!0):this.showRedWarn=!0},showAlertConfirmBeforeSend(){this.$swal({title:"האם אתה בטוח שברצונך להגיש מבחן זו ?",text:"אם תגיש לא תוכל/י לחזור עליו...",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, הגש מבחן",cancelButtonText:"ביטול"}).then(e=>{e.value&&(this.postExams()?(this.showExitAlert=!1,this.$swal({title:"נשלח בהצלחה",icon:"success",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"סיים"}),console.log(this.showExitAlert),this.$router.push({name:"submitted",params:{Title:this.$route.params.Title}}),this.deletePer()):this.$swal("Not Send","אירעה שגיעה","not succeeded"),console.log(this.$route))})},async sendData(){this.submit();for(let t=0;t<this.boolIfEmpty.length;t++){console.log(this.$refs["inputRef_"+t]);var e=this.$refs["inputRef_"+t].children[0];if(1==this.boolIfEmpty[t])return this.$refs["inputRef_"+t].scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("text-aria-placeholder"),alert("אנא הכנס תשובה בשאלה "+(t+1))}1==this.subRouterIsShow&&this.showAlertConfirmBeforeSend()},checkIfExamExist(){return this.userId=localStorage.getItem("userId"),this.$isSharePointUrl?y.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.userId}') and (type eq '${this.$route.params.Title}')`).then(e=>e.data.value):y.a.get(this.$sharePointUrl+`pendingTests?num=${this.userId}&type=${this.$route.params.Title}`).then(e=>e.data.value)},spinner(){this.isLoadForSpinner=!0},pushToArrToCheckIfEmpty(){this.examData.exam.forEach(e=>{e.questions.forEach(e=>{this.boolIfEmpty.push(!0)})}),console.log(this.boolIfEmpty)},handlePageReload(e){e.preventDefault(),e.returnValue=""},getIdOfgroup(){return y.a.get(this.urlForId).then(e=>e.data.value)},async deletePer(){this.groupId=await this.getIdOfgroup(),console.log(this.groupId);await y.a.post(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async postSh(){var e=["*מבחן זה רשום בלשון זכר אך פונה אל כל המגדרים כלשון אחד.","*בכל שאלה בה אופן הטיפול כולל סיוע של צוות נוסף, יש לציין את דרך הפנייה אל הצוות ואת הפרטים הנחוצים."],t={exam:[{type:"subQue",questions:[{type:"open",que:"הסבר מהו  IMAGEומדוע משתמשים בו. הסבר מהו IMAGE ייעודי וציין אילו מערכות דורשות אותו (4 נק')",inputAns:"",id:0,points:4,pointsReceived:"",comments:""},{type:"open",que:"הצג בקצרה את שלושת הדרכים שדרכם ניתן להתקין IMAGE על מחשב וציין איזה מערכת הפעלה בכל דרך? (2  נק')",inputAns:"",id:1,points:2,pointsReceived:"",comments:""}]},{type:"subQue",questions:[{type:"open",que:"פרט, כיצד נפיץ אימג' משואה על מחשב? מה חשוב לוודא לפני הפצת האימג'? (3 נק')",inputAns:"",id:2,points:3,pointsReceived:"",comments:""},{type:"open",que:"פרט את שלבי התקנת המשואה לאחר התקנת האימג' (2 נק')",inputAns:"",id:3,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט, כיצד נפיץ מפות על משואה? אילו מפות נפיץ? (2 נק')",inputAns:"",id:4,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט, מה ההבדל בין משואה אחודה ללקוח? ציין שני הבדלים עיקריים. (2 נק')",inputAns:"",id:5,points:2,pointsReceived:"",comments:""}]},{type:"subQue",questions:[{type:"open",que:"איזה 2 מערכות קיימות ברשת הMOIP? ומה הקונבנציה של כל מערכת? (2 נק')",inputAns:"",id:6,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט כיצד נתקין MOIP ואיזה אימג' המערכת דורשת?(2 נק')",inputAns:"",id:7,points:2,pointsReceived:"",comments:""},{type:"open",que:"ציין בקצרה מה השלבים לאחר ההפצת אימג'? (2 נק')",inputAns:"",id:8,points:2,pointsReceived:"",comments:""},{type:"open",que:"מה הדומיין של MOIP? (1 נק')",inputAns:"",id:9,points:1,pointsReceived:"",comments:""}]},{type:"regularQue",questions:[{que:"ציין 2 דרכים להתקנת WIN10 , בחר דרך אחת ופרט כיצד תתקין מחשב WIN10. (3 נק')",type:"open"}],inputAns:"",id:10,points:3,pointsReceived:"",comments:""},{type:"regularQue",questions:[{que:"ציין את תפקיד המקשים F2,F8,F9,F10,F12 הבאים בהפעלת המחשב (2 נק')",type:"open"}],inputAns:"",id:11,points:2,pointsReceived:"",comments:""},{}]};this.token=await this.getToken();await y.a.post(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items`,{Title:"0",instructions:JSON.stringify(e),exam:JSON.stringify(t)},{headers:{"X-RequestDigest":this.token}})}},async beforeMount(){console.log(this.$route.params),this.routerName=this.$route.params.Title,this.userName=localStorage.getItem("userName"),console.log(this.userName);const e=localStorage.getItem("examsName"),t=JSON.parse(e);this.examsName=t.filter(e=>e.Title==this.$route.params.Title)[0],console.log(this.examsName),this.examExistData=await this.checkIfExamExist(),console.log("yess");var s=null;if(this.$isSharePointUrl){try{console.log(this.examExistData),this.examExistData.length?(console.log("is full"),this.isLoadForSpinner=!0,this.isAlreadySub=!0):(console.log("is empty, you should see the exam"),this.isAlreadySub=!1)}catch{console.log("is empty, you should see the exam")}console.log(this.isAlreadySub),s=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items`);var a=s.data.value;this.examData=a;await Promise.all(this.examData.map(e=>this.asyncParse(e.exam).then(t=>(e.exam=t,{item:e}))));this.examData=this.examData[0]}else{s=await y.a.get(this.$sharePointUrl+""+this.$route.params.Title);a=s.data.value;this.examData=a[0],this.isAlreadySub=!1}console.log(this.examData);setTimeout(this.spinner,170);this.pushToArrToCheckIfEmpty()},mounted(){window.addEventListener("beforeunload",this.handlePageReload)},beforeRouteLeave(e,t,s){var a=JSON.parse(localStorage.getItem("prevExit"));console.log(a),console.log(this.showExitAlert),this.showExitAlert&&0!=a?this.$swal({title:"את/ה בטוח/ה שברצונך לצאת ממבחן זה ?",text:"אם תצא/י השינויים לא ישמרו !",icon:"warning",showCancelButton:!0,confirmButtonText:"צא/י",cancelButtonText:"הישאר/י",confirmButtonColor:"var(--main-background-color)"}).then(e=>{e.isConfirmed?s():s(!1)}):s(),localStorage.setItem("prevExit",!0)},beforeUnmount(){window.removeEventListener("beforeunload",this.handlePageReload)}};s("0a4d");const uo=x()(mo,[["render",ao],["__scopeId","data-v-ab5f7c0a"]]);var po=uo;const ho={class:"title"};function bo(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ho,"המבחן הוגש בהצלחה")}var Oo={};s("8904");const go=x()(Oo,[["render",bo],["__scopeId","data-v-5876e149"]]);var jo=go;const ko=e=>(Object(a["pushScopeId"])("data-v-7e375bfc"),e=e(),Object(a["popScopeId"])(),e),fo={key:0,class:"loader-spinner"},vo={key:1,class:"no-permission-mess"},yo=ko(()=>Object(a["createElementVNode"])("h1",null,"אין לך הרשאות לעמוד זה...",-1)),Eo=[yo];function Bo(e,t,s,o,n,i){const c=Object(a["resolveComponent"])("loadingSpinner");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[n.isLoadForSpinner?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",fo,[Object(a["createVNode"])(c)])),n.isLoadForSpinner?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",vo,Eo)):Object(a["createCommentVNode"])("",!0)],64)}var xo={components:{loadingSpinner:H},data(){return{isLoadForSpinner:!1}},methods:{spinner(){this.isLoadForSpinner=!0}},beforeMount(){setTimeout(this.spinner,170)}};s("bca1");const No=x()(xo,[["render",Bo],["__scopeId","data-v-7e375bfc"]]);var wo=No;const Vo=e=>(Object(a["pushScopeId"])("data-v-b7c82ffa"),e=e(),Object(a["popScopeId"])(),e),So={class:"exam"},To={class:"que-index"},Ao={key:0,class:"regular-que"},Co={class:"que-points"},Io={class:"que-title"},Do={class:"points"},Po=Vo(()=>Object(a["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),$o={class:"ans"},Lo=Vo(()=>Object(a["createElementVNode"])("p",{class:"comments-title"},"הערות הבודק\\ת:",-1)),Uo={key:0,class:"comments"},Fo={key:1},Ro={key:1,class:"sub-que"},qo={class:"que-points"},Mo={class:"que-title"},Qo={class:"points"},Ho=Vo(()=>Object(a["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Go={class:"ans"},zo=Vo(()=>Object(a["createElementVNode"])("p",{class:"comments-title"},"הערות הבודק\\ת:",-1)),_o={key:0,class:"comments"},Wo={key:1},Jo=Vo(()=>Object(a["createElementVNode"])("div",{class:"under-line"},null,-1));function Zo(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",So,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.checkedExam[n.examType],(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"exam-checked",key:e},[Object(a["createElementVNode"])("div",To,Object(a["toDisplayString"])(t+1+"."),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.questions,(t,s)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"exam-item",key:s},["regularQue"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ao,[Object(a["createElementVNode"])("div",Co,[Object(a["createElementVNode"])("div",Io,Object(a["toDisplayString"])(t.que),1),Object(a["createElementVNode"])("div",Do,Object(a["toDisplayString"])(e.pointsReceived)+"/"+Object(a["toDisplayString"])(e.points),1)]),Po,Object(a["createElementVNode"])("div",$o,Object(a["toDisplayString"])(e.inputAns),1),Lo,e.Comments?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Uo,Object(a["toDisplayString"])(e.comments),1)):Object(a["createCommentVNode"])("",!0),e.Comments?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Fo,"אין הערות"))])):Object(a["createCommentVNode"])("",!0),"subQue"==e.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Ro,[Object(a["createElementVNode"])("div",qo,[Object(a["createElementVNode"])("div",Mo,Object(a["toDisplayString"])(i.getHebLetters(s))+". "+Object(a["toDisplayString"])(t.que),1),Object(a["createElementVNode"])("div",Qo,Object(a["toDisplayString"])(t.pointsReceived)+"/"+Object(a["toDisplayString"])(t.points),1)]),Ho,Object(a["createElementVNode"])("div",Go,Object(a["toDisplayString"])(t.inputAns),1),zo,t.Comments?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",_o,Object(a["toDisplayString"])(t.comments),1)):Object(a["createCommentVNode"])("",!0),t.Comments?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Wo,"אין הערות"))])):Object(a["createCommentVNode"])("",!0)]))),128)),Jo]))),128))])}var Yo={data(){return{checkedExam:[],examType:null,userId:null,fullcheckedExam:[],exam:[]}},methods:{async getdata(){var e=null;if(this.$isSharePointUrl)e=await y.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'&$select=${this.examType}`),this.checkedExam=e.data.value,this.parseData();else{e=await y.a.get(this.$sharePointUrl+"students");var t=e.data.value[0];this.checkedExam[this.examType]=t[this.examType].filter(e=>"finalGrade"!=Object.keys(e))}console.log(this.checkedExam),console.log(this.fullcheckedExam)},getHebLetters(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async parseData(){Promise.all(this.checkedExam.map(e=>this.asyncParse(e[this.examType]).then(t=>(this.fullcheckedExam=[...t],e[this.examType]=t.filter(e=>"finalGrade"!=Object.keys(e)),{item:e}))));this.checkedExam=this.checkedExam[0]},showTheGradeOutOf(e){var t=100/this.checkedExam[this.examType].length;return t.toFixed(1)}},beforeMount(){this.examType=this.$route.params.title,this.userId=localStorage.getItem("userId"),this.getdata()}};s("8952");const Xo=x()(Yo,[["render",Zo],["__scopeId","data-v-b7c82ffa"]]);var Ko=Xo;const en=e=>(Object(a["pushScopeId"])("data-v-553f77e3"),e=e(),Object(a["popScopeId"])(),e),tn={class:"not-found-page"},sn=en(()=>Object(a["createElementVNode"])("h1",null,"404 - הדף לא נמצא...",-1)),an=en(()=>Object(a["createElementVNode"])("p",null,"אופס ! העמוד שחיפשת לא קיים.",-1)),on=[sn,an];function nn(e,t,s,o,n,i){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",tn,on)}var cn={};s("9463");const rn=x()(cn,[["render",nn],["__scopeId","data-v-553f77e3"]]);var ln=rn;const mn=[{path:"/",name:"HomePage",component:_},{path:"/Practices",name:"PracticesList",component:fe},{path:"/User",name:"User",component:et},{path:"/User/:title",name:"CheckedExams",component:Ko},{path:"/Admin/MainCheckPage",name:"MainCheckPage",component:Tt},{path:"/Admin/examsToCheck/:num/:examType",name:"examsToCheck",component:cs,props:!0},{path:"/Admin/openPermForExams",name:"openPerm",component:fs,props:!0},{path:"/examsToCheck/:num/:examType/submitted",name:"submitted",component:jo,props:!0},{path:"/exams/:Title",name:"exams",component:po,props:e=>({...e.params})},{path:"/exams/:Title/beforeStarting",name:"beforeStartingExam",component:La,props:e=>({...e.params})},{path:"/exams/:Title/submitted",name:"submitted",component:jo,props:e=>({...e.params})},{path:"/exams/:Title/noPermissionMessage",name:"noPermission",component:wo,props:e=>({...e.params})},{path:"/Practices/:title",name:"beforeEnterQuiz",component:ge,props:e=>({...e.params})},{path:"/Practices/:title/quiz",name:"quiz",component:xa,props:e=>({...e.params})},{path:"/Practices/:title/result",name:"result",component:pa,props:e=>({...e.params})},{path:"/:catchAll(.*)",name:"notFound",component:ln,meta:{notFound:!0}}],dn=Object(A["a"])({history:Object(A["b"])(""),routes:mn});var un=dn,pn=s("f9d5"),hn=s.n(pn);s("4413");const bn=Object(a["createApp"])(T);bn.config.globalProperties.$sharePointUrl="https://portal.army.idf/sites/hafifon383/_api/web/Lists/",bn.config.globalProperties.$isSharePointUrl=!0,bn.use(un),bn.use(hn.a),bn.mount("#app")},"580a":function(e,t,s){e.exports=s.p+"img/xrm.0eb906a3.jpg"},"713a":function(e,t,s){e.exports=s.p+"img/bios.ea33ba68.png"},"7e55":function(e,t,s){},"80e6":function(e,t,s){e.exports=s.p+"img/onlineCourse.fd2b6fae.jpg"},8134:function(e,t,s){e.exports=s.p+"img/CMD.4a05cdd1.png"},"876b":function(e,t,s){},8904:function(e,t,s){"use strict";s("baf3")},8952:function(e,t,s){"use strict";s("4594")},"8e4a":function(e,t,s){e.exports=s.p+"img/mail.b1be72ce.jpg"},"8fbf":function(e,t,s){"use strict";s("7e55")},"90c9":function(e,t,s){},"914e":function(e,t,s){e.exports=s.p+"img/communication.51737fd5.png"},"91b7":function(e,t,s){},"92ad":function(e,t,s){"use strict";s("90c9")},9313:function(e,t,s){},"937a":function(e,t,s){},9463:function(e,t,s){"use strict";s("b055")},9659:function(e,t,s){"use strict";s("4dcf")},"9db6":function(e,t,s){e.exports=s.p+"img/printer.8bd0f703.jpg"},a163:function(e,t,s){"use strict";s("be8e")},b055:function(e,t,s){},b5de:function(e,t){e.exports="data:image/png;base64,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"},b7b7:function(e,t,s){"use strict";s("eac9")},baf3:function(e,t,s){},bca1:function(e,t,s){"use strict";s("876b")},be8e:function(e,t,s){},c442:function(e,t,s){e.exports=s.p+"img/homePageBackground.4bcf9a61.png"},c5b5:function(e,t,s){},c9bf:function(e,t,s){"use strict";s("215b")},d342:function(e,t,s){"use strict";s("937a")},da77:function(e,t,s){},de8b:function(e,t,s){"use strict";s("da77")},df0b:function(e,t,s){e.exports=s.p+"img/active-directory-logo2.6af63782.png"},e0d7:function(e,t,s){e.exports=s.p+"img/fileServer.9953c2a0.jpg"},e9b5:function(e,t,s){"use strict";s("9313")},eac9:function(e,t,s){},ed98:function(e,t,s){e.exports=s.p+"img/mivzOper.996f2a76.png"},f108:function(e,t,s){"use strict";s("110f")},f460:function(e,t,s){"use strict";s("c5b5")},fd40:function(e,t,s){e.exports=s.p+"img/KioskServlet.3c3587b1.jpg"}});
//# sourceMappingURL=app.81ce08e1.js.map