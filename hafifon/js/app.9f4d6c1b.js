(function(e){function t(t){for(var o,i,c=t[0],l=t[1],r=t[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);m&&m(t);while(u.length)u.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,c=1;c<a.length;c++){var l=a[c];0!==s[l]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},s={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var m=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0ca9":function(e,t,a){},"0e21":function(e,t,a){},1771:function(e,t,a){var o={"./Assistant-Regular.ttf":"33e1","./CMD.png":"8134","./KioskServlet.jpg":"fd40","./SCCM.png":"4f4b","./active-directory-logo2.png":"df0b","./bios.png":"713a","./communication.png":"914e","./disc.png":"183b","./fileServer.jpg":"e0d7","./homePageBackground.png":"c442","./installation.jpg":"3e86","./logo.svg":"9b19","./mail.jpg":"8e4a","./mainLogo.png":"b5de","./mivzOper.png":"ed98","./onlineCourse.jpg":"80e6","./pc.jpg":"1e5e","./printer.jpg":"9db6","./takalot.jpg":"3722","./xrm.jpg":"580a"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=n,e.exports=s,s.id="1771"},"183b":function(e,t,a){e.exports=a.p+"img/disc.75e57f0a.png"},"1e5e":function(e,t,a){e.exports=a.p+"img/pc.f8de9fed.jpg"},2846:function(e,t,a){},"2b71":function(e,t,a){"use strict";a("e5df")},"2d66":function(e,t,a){},"2eac":function(e,t,a){},3358:function(e,t,a){},"33e1":function(e,t,a){e.exports=a.p+"fonts/Assistant-Regular.5193a037.ttf"},3722:function(e,t,a){e.exports=a.p+"img/takalot.bc954f09.jpg"},"3c3a":function(e,t,a){"use strict";a("9d4e")},"3c53":function(e,t,a){},"3e86":function(e,t,a){e.exports=a.p+"img/installation.7ea70fac.jpg"},4411:function(e,t,a){"use strict";a("3c53")},"45f7":function(e,t,a){},"4be1":function(e,t,a){},"4f4b":function(e,t,a){e.exports=a.p+"img/SCCM.4e98334e.png"},"4f98":function(e,t,a){"use strict";a("2d66")},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("7a23");a("0ca90");const s={key:1};function n(e,t,a,n,i,c){const l=Object(o["resolveComponent"])("MainNavbar"),r=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[c.isNotFoundRoute?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0})),i.scroll>=300?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("button",{class:"scroll-to-top",onClick:t[0]||(t[0]=(...e)=>c.scrollToTop&&c.scrollToTop(...e))}," ▲ ")])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(r,{key:e.$route.fullPath})],64)}const i=e=>(Object(o["pushScopeId"])("data-v-71342a18"),e=e(),Object(o["popScopeId"])(),e),c={class:"main-nav"},l=Object(o["createTextVNode"])(" חפיפה "),r=Object(o["createTextVNode"])(" לאיזור אישי "),m={class:"menu"},d={class:"nav-bar"},u=i(()=>Object(o["createElementVNode"])("span",null,"ממשק מנהלים",-1)),p={key:0,class:"admin-drop-down-menu"},h={class:"admin-drop-down-list"},b={class:"admin-drop-down-list"},O={class:"admin-drop-down-list"},g=i(()=>Object(o["createElementVNode"])("span",null,"בחנים",-1)),j={key:0,class:"drop-down-menu"},k=["onClick"],v=Object(o["createTextVNode"])("תרגולים");function f(e,t,a,s,n,i){const f=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(f,{class:"home-title",to:{name:"HomePage"}},{default:Object(o["withCtx"])(()=>[l]),_:1}),Object(o["createVNode"])(f,{to:{name:"User"},class:"user-title"},{default:Object(o["withCtx"])(()=>[r]),_:1}),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("ul",null,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("button",{class:"final-test-btn",onClick:t[0]||(t[0]=e=>i.checkIfhasPermToExams())},"המבחן הסופי")])]),Object(o["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[4]||(t[4]=e=>n.isOpen=!0),onMouseleave:t[5]||(t[5]=e=>n.isOpen=!1)},[u,n.isOpen?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",p,[Object(o["createElementVNode"])("li",h,[Object(o["createElementVNode"])("button",{class:"admin-routers",onClick:t[1]||(t[1]=e=>i.openAdminComp("MainCheckPage"))}," בדיקת מבחנים")]),Object(o["createElementVNode"])("li",b,[Object(o["createElementVNode"])("button",{class:"admin-routers",onClick:t[2]||(t[2]=e=>i.openAdminComp("openPerm"))}," פתיחת הרשאות למבחנים")]),Object(o["createElementVNode"])("li",O,[Object(o["createElementVNode"])("button",{class:"admin-routers",onClick:t[3]||(t[3]=e=>i.openAdminComp("uploadEditExams"))}," עריכה, מחיקה והעלאת מבחנים")])])):Object(o["createCommentVNode"])("",!0)],32),Object(o["createElementVNode"])("li",{class:"exams-drop-down",onMouseover:t[6]||(t[6]=e=>n.isExamsDropOpen=!0),onMouseleave:t[7]||(t[7]=e=>n.isExamsDropOpen=!1)},[g,n.isExamsDropOpen?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",j,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examsName,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:e,class:"drop-down-list"},[Object(o["createElementVNode"])("button",{class:"drop-down-items",onClick:t=>i.checkIfhasPermToExams(e)},Object(o["toDisplayString"])(e.subject),9,k)]))),128))])):Object(o["createCommentVNode"])("",!0)],32),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(f,{to:{name:"PracticesList"}},{default:Object(o["withCtx"])(()=>[v]),_:1})])])])])])])}var E=a("bc3a"),y=a.n(E),x={name:"MainNavbar",data(){return{isExamsDropOpen:!1,isOpen:!1,examsPerm:[],examsName:[],isAdmin:null,url:"https://portal.army.idf/sites/hafifon383/_api/web/Lists/getByTitle('testsNames')/Items"}},methods:{async getNameOfExams(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('testsNames')/Items"):await y.a.get(this.$sharePointUrl+"testsNames"),this.examsName=e.data.value,localStorage.setItem("examsName",JSON.stringify(this.examsName)),this.examsName=this.examsName.filter(e=>"finalTest"!==e.Title)},openAdminComp(e){console.log(e),this.isAdmin?this.$router.push({name:e}):alert("מצטערים, אך אין לך גישה לעמוד זה...")},async checkIfhasPermToExams(e){var t=null,a=null;t=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('isPermissionActive')/Items"):await y.a.get(this.$sharePointUrl+"isPermissionActive");var o=t.data.value;void 0!==e?(a=e.Title,this.examsPerm=o.filter(e=>e.type==a)[0],console.log(this.examsPerm)):(a="finalTest",this.examsPerm=o.filter(e=>e.type==a)[0],console.log(this.examsPerm)),console.log(this.isAdmin),1==this.examsPerm.isAllow||1==this.isAdmin?(console.log("admin "+this.isAdmin),console.log("premission "+this.examsPerm.isAllow),this.$router.push({name:"beforeStartingExam",params:{Title:a}})):(console.log("no permission"),this.$router.push({name:"noPermission",params:{Title:a}})),console.log(window.location.href)},async checkIfAdmin(){var e=null;return e=this.$isSharePointUrl?this.$sharePointUrl+"getByTitle('AdminCheck')/Items":this.$sharePointUrl+"AdminCheck",y.a.get(e).then(e=>e.data.value).then(e=>!!e.length)}},async beforeMount(){this.getNameOfExams(),this.isAdmin=await this.checkIfAdmin(),console.log(this.isAdmin)}},B=(a("7d83"),a("d959")),N=a.n(B);const V=N()(x,[["render",f],["__scopeId","data-v-71342a18"]]);var w=V,C={name:"App",components:{MainNavbar:w},data(){return{token:null,currentUser:"https://portal.army.idf/sites/gdud0383/Team/_api/web/currentUser",urlForToken:"https://portal.army.idf/sites/hafifon383/_api/contextinfo",Id:null,userName:null,userNum:null,isAdmin:null,scroll:null}},methods:{scrollToTop(){console.log(window.pageYOffset),window.scrollTo({top:0,behavior:"smooth"})},async getToken(){const e=await y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo");this.token=e.data.FormDigestValue},async getCurrentUser(){const e=await y.a.get(this.currentUser);this.currentUserData=e.data;var t=this.currentUserData.LoginName.split("s");this.userNum=t[1],this.Id=this.currentUserData.Id;const a=this.currentUserData.Title.split(" -");this.userName=a[0],localStorage.setItem("userName",this.userName),localStorage.setItem("userId",this.Id),localStorage.setItem("userNum",this.userNum),console.log(this.Id)},showScrollBtn(){this.scroll=window.scrollY}},beforeMount(){this.getCurrentUser()},created(){window.addEventListener("scroll",this.showScrollBtn)},unmounted(){window.removeEventListener("scroll",this.showScrollBtn)},computed:{isNotFoundRoute(){return this.$route.matched.some(e=>e.meta.notFound)}}},S=(a("638a"),a("05eb")),D=a("8572"),T=a("0016"),I=a("66e5"),A=a("93dc"),P=a.n(A);const $=N()(C,[["render",n]]);var q=$;P()(C,"components",{QTimeline:S["a"],QField:D["a"],QIcon:T["a"],QItem:I["a"]});var L=a("6c02");const U=e=>(Object(o["pushScopeId"])("data-v-3b60112c"),e=e(),Object(o["popScopeId"])(),e),F={key:0,class:"loading-spinner"},R={class:"container"},M={class:"main-background"},Q={key:0,class:"welcome"},H=U(()=>Object(o["createElementVNode"])("h1",null,"ברוכים הבאים לאתר חפיפה",-1)),_={class:"name"};function z(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoad?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",F,[Object(o["createVNode"])(c)])),Object(o["createElementVNode"])("div",R,[Object(o["createElementVNode"])("div",M,[n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[H,Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("h2",null,"שלום "+Object(o["toDisplayString"])(n.userName),1)])])):Object(o["createCommentVNode"])("",!0)])])],64)}const G={class:"spin"};function W(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",G)}var J={name:"loadingSpinner"};a("b7b7");const Z=N()(J,[["render",W],["__scopeId","data-v-a129ab64"]]);var Y=Z,X={name:"HomePage",components:{loadingSpinner:Y},data(){return{currentUserData:[],Id:null,isLoad:!1,timeOut:null,token:"",userName:""}},methods:{async getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async checkIfUser(){if(this.Id=localStorage.getItem("userId"),this.userName=localStorage.getItem("userName"),console.log(this.Id),console.log(this.$isSharePointUrl),this.$isSharePointUrl){const t=await y.a.get(this.$sharePointUrl+`getByTitle('students')/items?$filter=num eq '${this.Id}'`),a=t.data.value;if(console.log(a),this.token=await this.getToken(),console.log(this.token),!a.length)try{await y.a.post(this.$sharePointUrl+"getByTitle('students')/items",{Title:this.userName,num:this.Id,exam1:null,exam2:null,exam3:null,exam4:null,finalTest:null},{headers:{"X-RequestDigest":this.token}})}catch(e){console.log(e.message)}}this.isLoad=!0,console.log(this.isLoad)}},beforeMount(){setTimeout(this.checkIfUser,500)}};a("e708");const K=N()(X,[["render",z],["__scopeId","data-v-3b60112c"]]);var ee=K;const te=e=>(Object(o["pushScopeId"])("data-v-069a6e60"),e=e(),Object(o["popScopeId"])(),e),ae={key:0,class:"loader-spinner"},oe={key:1,class:"main"},se=te(()=>Object(o["createElementVNode"])("h1",null,"תרגולים",-1)),ne=te(()=>Object(o["createElementVNode"])("div",{class:"text-under-line"},null,-1)),ie={class:"select-timeline"},ce={class:"container-cards"},le={class:"without-timeline"},re={class:"timeline",ref:"timeline"},me={class:"flex-cards"},de=["src"],ue={class:"inner-flex"},pe={class:"text"},he={class:"num-of-que"};function be(e,t,s,n,i,c){const l=Object(o["resolveComponent"])("loadingSpinner"),r=Object(o["resolveComponent"])("q-select"),m=Object(o["resolveComponent"])("router-link"),d=Object(o["resolveComponent"])("q-timeline-entry"),u=Object(o["resolveComponent"])("q-timeline");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[i.isLoad?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ae,[Object(o["createVNode"])(l)])),i.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oe,[se,ne,Object(o["createElementVNode"])("div",ie,[Object(o["createVNode"])(r,{outlined:"",modelValue:i.selectedValue,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.selectedValue=e),c.filterPractices],options:i.practices,"option-value":e=>e.timeline,"option-label":e=>"שבוע "+e.timeline,label:"הצג לפי שבוע",dir:"rtl"},null,8,["modelValue","options","option-value","option-label","onUpdate:modelValue"])]),Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("div",le,[Object(o["createElementVNode"])("div",re,[Object(o["createVNode"])(u,{color:"secondary"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.practices,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(d,{subtitle:"שבוע "+e.timeline,key:e,value:e.timeline},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",me,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"items",key:t},[Object(o["createVNode"])(m,{class:"router-text",to:{name:"beforeEnterQuiz",params:{practices:JSON.stringify(t.exam),title:t.Title,week:"week"+e.timeline}}},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("img",{class:"image-of-items",src:a("1771")("./"+t.Img)},null,8,de),Object(o["createElementVNode"])("div",ue,[Object(o["createElementVNode"])("h4",pe,Object(o["toDisplayString"])(t.Subject),1),Object(o["createElementVNode"])("span",he,"מספר שאלות: "+Object(o["toDisplayString"])(t.numOfQue),1)])]),_:2},1032,["to"])]))),128))])]),_:2},1032,["subtitle","value"]))),128))]),_:1})],512)])])])):Object(o["createCommentVNode"])("",!0)],64)}const Oe=e=>(Object(o["pushScopeId"])("data-v-8a27d874"),e=e(),Object(o["popScopeId"])(),e),ge={key:0,class:"spiner"},je={key:1,class:"main-container"},ke={key:0,class:"about-quiz"},ve={class:"quiz-subject"},fe=Oe(()=>Object(o["createElementVNode"])("div",{class:"quiz-info"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Qui nesciunt eius corrupti expedita necessitatibus voluptatum cumque odit deleniti aspernatur ex, pariatur assumenda labore. Vitae quasi et esse at doloremque ut aliquam, voluptate ab totam aspernatur eius earum reiciendis iste dolor aperiam saepe error eos culpa nobis nisi repellendus inventore quis, temporibus odit? Recusandae autem repellat vitae tempore repudiandae accusantium in illo quidem? Impedit, perspiciatis dignissimos. At numquam non corporis architecto quidem quaerat, ad accusantium ab fuga voluptas minima quam cupiditate ipsam, accusamus praesentium tenetur assumenda, quasi sunt adipisci aliquid necessitatibus? Doloribus ipsum praesentium, ipsa sapiente cumque voluptatem iure error repellendus. ",-1)),Ee={class:"start-back-buttons"},ye=Object(o["createTextVNode"])(" התחל תרגול");function xe(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ge,[Object(o["createVNode"])(c)])),n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",je,[e.isShow?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ke,[Object(o["createElementVNode"])("div",ve,Object(o["toDisplayString"])(e.Subject),1),fe,Object(o["createElementVNode"])("div",Ee,[Object(o["createElementVNode"])("button",{class:"back-btn",onClick:t[0]||(t[0]=e=>i.goBack())},"בחזרה לתרגולים"),Object(o["createVNode"])(l,{class:"start-btn",to:{name:"quiz"}},{default:Object(o["withCtx"])(()=>[ye]),_:1})])]))])):Object(o["createCommentVNode"])("",!0)],64)}var Be={name:"beforeEnterQuiz",components:{loadingSpinner:Y},data(){return{results:[],isLoadForSpinner:!1,timeOut:null,timeLine:null}},methods:{goBack(){this.$router.go(-1)},async getData(){const e=this.$route.params.week.split("k");this.timeLine=JSON.parse(e[1]),console.log(this.timeLine);var t=null;if(this.$isSharePointUrl){const e=await y.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items");t=e.data.value;await Promise.all(t.map(e=>this.$asyncParse(e.items).then(t=>(e.items=t,{item:e}))))}else{const e=await y.a.get(this.$sharePointUrl+"practice");t=e.data.value}console.log(t[this.timeLine-1].items),t=t[this.timeLine-1].items.filter(e=>e["Title"]==this.$route.params.title)[0],this.Subject=t.Subject,console.log(this.Subject),this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,150),console.log(this.$route.params)}};a("66ff");const Ne=N()(Be,[["render",xe],["__scopeId","data-v-8a27d874"]]);var Ve=Ne,we={name:"PracticesList",components:{beforeEnterQuiz:Ve,loadingSpinner:Y},data(){return{practices:[],selectedValue:null,isLoad:!1,timeOut:null}},methods:{async getPractices(){if(this.$isSharePointUrl){const e=await y.a.get(this.$sharePointUrl+"getByTitle('tirgulim')/Items");this.practices=e.data.value;await Promise.all(this.practices.map(e=>this.$asyncParse(e.items).then(t=>(e.items=t,{item:e}))))}else{const e=await y.a.get(this.$sharePointUrl+"practice");this.practices=e.data.value}console.log(this.practices),this.isLoad=!0},filterPractices(){console.log(this.selectedValue.timeline);const e=this.selectedValue.timeline;console.log("value: "+e);const t=this.$refs["timeline"].children[0].children[e-1];console.log(t);for(var a=0;a<this.practices.length;a++)if(a!==e-1){console.log(a);const e=this.$refs["timeline"].children[0].children[a];e.style.display="none"}else{const e=this.$refs["timeline"].children[0].children[a];e.style.display="block";const t=this.$refs["timeline"].children[0].children[a].children[0],o=this.$refs["timeline"].children[0].children[a].children[1];t.style.display="none",o.style.display="none"}}},async beforeMount(){this.timeOut=setTimeout(this.getPractices,200),console.log(this.fhdh)}},Ce=(a("95bd"),a("ddd8")),Se=a("74af");const De=N()(we,[["render",be],["__scopeId","data-v-069a6e60"]]);var Te=De;P()(we,"components",{QSelect:Ce["a"],QTimeline:S["a"],QTimelineEntry:Se["a"]});const Ie=e=>(Object(o["pushScopeId"])("data-v-ec9f161e"),e=e(),Object(o["popScopeId"])(),e),Ae={class:"main-page"},Pe=Ie(()=>Object(o["createElementVNode"])("h1",null,"האיזור האישי",-1)),$e=Ie(()=>Object(o["createElementVNode"])("div",{class:"under-line"},null,-1)),qe={class:"main"},Le={class:"right-side-flex"},Ue={class:"name-progress-details"},Fe={class:"personal-info"},Re={class:"personal-info-items"},Me={class:"inner-right-flex"},Qe={key:0,class:"name-detail"},He=Ie(()=>Object(o["createElementVNode"])("div",{class:"hafifa-nickname"}," חפיפון מתחיל ",-1)),_e=Ie(()=>Object(o["createElementVNode"])("div",{class:"inner-left-flex"},[Object(o["createElementVNode"])("img",{class:"user-image",src:"http://www.portalhr.leshem.idf/KioskServlet?infoOrPic=pic"})],-1)),ze={class:"progress-info"},Ge={class:"users-progress-item"},We={key:0,class:"title"},Je={key:1,class:"spinner-for-progress"},Ze={key:2,class:"progress-circle-how-much"},Ye={class:"left-side-flex"},Xe={key:0,class:"spinner"},Ke={class:"grid-container"},et={class:"average"},tt=Ie(()=>Object(o["createElementVNode"])("span",{class:"items-title"},"ממוצע ציונים ",-1)),at={class:"items-title"},ot={key:0,class:"the-grades"},st={key:1,class:"the-grades-no-examdata"},nt={class:"show-exam"},it=Object(o["createTextVNode"])("לצפייה במבחן");function ct(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("circle-progress"),r=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ae,[Pe,$e,Object(o["createElementVNode"])("div",qe,[Object(o["createElementVNode"])("div",Le,[Object(o["createElementVNode"])("div",Ue,[Object(o["createElementVNode"])("div",Fe,[Object(o["createElementVNode"])("div",Re,[Object(o["createElementVNode"])("div",Me,[n.isFinished?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qe,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(n.userName),1)])):Object(o["createCommentVNode"])("",!0),He]),_e])]),Object(o["createElementVNode"])("div",ze,[Object(o["createElementVNode"])("div",Ge,[n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",We,"כמה עברתי מהחפיפה ?")):Object(o["createCommentVNode"])("",!0),n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Je,[Object(o["createVNode"])(c)])),n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ze,[Object(o["createVNode"])(l,{percent:i.calcTotalProgress(e.val),"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:600},null,8,["percent"])])):Object(o["createCommentVNode"])("",!0)])])])]),Object(o["createElementVNode"])("div",Ye,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xe,[Object(o["createVNode"])(c)])),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",Ke,[Object(o["createElementVNode"])("div",et,[tt,Object(o["createElementVNode"])("span",{class:"gradeAv",ref:"gradeAv"},Object(o["toDisplayString"])(n.average),513)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.onlyExamData,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(i.dynamicGridClass(t+1))},[Object(o["createElementVNode"])("span",at,Object(o["toDisplayString"])(n.examsNames[t].subject),1),null!=e?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ot,Object(o["toDisplayString"])(e[e.length-1]["finalGrade"]),1)):Object(o["createCommentVNode"])("",!0),null==e?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",st,"עוד לא הוזן")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",nt,[null!=e?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0,class:"exam-Checked-router",to:{name:"CheckedExams",params:{title:n.examsNames[t].Title}}},{default:Object(o["withCtx"])(()=>[it]),_:2},1032,["to"])):Object(o["createCommentVNode"])("",!0)])],2)]))),128))],512),[[o["vShow"],n.isLoadForSpinner]])])])])}var lt=a("78da"),rt=a.n(lt),mt=(a("872e"),{components:{CircleProgress:rt.a,loadingSpinner:Y},data(){return{userDetails:[],gradesAvera:[],userName:"",isFinished:!1,userId:"",checkedExamData:[],onlyExamData:[],examsNames:[],hafifaProgress:null,isLoad:!1,average:null,timeOut:null,isGradeAve:!1,isLoadForSpinner:!1,isCalculated:!1,onlyExam:null}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async parseData(){if(this.examsNames=localStorage.getItem("examsName"),this.examsNames=JSON.parse(this.examsNames),console.log(this.examsNames),!this.$isSharePointUrl)return this.examsNames;this.examsNames.forEach(e=>{Promise.all(this.checkedExamData.map(t=>this.asyncParse(t[e.Title]).then(a=>(t[e.Title]=a,{item:t}))))})},async getCheckedExam(){this.userId=localStorage.getItem("userId"),console.log(this.userId);return this.$isSharePointUrl?y.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'`).then(e=>e.data.value):y.a.get(this.$sharePointUrl+"students?num="+this.userId).then(e=>(console.log(e.data),e.data.value))},async filterToExamsOnly(){return await this.parseData(),new Promise(e=>{console.log("yesss"),this.$isSharePointUrl,this.examsNames.forEach(e=>{this.onlyExamData.push(this.checkedExamData[0][e.Title])}),console.log(this.onlyExamData),e(this.onlyExamData)})},dynamicGridClass(e){return"test-"+e+"-score"},calcTotalProgress(e){var t=0;return this.onlyExamData.forEach(e=>{null!=e&&t++}),0==t?0:t/this.onlyExamData.length*100},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,300)})},getUserName(){var e=localStorage.getItem("userName");this.userName=e},calcGradesAve(){console.log(this.onlyExamData);var e=0,t=0,a="אין מידע",o=this.onlyExamData.length;if(console.log(o),console.log(this.onlyExamData),this.onlyExamData.forEach(a=>{null!=a?(console.log("usdfjdh"),e+=a[a.length-1]["finalGrade"]):(t++,o=this.onlyExamData.length-t)}),console.log(t),o)this.average=e/o;else{console.log("is 0");let e=this.$refs["gradeAv"];console.log(e),e.style.fontSize="35px",this.average=a}}},async beforeMount(){await this.asyncSetTimeout(),this.getUserName(),this.isFinished=!0,this.checkedExamData=await this.getCheckedExam(),await this.filterToExamsOnly(),this.calcGradesAve(),this.isLoadForSpinner=!0}});a("bf45");const dt=N()(mt,[["render",ct],["__scopeId","data-v-ec9f161e"]]);var ut=dt;function pt(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("HafifaCheckMainCompo");return Object(o["openBlock"])(),Object(o["createBlock"])(c)}const ht=e=>(Object(o["pushScopeId"])("data-v-ea8b70f8"),e=e(),Object(o["popScopeId"])(),e),bt={key:0,class:"loading-spinner"},Ot={class:"box"},gt={key:0,class:"box-flex"},jt={class:"count-students-cicrcle"},kt={class:"count-students-items"},vt=ht(()=>Object(o["createElementVNode"])("div",{class:"ave-title"}," מבחנים לבדיקה ",-1)),ft={class:"students-in-hafifa"},Et={class:"average-cicrcle"},yt={class:"average-items"},xt=ht(()=>Object(o["createElementVNode"])("div",{class:"ave-title"}," ממוצע ציונים ",-1)),Bt={class:"progress-circle"},Nt={class:"select-title"},Vt={class:"selected-option",ref:"selectTitle"},wt={class:"exams-list-options"},Ct=["onClick"],St={key:1,class:"title"},Dt={key:2,class:"accordion"},Tt=["onClick","value"],It={class:"text"},At={key:0,class:"accordion-content"},Pt={key:3,class:"when-empty"};function $t(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("circle-progress"),r=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoad?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bt,[Object(o["createVNode"])(c)])),Object(o["createElementVNode"])("div",Ot,[n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",gt,[Object(o["createElementVNode"])("div",jt,[Object(o["createElementVNode"])("div",kt,[vt,Object(o["createElementVNode"])("div",ft,Object(o["toDisplayString"])(n.userData.length),1)])]),Object(o["createElementVNode"])("div",Et,[Object(o["createElementVNode"])("div",yt,[xt,Object(o["createElementVNode"])("div",Bt,[Object(o["createVNode"])(l,{percent:n.gradrPerExam,size:140,"show-percent":!0,"fill-color":i.changeAveColor(n.gradrPerExam),viewport:!0,transition:600},null,8,["percent","fill-color"])]),n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"select-to-show-ave-menu",onClick:t[0]||(t[0]=(...e)=>i.toggleOptions&&i.toggleOptions(...e)),ref:"fixTitleWidth"},[Object(o["createElementVNode"])("div",Nt,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["select-option-arrow",{rotate:n.showOptions}])},"▼",2),Object(o["createElementVNode"])("div",Vt,"בחר מבחן",512)]),Object(o["withDirectives"])(Object(o["createElementVNode"])("ul",wt,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.testsNames,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,onClick:t=>i.selectOption(e)},Object(o["toDisplayString"])(e.subject),9,Ct))),128))],512),[[o["vShow"],n.showOptions]])],512)):Object(o["createCommentVNode"])("",!0)])])])):Object(o["createCommentVNode"])("",!0),n.examTitlesFiltered.length&&n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",St,"מבחנים הממתינים לבדיקה")):Object(o["createCommentVNode"])("",!0),n.isLoad&&n.examTitlesFiltered.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Dt,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examTitlesFiltered,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"accordion-item",key:e},[Object(o["createElementVNode"])("button",{class:Object(o["normalizeClass"])(["accordion-header",{active:n.ite===t&&n.isOpen}]),onClick:a=>i.OpenAccordion(e,t),ref:e+t,value:e},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["accordion-arrow",{rotate:n.ite===t&&n.isOpen}])},"▼",2),Object(o["createElementVNode"])("div",It,Object(o["toDisplayString"])(e),1)],10,Tt),n.isOpen&&n.ite==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",At,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.userInfoFilterd,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"name-of-hafifot",key:e},[Object(o["createVNode"])(r,{to:{name:"examsToCheck",path:`/examsToCheck/${e.num}/${e.type}`,params:{examType:e.type,num:e.num}},onClick:t=>i.passName(e)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.Title),1)]),_:2},1032,["to","onClick"])]))),128))])):Object(o["createCommentVNode"])("",!0)]))),128))])):Object(o["createCommentVNode"])("",!0),!n.examTitlesFiltered.length&&n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pt," אין מבחנים לבדיקה ")):Object(o["createCommentVNode"])("",!0)])],64)}var qt={name:"HafifaCheckMainCompo",components:{CircleProgress:rt.a,loadingSpinner:Y},data(){return{examTitlesFiltered:[],userData:[],isOpen:!1,ite:0,getBtnVal:null,userInfoFilterd:[],isLoad:!1,testsNames:[],showOptions:null,gradrPerExam:0}},methods:{passName(e){localStorage.setItem("infoName",e.Title)},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},toggleOptions(){this.showOptions=!this.showOptions},async getGrades(e){var t=null,a=null;if(this.$isSharePointUrl){t=await y.a.get(this.$sharePointUrl+"getByTitle('students')/items?$select="+e.Title),a=t.data.value;await Promise.all(a.map(t=>this.asyncParse(t[e.Title]).then(a=>(t[e.Title]=a,{item:t}))));console.log(a)}else t=await y.a.get(this.$sharePointUrl+"students"),console.log(t.data),a=t.data;var o=a.map(t=>t[e.Title]);console.log(o);var s=o.map(e=>{if(null!=e)return e.map(e=>e.finalGrade).filter(e=>void 0!==e)}).flat().filter(e=>void 0!==e);console.log(s),this.calcAve(s)},selectOption(e){var t=this.$refs["selectTitle"];console.log(t),t.innerHTML=e.subject;var a=this.$refs["fixTitleWidth"];"המבחן הסופי"==e.subject?(console.log("yes"),a.style.width="125px"):a.style.width="100px",this.getGrades(e)},async filterTitles(){this.examTitlesFiltered=this.userData.map(e=>e.name);const e=this.examTitlesFiltered;this.examTitlesFiltered=this.filterArrayOfTitles(e),console.log(this.examTitlesFiltered)},filterArrayOfTitles(e){return e.filter((t,a)=>e.indexOf(t)===a)},async getData(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('pending tests')/Items"):await y.a.get(this.$sharePointUrl+"pendingTests"),this.userData=e.data.value,console.log(this.userData)},async OpenAccordion(e,t){this.ite=t,this.getBtnVal=await this.$refs[e+t].value,console.log(this.getBtnVal),this.userInfoFilterd=await this.userData.filter(e=>e.name==this.getBtnVal),console.log(this.userInfoFilterd),this.isOpen=!this.isOpen},changeAveColor(e){return e>=80?"#2E8B57":e>=60&&e<80?"var(--main-background-color)":"rgb(175 11 11)"},showAveOnEachTest(e){console.log(e)},calcAve(e){console.log("yews"),console.log(e);let t=0,a=0;if(e.length){for(let o=0;o<e.length;o++)t+=e[o],a++;return 0===a?0:(this.gradrPerExam=t/a,console.log(this.gradrPerExam),this.gradrPerExam)}return this.gradrPerExam=0,console.log(this.gradrPerExam),this.gradrPerExam},timeOutForSpinner(){this.isLoad=!0}},async beforeMount(){var e=JSON.parse(localStorage.getItem("examsName"));this.testsNames=e,console.log(this.testsNames),await this.getData(),await this.filterTitles();setTimeout(this.timeOutForSpinner,250)}};a("f108");const Lt=N()(qt,[["render",$t],["__scopeId","data-v-ea8b70f8"]]);var Ut=Lt,Ft={components:{HafifaCheckMainCompo:Ut}};const Rt=N()(Ft,[["render",pt]]);var Mt=Rt;const Qt=e=>(Object(o["pushScopeId"])("data-v-39a6772a"),e=e(),Object(o["popScopeId"])(),e),Ht={key:0,class:"loading-spinner"},_t={key:1,class:"exam-box"},zt={class:"que-index"},Gt={key:0,class:"regular-que"},Wt={class:"que-text"},Jt=Qt(()=>Object(o["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Zt={class:"answer-options"},Yt={class:"answer-items"},Xt={class:"select-right-wrong"},Kt={class:"choose-points"},ea=["max","onUpdate:modelValue","onChange"],ta={class:"comments"},aa=["onUpdate:modelValue"],oa={key:1,class:"sub-que"},sa={class:"que-text"},na=Qt(()=>Object(o["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),ia={class:"answer-options"},ca={class:"answer-items"},la={class:"select-right-wrong"},ra={class:"choose-points"},ma=["max","onUpdate:modelValue","onChange"],da={class:"comments"},ua=["onUpdate:modelValue"],pa={class:"bottom-of-page"},ha={key:0,class:"warning-title"},ba={class:"send"};function Oa(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoad?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ht,[Object(o["createVNode"])(c)])),n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("form",_t,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examData,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"exam",key:t},[Object(o["createElementVNode"])("div",zt,Object(o["toDisplayString"])(t+1+"."),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.questions,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"question",key:a},["regularQue"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Gt,[Object(o["createElementVNode"])("div",Wt,Object(o["toDisplayString"])(t.que),1),Jt,Object(o["createElementVNode"])("div",Zt,[Object(o["createElementVNode"])("div",Yt,Object(o["toDisplayString"])(e.inputAns),1),Object(o["createElementVNode"])("div",Xt,[Object(o["createElementVNode"])("span",Kt,"*בחר ניקוד (מקס' "+Object(o["toDisplayString"])(e.points)+" נק')",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",min:"0",max:t.points,step:"any","onUpdate:modelValue":t=>e.pointsReceived=t,placeholder:"אנא בחר ניקוד",onChange:t=>i.handler(t,e.id,e.points),ref:"inputRef_"+e.id},null,40,ea),[[o["vModelText"],e.pointsReceived]])]),Object(o["createElementVNode"])("div",ta,[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":t=>e.comments=t,placeholder:"הכנס הערות (אופציונלי)"},null,8,aa),[[o["vModelText"],e.comments]])])])])):Object(o["createCommentVNode"])("",!0),"subQue"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oa,[Object(o["createElementVNode"])("div",sa,Object(o["toDisplayString"])(i.getHebLetters(a))+"."+Object(o["toDisplayString"])(t.que),1),na,Object(o["createElementVNode"])("div",ia,[Object(o["createElementVNode"])("div",ca,Object(o["toDisplayString"])(t.inputAns),1),Object(o["createElementVNode"])("div",la,[Object(o["createElementVNode"])("span",ra,"*בחר ניקוד (מקס' "+Object(o["toDisplayString"])(t.points)+" נק')",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",min:"0",max:t.points,step:"any","onUpdate:modelValue":e=>t.pointsReceived=e,placeholder:"אנא בחר ניקוד",onChange:e=>i.handler(e,t.id,t.points),ref:"inputRef_"+t.id},null,40,ma),[[o["vModelText"],t.pointsReceived]])]),Object(o["createElementVNode"])("div",da,[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{name:"",id:"",cols:"30",rows:"5","onUpdate:modelValue":e=>t.comments=e,placeholder:"הכנס הערות (אופציונלי)"},null,8,ua),[[o["vModelText"],t.comments]])])])])):Object(o["createCommentVNode"])("",!0)]))),128))]))),128)),Object(o["createElementVNode"])("div",pa,[n.isOpenWarn?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ha,"*אנא בדוק שניקדת את כל השאלות")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",ba,[Object(o["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.submit&&i.submit(...e))},"הגש")])])])):Object(o["createCommentVNode"])("",!0)],64)}var ga={components:{loadingSpinner:Y},data(){return{examData:[],vModelData:{},isLoad:!1,pointsForEachQue:null,examLength:null,pointsArray:[],isOpenWarn:!1,finalGrade:0,isChecExamNotExist:!1,token:"",id:null,pendingTestId:null,dataToPost:[],commentsData:{},examType:null,alreadyCalc:!1,fullUserDataToHistory:null}},methods:{getHebLetters(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},pushToArrToCheckGrade(){this.examData.forEach(e=>{e.questions.forEach(e=>{this.pointsArray.push(null)})}),console.log(this.pointsArray)},handler(e,t,a){console.log(this.vModelData),this.isOpenWarn=!1;var o=e.target.value;console.log(o),this.pointsArray[t]=o>=0&&o<=a?parseFloat(o):null,console.log(this.pointsArray)},postDataFormat(){this.dataToPost=[...this.examData],this.dataToPost.push({finalGrade:this.finalGrade}),console.log(this.dataToPost)},async calcFinalGrade(){return new Promise(e=>{this.pointsArray.forEach(e=>{this.finalGrade+=e}),console.log(this.finalGrade),e(this.finalGrade)})},checkIfAllIsFull(){var e=null,t=!0;return this.pointsArray.forEach((a,o)=>{console.log(""+o+a),a||(t=!1,e=this.$refs["inputRef_"+o],e.scrollIntoView({behavior:"smooth",block:"center"}),console.log(e),e.classList.add("input-placeholder"))}),t},async showAlertConfirm(){try{const e=await new Promise(e=>{this.$swal({icon:"warning",title:"האם אתה בטוח שברצונך להגיש בדיקה זו ?",type:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, שלח בדיקה",showLoaderOnConfirm:!0}).then(t=>{e(t)})});e.isConfirmed&&(await this.calcFinalGrade(),this.postDataFormat(),this.postData())}catch(e){console.log(e)}},submit(){1==this.checkIfAllIsFull()?this.showAlertConfirm():this.isOpenWarn=!0},getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getId(){return this.$isSharePointUrl?y.a.get(this.$sharePointUrl+"getByTitle('students')/Items?$filter=num eq "+this.$route.params.num).then(e=>e.data.value[0].ID):(console.log(this.$route.params),y.a.get(this.$sharePointUrl+"students?num="+this.$route.params.num).then(e=>e.data[0].id))},async postData(){if(this.id=await this.getId(),console.log(this.id),this.$isSharePointUrl){this.token=await this.getToken();const t=await y.a.post(this.$sharePointUrl+`getByTitle('students')/Items('${this.id}')`,{__metadata:{type:"SP.Data.StudentsListItem"},[this.examType]:JSON.stringify(this.dataToPost)},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),await this.postToHistoryList(),this.delDataFromPending(),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}else{console.log(this.id);const t=await y.a.patch(this.$sharePointUrl+"students/"+this.id,{[this.examType]:this.dataToPost});try{204==t.status||200==t.status?(console.log("its worked"),this.$swal("Send","נשלח בהצלחה","success"),await this.postToHistoryList(),this.$router.push({name:"submitted",params:{Title:this.$route.params.examType,num:this.$route.params.num}})):(console.log("not worked"),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."}))}catch(e){console.log("not working, CATCH",e),this.$swal({icon:"error",title:"אירעה שגיעה !",text:"הבדיקה לא הוגשה..."})}}},async delDataFromPending(){if(this.$isSharePointUrl){this.token=await this.getToken(),console.log(this.token);await y.a.post(this.$sharePointUrl+`getByTitle('pending tests')/Items('${this.pendingTestId}')`,{__metadata:{type:"SP.Data.Pending_x0020_testsListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},timeOutForSpinner(){this.isLoad=!0},calcTheGrade(){this.pointsForEachQue=100/this.examLength,console.log(this.pointsForEachQue)},async postToHistoryList(){this.fullUserDataToHistory=this.dataToPost,console.log(this.fullUserDataToHistory);const e=new Date;if(this.$isSharePointUrl)return this.token=await this.getToken(),new Promise((t,a)=>y.a.post(this.$sharePointUrl+"getByTitle('hafifotHistory')/Items",{Title:localStorage.getItem("infoName"),num:this.$route.params.num,group:e,[this.examType]:JSON.stringify(this.fullUserDataToHistory)},{headers:{"X-RequestDigest":this.token}}).then(e=>e.data).then(e=>{t(e)}))}},async beforeMount(){if(console.log(this.$route.params.examType),this.examType=this.$route.params.examType,this.$isSharePointUrl){const e=await y.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.$route.params.num}') and (type eq '${this.$route.params.examType}')`);this.examData=e.data.value,this.pendingTestId=e.data.value[0].ID;await Promise.all(this.examData.map(e=>this.asyncParse(e.exam).then(t=>(e["exam"]=t,{item:e}))));this.examData=this.examData[0].exam,console.log(this.examData)}else{const e=await y.a.get(this.$sharePointUrl+`pendingTests/?num=${this.$route.params.num}&type=${this.$route.params.examType}`);this.examData=e.data.value,this.examData=e.data.value[0].exam,console.log(this.examData)}this.examLength=this.examData.length,console.log(this.examLength),this.calcTheGrade();setTimeout(this.timeOutForSpinner,200);this.pushToArrToCheckGrade(),console.log(this.$route.params)},mounted(){this.examData.forEach(e=>{this.vModelData=""})}};a("97c7");const ja=N()(ga,[["render",Oa],["__scopeId","data-v-39a6772a"]]);var ka=ja;const va={class:"choose-box"},fa={class:"edit-or-upload"},Ea={key:0,class:"next-btn"},ya=["disabled"];function xa(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("addExam");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",va,[Object(o["createElementVNode"])("div",fa,[Object(o["createElementVNode"])("button",{class:"edit",onClick:t[0]||(t[0]=(...e)=>i.triggerEdit&&i.triggerEdit(...e))},"עריכת בוחן קיים"),Object(o["createElementVNode"])("button",{class:"upload",onClick:t[1]||(t[1]=(...e)=>i.openModal&&i.openModal(...e))},"העלת בוחן חדש"),Object(o["createElementVNode"])("button",{class:"remove",onClick:t[2]||(t[2]=(...e)=>i.removeExamBtn&&i.removeExamBtn(...e))},"מחיקת בחנים")]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.dialogVisible)+" ",1),Object(o["createVNode"])(c,{"dialog-visible":n.dialogVisible,"onUpdate:dialogVisible":i.updateDialogVisible},null,8,["dialog-visible","onUpdate:dialogVisible"]),n.selectOpened?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ea,[Object(o["createElementVNode"])("button",{onClick:t[3]||(t[3]=(...t)=>e.nextBtn&&e.nextBtn(...t)),disabled:!n.isChecked},"המשך",8,ya)])):Object(o["createCommentVNode"])("",!0)])}const Ba={class:"q-pa-md q-gutter-sm"},Na=Object(o["createElementVNode"])("div",{class:"text-h5",style:{display:"flex","justify-content":"center","font-weight":"700"}}," מלא/י את הפרטים הבאים: ",-1);function Va(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("q-card-section"),l=Object(o["resolveComponent"])("q-separator"),r=Object(o["resolveComponent"])("q-input"),m=Object(o["resolveComponent"])("q-btn"),d=Object(o["resolveComponent"])("q-card-actions"),u=Object(o["resolveComponent"])("q-card"),p=Object(o["resolveComponent"])("q-dialog"),h=Object(o["resolveDirective"])("close-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ba,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.internalDialogVisible)+" ",1),Object(o["createVNode"])(p,{modelValue:n.internalDialogVisible,"onUpdate:modelValue":t[0]||(t[0]=e=>n.internalDialogVisible=e),onClickaway:i.closeDialog},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{style:{"min-width":"45vw","border-radius":"10px"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])(()=>[Na]),_:1}),Object(o["createVNode"])(l),Object(o["createVNode"])(c,{style:{"max-height":"50vh",display:"flex","flex-wrap":"wrap","flex-direction":"column","align-items":"center"},class:"scroll"},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.inputLabels,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",{key:e},[Object(o["createVNode"])(r,{modelValue:n.inputData[Object.keys(e)],"onUpdate:modelValue":t=>n.inputData[Object.keys(e)]=t,label:Object.keys(e),ref:"nameInput",style:{width:"150px"},"input-class":"rtl-input",dir:"rtl"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))]),_:1}),Object(o["createVNode"])(l),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["withDirectives"])(Object(o["createVNode"])(m,{flat:"",label:"ביטול",onClick:i.closeDialog,color:"primary"},null,8,["onClick"]),[[h]]),Object(o["withDirectives"])(Object(o["createVNode"])(m,{flat:"",label:"המשך",color:"primary",onClick:i.addNewExamBtn},null,8,["onClick"]),[[h]])]),_:1})]),_:1})]),_:1},8,["modelValue","onClickaway"])])}var wa={props:{dialogVisible:Boolean},name:"addExam",data(){return{inputLabels:[{"הכנס/י שאלה":""},{"שם פרק":""},{"שם הבוחן":""}],internalDialogVisible:!1,inputData:[],token:""}},methods:{getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},closeDialog(){this.internalDialogVisible=!1,console.log(this.internalDialogVisible),this.$emit("update:dialogVisible",!1)},async createNewExamList(){console.log(this.inputData["שם הבוחן"]),this.token=await this.getToken();const e=this.$sharePointUrl,t={__metadata:{type:"SP.List"},Title:this.inputData["שם הבוחן"],BaseTemplate:100};try{const a=await y.a.post(e,t,{headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":this.token}});if(!(a.status>=200&&a.status<300))throw new Error("נכשל בהעלאת מידע")}catch(a){throw new Error("קרתה שגיאה בשליחת המידע")}},async addNewExamBtn(){console.log(this.inputData),console.log(this.inputData["שם הבוחן"]);try{await this.createNewExamList(),this.$swal({title:"נוסף בהצלחה",icon:"success",showConfirmButton:!1})}catch(e){this.$swal({title:"שגיאה",icon:"error",showConfirmButton:!1})}}},watch:{dialogVisible(e){this.internalDialogVisible=e}}},Ca=a("24e8"),Sa=a("f09f"),Da=a("a370"),Ta=a("eb85"),Ia=a("27f9"),Aa=a("4b7e"),Pa=a("9c40"),$a=a("7f67");const qa=N()(wa,[["render",Va]]);var La=qa;P()(wa,"components",{QDialog:Ca["a"],QCard:Sa["a"],QCardSection:Da["a"],QSeparator:Ta["a"],QInput:Ia["a"],QCardActions:Aa["a"],QBtn:Pa["a"]}),P()(wa,"directives",{ClosePopup:$a["a"]});var Ua={components:{addExam:La},data(){return{examNames:[],selectedOption:"",isChecked:!1,selectOpened:!1,showUploadBtn:!0,showEditBtn:!0,selectHtml:null,selectedOption:"",name:"",inputValue:"",dialogVisible:!1}},methods:{openModal(){this.dialogVisible=!0,console.log(this.dialogVisible)},triggerEdit(){function e(e){var t=e.target.value;t.trim()&&(this.isChecked=!0),console.log(e.target.value)}console.log(this.selectHtml),this.$swal({title:"בחר את הבחינה שברצונך לערוך:",html:this.selectHtml,confirmButtonText:"המשך",confirmButtonColor:"var(--main-background-color)",customClass:{popup:"choose-to-edit"},showLoaderOnConfirm:!0,didOpen:()=>{const t=document.getElementById("mySelect");t.addEventListener("change",e)},willClose:()=>{const t=document.getElementById("mySelect");t.removeEventListener("change",e)},preConfirm:()=>{const e=document.getElementById("mySelect").value;return{selectedOption:e}}}).then(e=>{if(e.isConfirmed){const t=e.value.selectedOption;this.$router.push({name:"editExams",params:{title:t}})}})},removeExamBtn(){console.log(this.examNames);this.examNames;this.$swal({title:"בחר את הבחינה שברצונך למחוק:",html:this.selectHtml,confirmButtonText:"המשך",customClass:{popup:"choose-to-remove-swal"},confirmButtonColor:"var(--main-background-color)",didOpen:()=>{const e=document.getElementById("mySelect");e.addEventListener("change",this.selectBtn)},willClose:()=>{const e=document.getElementById("mySelect");e.removeEventListener("change",this.selectBtn)},preConfirm:()=>{const e=document.getElementById("mySelect").value;return{selectedOption:e}}}).then(e=>{e.isConfirmed&&this.$swal({title:`האם אתה בטוח שברצונך למחוק את ${name} ?`,confirmButtonText:"כן, מחק",confirmButtonColor:"var(--main-background-color)",icon:"warning",showCancelButton:!0,cancelButtonText:"ביטול",showLoaderOnConfirm:!0,customClass:{popup:"delete-swal"}})})},selectBtn(e){var t=e.target.value;t.trim()&&(this.isChecked=!0);const a=this.examNames.find(e=>e.Title===t);console.log(a.subject);var o=a.subject;return o},updateDialogVisible(e){this.dialogVisible=e,console.log(this.dialogVisible)}},beforeMount(){this.examNames=JSON.parse(localStorage.getItem("examsName")),console.log(this.examNames),this.selectHtml=`\n                <select id="mySelect" class="select-exams" >\n                    <option value="" disabled selected hidden>בחר מבחן</option>\n                        ${this.examNames.map(e=>`<option value="${e.Title}" :label="${e.subject}">${e.subject}</option>`).join("")}\n                </select>`}};a("be77");const Fa=N()(Ua,[["render",xa],["__scopeId","data-v-67d55dc4"]]);var Ra=Fa;const Ma={class:"edit-box"},Qa={class:"exam"},Ha={class:"exam-flex"},_a={key:0,class:"part-text"},za={key:0},Ga=["onUpdate:modelValue"],Wa={class:"que-index"},Ja=["onClick"],Za={key:1,class:"regular-que-flex"},Ya={class:"regular-que"},Xa={class:"question"},Ka={key:0,class:"que-text"},eo=["onUpdate:modelValue"],to={key:2,class:"sub-que"},ao={key:0,class:"title-que"},oo={class:"sub-que-flex"},so={class:"sub-que-letter"},no={key:0,class:"que-text"},io=["onUpdate:modelValue"],co={key:2,class:"american-answer-options"},lo={class:"label-text"};function ro(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("editRemoveBtns"),l=Object(o["resolveComponent"])("q-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ma,[Object(o["createElementVNode"])("div",Qa,[Object(o["createElementVNode"])("div",Ha,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examData.exam,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"flex",key:t},[t.part?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_a,[n.parentOpenEdit&&n.ite==a?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",za,Object(o["toDisplayString"])(t.part),1)),n.parentOpenEdit&&n.ite==a?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("textarea",{key:1,class:"que-text","onUpdate:modelValue":e=>t.part=e},null,8,Ga)),[[o["vModelText"],t.part]]):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(c,{onChildEvent:i.handleChildEvent,exam:t,index:a,event:e.$event},null,8,["onChildEvent","exam","index","event"])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",Wa,Object(o["toDisplayString"])(a+1+"."),1),Object(o["createElementVNode"])("button",{class:"add-que-btn",onClick:e=>i.addQue(t,a)},[Object(o["createVNode"])(l,{name:"fas fa-plus-circle",size:"25px",color:n.color},null,8,["color"])],8,Ja),"regularQue"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Za,[Object(o["createElementVNode"])("div",Ya,[Object(o["createElementVNode"])("div",Xa,[n.parentOpenEdit&&n.ite==a?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ka,Object(o["toDisplayString"])(t.questions[0]["que"]),1)),n.parentOpenEdit&&n.ite==a?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("textarea",{key:1,class:"que-text","onUpdate:modelValue":e=>t.questions[0].que=e},null,8,eo)),[[o["vModelText"],t.questions[0].que]]):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(c,{onChildEvent:i.handleChildEvent,exam:t,index:a,examData:n.examData},null,8,["onChildEvent","exam","index","examData"])])):Object(o["createCommentVNode"])("",!0),"subQue"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",to,[t.titleQue?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ao,Object(o["toDisplayString"])(t.titleQue),1)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.questions,(s,l)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"question-sub",key:l},[Object(o["createElementVNode"])("div",oo,[Object(o["createElementVNode"])("span",so,Object(o["toDisplayString"])(i.getHebLetters(l))+".",1),n.parentOpenEdit&&n.ite==a&&n.subIte==l?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",no,Object(o["toDisplayString"])(s.que),1)),n.parentOpenEdit&&n.ite==a&&n.subIte==l?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("textarea",{key:1,class:"que-text","onUpdate:modelValue":e=>t.questions[l].que=e},null,8,io)),[[o["vModelText"],t.questions[l].que]]):Object(o["createCommentVNode"])("",!0),"american"==s.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",co,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.options,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",{class:Object(o["normalizeClass"])(["answer-items",{checked:e.examUserData[s.Title]===t}]),key:a},[Object(o["createElementVNode"])("div",lo,Object(o["toDisplayString"])(t),1)],2))),128))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(c,{onChildEvent:i.handleChildEvent,exam:t,index:a,subIndex:l,examData:n.examData},null,8,["onChildEvent","exam","index","subIndex","examData"])]))),128))])):Object(o["createCommentVNode"])("",!0)]))),128))])])])}const mo={class:"change-menu"},uo={class:"save-cancel"};function po(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("q-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mo,[Object(o["createElementVNode"])("div",uo,[n.openSaveCancelBtn?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"save-btn",onClick:t[0]||(t[0]=e=>i.saveChanges(a.exam,a.index))},[Object(o["createVNode"])(c,{name:"fas fa-check",size:"28px"})])):Object(o["createCommentVNode"])("",!0),n.openSaveCancelBtn?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"cancel-btn",onClick:t[1]||(t[1]=e=>i.cancelChanges(a.exam,a.index))},[Object(o["createVNode"])(c,{name:"fas fa-times",size:"28px"})])):Object(o["createCommentVNode"])("",!0)]),n.openSaveCancelBtn?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"edit-btn",onClick:t[2]||(t[2]=e=>i.openEditBtn(a.exam,a.index))},[Object(o["createVNode"])(c,{name:"fas fa-edit",size:"26px"})])),Object(o["createElementVNode"])("button",{class:"remove-btn",onClick:t[3]||(t[3]=e=>i.deleteBtn(a.exam,a.index))},[Object(o["createVNode"])(c,{name:"fas fa-trash-alt",size:"26px"})])])}var ho={name:"editRemoveBtns",props:{exam:Object,index:Number,subIndex:Number,index:Number,examData:Object},data(){return{openEdit:!1,ite:null,openSaveCancelBtn:!1,preValue:null}},methods:{openEditBtn(e,t){this.openEdit=!0,this.openSaveCancelBtn=!0,this.ite=t,console.log(this.ite),"regularQue"==e.type?this.preValue=e.questions[0].que:"subQue"==e.type&&(console.log(e.questions[this.subIndex].que),this.preValue=e.questions[this.subIndex].que)},saveChanges(e,t){var a=null;"regularQue"==e.type?(a=e.questions[0].que,console.log(a)):"subQue"==e.type&&(a=e.questions[this.subIndex].que,console.log(a)),a!=this.preValue?(this.swalBeforeSave(e),console.log("yess")):(this.openEdit=!1,this.openSaveCancelBtn=!1)},cancelChanges(e,t){this.openEdit=!1,this.openSaveCancelBtn=!1,e.questions[0].que=this.preValue},deleteBtn(e,t){var a=this.examData.exam[0].part;this.$swal({title:"האם את/ה בטוח/ה שברצונך למחוק פריט זה ?",text:"שימ/י לב כי לא תוכל/י לחזור בך...",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, מחק פריט",cancelButtonText:"ביטול",showLoaderOnConfirm:!0}).then(o=>{o.isConfirmed&&("regularQue"==e.type?(console.log(t),console.log(this.examData.exam),this.examData.exam.splice(t,1),console.log(this.examData.exam)):"subQue"==e.type&&(console.log(this.examData.exam[t].questions),console.log(this.examData.exam),this.examData.exam[t].questions.splice(this.subIndex,1)),this.examData.exam[t].questions.length||(0==t&&(console.log(a),this.examData.exam[1]["part"]=a),this.examData.exam.splice(t,1)),this.$forceUpdate())})},swalBeforeSave(e){this.$swal({title:"האם את/ה בטוח/ה שברצונך לשמור שינויים אלו ?",text:"שימ/י לב כי לא תוכל/י לחזור בך...",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, שמור שינויים",cancelButtonText:"ביטול",showLoaderOnConfirm:!0}).then(t=>{this.openEdit=!1,this.openSaveCancelBtn=!1,t.isConfirmed?console.log(this.preValue):"regularQue"==e.type?e.questions[0].que=this.preValue:"subQue"==e.type&&(e.questions[this.subIndex].que=this.preValue)})}},watch:{openEdit(e){var t=this.ite,a=this.subIndex;this.$emit("childEvent",{newVal:e,index:t,subIndex:a})}},beforeMount(){}};a("784c");const bo=N()(ho,[["render",po],["__scopeId","data-v-1a0a94aa"]]);var Oo=bo;P()(ho,"components",{QIcon:T["a"]});var go={components:{editRemoveBtns:Oo},data(){return{examData:[],parentOpenEdit:!1,showFirstDiv:!1,showSecondDiv:!1,ite:null,subIte:null,isPartText:!1,color:"var(--main-background-color)"}},methods:{getHebLetters(e){return this.$getHebLetters(e)},async getExamForEdit(){var e=null;if(this.$isSharePointUrl){e=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.title}')/Items`);await Promise.all(e.data.value.map(e=>this.$asyncParse(e.exam).then(t=>(e.exam=t,{item:e}))))}else e=await y.a.get(this.$sharePointUrl+this.$route.params.title);this.examData=e.data.value[0],console.log(this.examData)},handleChildEvent(e){this.parentOpenEdit=e["newVal"],console.log(this.parentOpenEdit),this.ite=e["index"],this.subIte=e["subIndex"],console.log(this.subIte),console.log(this.ite)},addQue(e,t){console.log(this.examData.exam),this.examData.exam.splice(t+1,0,{}),console.log(this.examData.exam)}},beforeMount(){this.getExamForEdit()}};a("4f98");const jo=N()(go,[["render",ro],["__scopeId","data-v-60e306c9"]]);var ko=jo;P()(go,"components",{QIcon:T["a"]});const vo=e=>(Object(o["pushScopeId"])("data-v-de479638"),e=e(),Object(o["popScopeId"])(),e),fo={class:"main"},Eo=vo(()=>Object(o["createElementVNode"])("div",{class:"title"},"פתיחת הרשאות",-1)),yo={class:"permission"},xo={class:"permission-flex"},Bo={class:"permission-title"},No={key:0,class:"switch"},Vo=["checked","onClick"],wo=vo(()=>Object(o["createElementVNode"])("span",{class:"slider round"},null,-1));function Co(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fo,[Eo,Object(o["createElementVNode"])("div",yo,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.currentPermission,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"permisson-items",key:e},[Object(o["createElementVNode"])("div",xo,[Object(o["createElementVNode"])("span",Bo,Object(o["toDisplayString"])(e.Title)+":",1),n.isload?(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",No,[Object(o["createElementVNode"])("input",{type:"checkbox",checked:e.isAllow,onClick:a=>i.openPerm(e,t),ref:e+t},null,8,Vo),wo])):Object(o["createCommentVNode"])("",!0)])]))),128))])])}var So={data(){return{urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,targetRoleDefId:null,token:null,currentPermission:[],Id:null,isload:!1}},methods:{async getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async getIdOfgroup(){const e=await y.a.get(this.urlForId);this.groupId=e.data.value,console.log(this.groupId)},async getTargetRoleDefenitionId(){const e=await y.a.get("https://portal.army.idf/sites/hafifon383/_api/web/roledefinitions/getbyname('שליטה מלאה')/id");this.targetRoleDefId=e.data.value,console.log(this.targetRoleDefId)},async setNewPermForGroup(e){return y.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/addroleassignment(principalid='${this.groupId}' ,roledefid='${this.targetRoleDefId}')`,{},{headers:{"X-RequestDigest":this.token}})},async openPerm(e,t){var a=null,o=this.$refs[e+t];await this.getPermListId(e),o.checked?(a=!0,this.setNewPermForGroup(e),this.updatePerm(a)):(a=!1,this.updatePerm(a),this.deletePer(e)),console.log(o),console.log(a)},async checkTheCurrentPerm(){var e=null;e=this.$isSharePointUrl?await y.a.get(this.$sharePointUrl+"getByTitle('isPermissionActive')/items"):await y.a.get(this.$sharePointUrl+"isPermissionActive"),this.currentPermission=e.data.value},async updatePerm(e){await y.a.post(this.$sharePointUrl+`getByTitle('isPermissionActive')/Items('${this.Id}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"},isAllow:e},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async deletePer(e){await y.a.post(this.$sharePointUrl+`getByTitle('${e.type}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async getPermListId(e){const t=await y.a.get(this.$sharePointUrl+`getByTitle('isPermissionActive')/items?$filter=type eq '${e.type}'`);this.Id=t.data.value[0].ID,console.log(this.Id)}},async beforeMount(){this.$isSharePointUrl&&(await this.getIdOfgroup(),this.getTargetRoleDefenitionId(),this.token=await this.getToken()),this.checkTheCurrentPerm(),this.isload=!0}};a("8fbf");const Do=N()(So,[["render",Co],["__scopeId","data-v-de479638"]]);var To=Do;const Io=e=>(Object(o["pushScopeId"])("data-v-39d59d47"),e=e(),Object(o["popScopeId"])(),e),Ao={key:0,class:"spinner"},Po={key:1,class:"quiz-box"},$o={key:0},qo={key:0,class:"question"},Lo={class:"questions-text"},Uo={class:"current-que"},Fo=["onUpdate:modelValue","value","onClick","name","id","disabled"],Ro=["for"],Mo={class:"answers-text"},Qo={key:2,class:"bank-quiz"},Ho={class:"option-title"},_o=["onUpdate:modelValue","id","value","onClick","disabled"],zo=["for"],Go={key:3},Wo={class:"que-title"},Jo={class:"questions-without-ans"},Zo={key:4,class:"drag-drop"},Yo=["disabled"],Xo=["disabled"],Ko=Io(()=>Object(o["createElementVNode"])("span",{class:"finish-btn-text"}," סיים ",-1)),es=[Ko];function ts(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("dragAndDrop");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ao,[Object(o["createVNode"])(c)])),n.isFinished&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Po,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examData,(e,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("form",{key:a},[a==n.ite?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$o,[null!=e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qo,[Object(o["createElementVNode"])("span",Lo,Object(o["toDisplayString"])(e.Title),1),Object(o["createElementVNode"])("div",Uo,Object(o["toDisplayString"])(n.ite+1)+"/"+Object(o["toDisplayString"])(n.examData.length),1)])):Object(o["createCommentVNode"])("",!0),"american"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"answer-options",ref:e["Title"]},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.answers,(t,s)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"answer-items",style:Object(o["normalizeStyle"])("--cursor:"+n.inputsCursor),key:s},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":t=>n.userData[e.Title]=t,ref:t,value:t,onClick:t=>i.clickHandler(t,a,e["Title"]),name:e.Title,id:t,disabled:n.userData[e.Title]},null,8,Fo),[[o["vModelRadio"],n.userData[e.Title]]]),Object(o["createElementVNode"])("label",{for:t},[Object(o["createElementVNode"])("div",Mo,Object(o["toDisplayString"])(t),1)],8,Ro)],4))),128))],512)):Object(o["createCommentVNode"])("",!0),"bankQue"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Qo,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object.keys(e.bankOptions),(t,s)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"bank-quiz-que",key:t+s},[Object(o["createElementVNode"])("div",Ho,Object(o["toDisplayString"])(t),1),Object(o["createElementVNode"])("div",{class:"VX",ref:t},null,512),Object(o["createElementVNode"])("div",{class:"bank-options",ref:t+s},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.bankCorrect,(c,l)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"bank-words-items",key:c+l},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":a=>n.bankUserData[e.Title][t]=a,id:c+s,value:c,onClick:o=>i.clickBankHandler(o,t,n.bankUserData[e.Title],a,s),disabled:""!=n.bankUserData[e.Title][t]},null,8,_o),[[o["vModelRadio"],n.bankUserData[e.Title][t]]]),Object(o["createElementVNode"])("label",{class:"bank-options-text",for:c+s},Object(o["toDisplayString"])(c),9,zo)]))),128))],512)]))),128))])):Object(o["createCommentVNode"])("",!0),null==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Go,[Object(o["createElementVNode"])("div",Wo,"שאלה "+Object(o["toDisplayString"])(n.ite+1)+" נסו בעצמכם",1),Object(o["createElementVNode"])("div",Jo,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.Title),1)]),n.examData.length!=n.ite+1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"next-btn-on-type-null",onClick:t[0]||(t[0]=(...e)=>i.nextQue&&i.nextQue(...e))},"הבא")):Object(o["createCommentVNode"])("",!0),n.examData.length==n.ite+1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"next-btn-on-type-null",onClick:t[1]||(t[1]=(...e)=>i.submit&&i.submit(...e))},"סיים")):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),"dragDrop"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zo,[Object(o["createVNode"])(l,{question:e},null,8,["question"])])):Object(o["createCommentVNode"])("",!0),n.ite!=n.examData.length-1&&null!=e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:5,class:"next-button",onClick:t[2]||(t[2]=(...e)=>i.nextQue&&i.nextQue(...e)),ref:"nextBtn",disabled:!n.userData[e.Title]&&n.isDisabled,style:Object(o["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},"הבא",12,Yo)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]))),128)),n.examData.length==n.ite+1&&null!=n.examData[n.ite].type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,onClick:t[3]||(t[3]=(...e)=>i.submit&&i.submit(...e)),class:"next-button",disabled:!n.isEndBtnAllow,ref:"endBtn",style:Object(o["normalizeStyle"])("--next-btn-cusror:"+n.nextBtnCursor)},es,12,Xo)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)],64)}const as=e=>(Object(o["pushScopeId"])("data-v-fa609e52"),e=e(),Object(o["popScopeId"])(),e),os={key:0,class:"spinner"},ss={key:1,class:"results-card"},ns={class:"practice-results-score"},is={class:"score-items"},cs={class:"countRightsAns"},ls={key:0,class:"results-table"},rs=as(()=>Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,"השאלה"),Object(o["createElementVNode"])("th",null,"התשובה שענית"),Object(o["createElementVNode"])("th",null,"התשובה הנכונה")])],-1)),ms={class:"text"},ds={class:"text"},us={class:"text"},ps={class:"text"},hs={class:"text"},bs={class:"text"},Os={class:"btn"},gs=Object(o["createTextVNode"])("חזרה לתרגולים"),js=Object(o["createTextVNode"])("לסרטון בנושא"),ks={key:1,class:"all-correct"},vs=as(()=>Object(o["createElementVNode"])("span",null,"כל התשבות נכונות, עבודה מעולה !",-1)),fs=[vs];function Es(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("circle-progress"),r=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",os,[Object(o["createVNode"])(c)])),n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ss,[Object(o["createElementVNode"])("div",ns,[Object(o["createElementVNode"])("div",is,[Object(o["createVNode"])(l,{percent:n.score,"show-percent":!0,"fill-color":"var(--main-background-color)",viewport:!0,transition:700},null,8,["percent"]),Object(o["createElementVNode"])("div",cs,Object(o["toDisplayString"])(n.countRightsAns),1)])]),n.showMassaAllCorrect?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ls,[Object(o["createElementVNode"])("table",null,[rs,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.userResults,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",ms,Object(o["toDisplayString"])(e.theCorrectAns),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",ds,Object(o["toDisplayString"])(e.wrongAns),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",us,Object(o["toDisplayString"])(e.wrongQue),1)])]))),128)),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.userBankResults,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:e},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",ps,Object(o["toDisplayString"])(e.theCorrectBankAns),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",hs,Object(o["toDisplayString"])(e.wrongBankAns),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",bs,Object(o["toDisplayString"])(e.wrongBankQue),1)])]))),128))])]),Object(o["createElementVNode"])("div",Os,[Object(o["createVNode"])(r,{class:"back-btn",to:{name:"PracticesList"}},{default:Object(o["withCtx"])(()=>[gs]),_:1}),Object(o["createVNode"])(r,{class:"video-btn",to:{name:"PracticesList"}},{default:Object(o["withCtx"])(()=>[js]),_:1})])])),n.showMassaAllCorrect?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ks,fs)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)],64)}var ys={name:"practiceResult",components:{CircleProgress:rt.a,loadingSpinner:Y},data(){return{userResults:[],userBankResults:[],score:"",showMassaAllCorrect:!1,isBankQue:!1,countRightsAns:null,isLoadForSpinner:!1,timeOut:null}},methods:{getData(){var e=localStorage.getItem("pointsInPerc");this.score=JSON.parse(e);var t=localStorage.getItem("results");this.userResults=JSON.parse(t);var a=localStorage.getItem("bankResults");this.userBankResults=JSON.parse(a),this.countRightsAns=localStorage.getItem("countRightsAns"),console.log(this.countRightsAns),0==this.userResults.length&&0==this.userBankResults.length&&(this.showMassaAllCorrect=!0),this.isLoadForSpinner=!0}},async beforeMount(){this.timeOut=await setTimeout(this.getData,300)}};a("3c3a");const xs=N()(ys,[["render",Es],["__scopeId","data-v-fa609e52"]]);var Bs=xs;const Ns=e=>(Object(o["pushScopeId"])("data-v-401c39de"),e=e(),Object(o["popScopeId"])(),e),Vs={class:"drag-drop-box"},ws={class:"options"},Cs=["value"],Ss=Ns(()=>Object(o["createElementVNode"])("input",{type:"radio"},null,-1));function Ds(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Vs,[Object(o["createElementVNode"])("div",ws,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object.keys(n.question.dragOptions),(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",{class:"option-items",key:t,value:t+1,draggable:"true"},[Ss,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e),1)],8,Cs))),128))])])}var Ts={name:"dragAndDrop",props:{question:Array},data(){return{question:this.question}},methods:{dragStart(e,t){}},async beforeMount(){}};a("de8b");const Is=N()(Ts,[["render",Ds],["__scopeId","data-v-401c39de"]]);var As=Is,Ps={components:{practiceResult:Bs,loadingSpinner:Y,dragAndDrop:As},data(){return{examData:[],userData:{},bankUserData:{},grades:0,isFinished:!1,isFinishedButton:!1,ite:0,inputsCursor:"pointer",nextBtnCursor:"not-allowed",wrongAns:"",wrongQue:"",theCorrectAns:"",results:[],bankResults:[],bankWrongAns:[],parseAns:[],isDisabled:!0,bankQuePoints:0,isLoadForSpinner:!1,isEndBtnAllow:!1,countRightsAns:0,queWithoutAns:0}},methods:{clickHandler(e,t,a){this.inputsCursor="not-allowed",this.nextBtnCursor="pointer";const o=e.target,s=o.value,n=this.examData[t]["correctAnswer"],i=this.$refs[a].children[n].querySelector("input"),c=i.value;var l=this.$refs["nextBtn"],r=this.$refs["endBtn"];s!=c?o.classList.add("input-answer-wrong"):(this.countRightsAns++,console.log(this.countRightsAns)),i.classList.add("input-answer-right"),this.ite!=this.examData.length-1&&(console.log("yess"),l.classList.add("next-btn-on")),t==this.examData.length-1&&(this.isEndBtnAllow=!0,r.classList.add("next-btn-on"))},clickBankHandler(e,t,a,o,s){var n=this.$refs[t+s];n.classList.add("bank-input-cursor"),this.checkIfcorrectBank(e,t,a,o),this.disableNextBtn(a),o==this.examData.length-1&&(this.isEndBtnAllow=!0,endBtn.classList.add("next-btn-on"))},checkIfcorrectBank(e,t,a,o){const s=e.target,n=s.value,i=this.$refs[t];var c=0;Object.keys(this.examData[o].bankOptions).forEach(e=>{c++}),n==this.examData[o].bankOptions[t]?(console.log("correct"),i.classList.add("input-bank-right"),this.bankQuePoints+=100/(this.examData.length-this.queWithoutAns)/c,this.countRightsAns++,console.log(this.countRightsAns)):(console.log("not correct"),i.classList.add("input-bank-wrong"),this.bankResults.push({wrongBankQue:this.examData[o].Title,wrongBankAns:n+": "+t,theCorrectBankAns:this.examData[o].bankOptions[t]+": "+t,type:"bankQue"}))},disableNextBtn(e){var t=0;if(Object.values(e).forEach(e=>{console.log(e),""==e&&t++}),t>1)this.isDisabled=!0;else{this.isDisabled=!1;const e=this.$refs["nextBtn"];e.classList.add("next-btn-on"),this.nextBtnCursor="pointer"}},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},nextQue(){this.isDisabled=!0,this.inputsCursor="pointer",this.nextBtnCursor="not-allowed",this.ite++,this.isFinishedButton=!1},backQue(){this.ite--},updateVmodelAmerican(){this.examData.forEach(e=>{"american"==e.type&&(console.log("american"),this.userData[e.Title]="")}),this.isFinished=!0},updateVmodelBank(){this.examData.forEach(e=>{"bankQue"==e.type&&(this.bankUserData[e.Title]={},Object.keys(e.bankOptions).forEach(t=>{this.bankUserData[e.Title][t]=""}))}),console.log(this.bankUserData),this.isFinished=!0},submit(){this.$router.push({name:"result"}),this.examData.forEach(e=>{"american"==e.type&&(this.userData[e.Title]==e.answers[e.correctAnswer]?this.grades++:(this.wrongQue=e.Title,this.wrongAns=this.userData[e.Title],this.theCorrectAns=e.answers[e.correctAnswer],this.results.push({wrongQue:this.wrongQue,wrongAns:this.wrongAns,theCorrectAns:this.theCorrectAns,type:"AmerQue"})))});var e=Math.round(this.grades/(this.examData.length-this.queWithoutAns)*100+this.bankQuePoints);localStorage.setItem("pointsInPerc",JSON.stringify(e)),localStorage.setItem("results",JSON.stringify(this.results)),console.log(this.results),localStorage.setItem("bankResults",JSON.stringify(this.bankResults)),console.log(this.bankResults);var t=this.countRightsAns+"/"+(this.examData.length-this.queWithoutAns);localStorage.setItem("countRightsAns",t)},async getData(){var e=null;if(this.$isSharePointUrl){e=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.title}')/Items`),this.examData=e.data.value;await Promise.all(this.examData.map(e=>this.asyncParse(e.answers).then(t=>(e["answers"]=t,{item:e})))),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankCorrect).then(t=>(e["bankCorrect"]=t,{item:e}))})),await Promise.all(this.examData.map(e=>{if("bankQue"==e.type)return this.asyncParse(e.bankOptions).then(t=>(e["bankOptions"]=t,{bankOption:e}))}))}else e=await y.a.get(this.$sharePointUrl+"practice"),this.examData=e.data.value,console.log(this.examData),this.examData=this.examData.filter(e=>e.Title==this.$route.params.title)[0],this.examData=this.examData.exam,console.log(this.examData);this.examData.forEach(e=>{null==e.type&&this.queWithoutAns++}),console.log(this.examData.length),console.log(this.queWithoutAns)},asyncSetTimeout(){return new Promise(e=>{setTimeout(e,500)})}},async beforeMount(){this.getData(),await this.asyncSetTimeout(),this.updateVmodelBank(),this.isLoadForSpinner=!0},mounted(){this.updateVmodelAmerican()}};a("4411");const $s=N()(Ps,[["render",ts],["__scopeId","data-v-39d59d47"]]);var qs=$s;const Ls=e=>(Object(o["pushScopeId"])("data-v-16aee9e0"),e=e(),Object(o["popScopeId"])(),e),Us={class:"main"},Fs={key:0,class:"loader-spinner"},Rs={key:1,class:"box"},Ms={class:"name-of-exam"},Qs=Ls(()=>Object(o["createElementVNode"])("h2",{class:"instructions-title"},"לפני שמתחילים אנא קרא/י את ההוראות:",-1)),Hs={class:"instructions"},_s=Ls(()=>Object(o["createElementVNode"])("div",{class:"router-text"},"התחל",-1));function zs(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Us,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fs,[Object(o["createVNode"])(c)])),n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rs,[Object(o["createElementVNode"])("div",Ms,Object(o["toDisplayString"])(n.title),1),Qs,Object(o["createElementVNode"])("div",Hs,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.instructions,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"instructions-items",key:e},Object(o["toDisplayString"])(e),1))),128))]),Object(o["createVNode"])(l,{to:{name:"exams",params:{Title:this.$route.params.Title}},class:"start-btn"},{default:Object(o["withCtx"])(()=>[_s]),_:1},8,["to"])])):Object(o["createCommentVNode"])("",!0)])}var Gs={components:{loadingSpinner:Y},data(){return{title:null,isLoadForSpinner:!1,instructions:[]}},methods:{asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async getInstructions(){var e=null;if(this.$isSharePointUrl){e=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items?$select=instructions`);var t=e.data.value;await Promise.all(t.map(e=>this.asyncParse(e.instructions).then(t=>(e.instructions=t,{item:e}))));this.instructions=t[0].instructions}else{console.log(this.$sharePointUrl),e=await y.a.get(this.$sharePointUrl+this.$route.params.Title);const t=e.data.value[0];this.instructions=t.instructions}console.log(this.instructions)},spinner(){this.isLoadForSpinner=!0}},async beforeMount(){var e=localStorage.getItem("examsName");e=JSON.parse(e),this.title=e.filter(e=>e.Title==this.$route.params.Title)[0],this.title=this.title.subject,console.log(this.title),this.getInstructions();setTimeout(this.spinner,250)}};a("2b71");const Ws=N()(Gs,[["render",zs],["__scopeId","data-v-16aee9e0"]]);var Js=Ws;const Zs={key:0,class:"loader-spinner"},Ys={class:"title-timer"},Xs={key:0,class:"title"},Ks={key:1,class:"timer"},en={key:1,class:"exam-box"},tn={class:"part-text"},an={class:"que-index"},on={key:0,class:"regular-que"},sn={class:"question"},nn={class:"que-text"},cn=["onInput","onUpdate:modelValue"],ln={key:1,class:"sub-que"},rn={key:0,class:"title-que"},mn={class:"que-text"},dn={class:"sub-que-letter"},un=["onInput","onUpdate:modelValue"],pn={key:1,class:"american-answer-options"},hn=["onUpdate:modelValue","value","onChange","name","id"],bn={class:"label-text"},On={key:2,class:"send"},gn={key:0,class:"show-red-Warn"},jn={key:3,class:"alreadySubmitted"};function kn(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner"),l=Object(o["resolveComponent"])("timer");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Zs,[Object(o["createVNode"])(c)])),Object(o["createElementVNode"])("div",Ys,[!n.isAlreadySub&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Xs,Object(o["toDisplayString"])(e.examsName.subject),1)):Object(o["createCommentVNode"])("",!0),!n.isAlreadySub&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ks,[Object(o["createVNode"])(l,{totalTime:500,routeName:n.routerName},null,8,["routeName"])])):Object(o["createCommentVNode"])("",!0)]),!n.isAlreadySub&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("form",en,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.examData.exam,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"exam",key:a},[Object(o["createElementVNode"])("div",tn,Object(o["toDisplayString"])(t.part),1),Object(o["createElementVNode"])("div",an,Object(o["toDisplayString"])(a+1+"."),1),"regularQue"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",on,[Object(o["createElementVNode"])("div",sn,[Object(o["createElementVNode"])("div",nn,Object(o["toDisplayString"])(t.questions[0]["que"]),1),"open"==t.questions[0].type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"open-que",ref:"inputRef_"+t.id},[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{id:"",cols:"30",rows:"10",placeholder:"הכנס תשובה",onInput:o=>i.clickHandler(o,a,e.inner,e.subIndex,t.id),"onUpdate:modelValue":e=>t.inputAns=e},"\r\n                            ",40,cn),[[o["vModelText"],t.inputAns]])],512)):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0),"subQue"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ln,[t.titleQue?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",rn,Object(o["toDisplayString"])(t.titleQue),1)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.questions,(t,s)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"question",key:s},[Object(o["createElementVNode"])("div",mn,[Object(o["createElementVNode"])("span",dn,Object(o["toDisplayString"])(i.getHebLetters(s))+".",1),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.que),1)]),"open"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"open-que",ref:"inputRef_"+t.id},[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{id:"",cols:"30",rows:"10",placeholder:"הכנס תשובה",onInput:o=>i.clickHandler(o,a,e.inner,s,t.id),"onUpdate:modelValue":e=>t.inputAns=e},"\r\n                        ",40,un),[[o["vModelText"],t.inputAns]])],512)):Object(o["createCommentVNode"])("",!0),"american"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pn,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.options,(e,c)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",{class:Object(o["normalizeClass"])(["answer-items",{checked:n.examUserData[t.Title]===e}]),key:c,ref:"inputRef_"+a+c},[Object(o["createElementVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio","onUpdate:modelValue":e=>t.inputAns=e,value:e,onChange:e=>i.clickHandler(e,a,c,s,t.id),name:e,id:e,ref:"inputRef_"+a},null,40,hn),[[o["vModelRadio"],t.inputAns]])]),Object(o["createElementVNode"])("div",bn,Object(o["toDisplayString"])(e),1)],2))),128)),Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]))),128))])):Object(o["createCommentVNode"])("",!0)]))),128))])):Object(o["createCommentVNode"])("",!0),!n.isAlreadySub&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",On,[n.showRedWarn?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",gn,"* אנא בדוק שענית על כל השאלות")):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("button",{class:"submit-btn",onClick:t[0]||(t[0]=(...e)=>i.sendData&&i.sendData(...e))},"סיים")])):Object(o["createCommentVNode"])("",!0),n.isAlreadySub&&n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",jn," כבר הגשת מבחן זה... ")):Object(o["createCommentVNode"])("",!0)],64)}const vn={key:0},fn={key:1};function En(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoad?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",vn,"00:00:00")),n.isLoad?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fn,Object(o["toDisplayString"])(n.fullTimer),1)):Object(o["createCommentVNode"])("",!0)],64)}var yn={name:"timer",props:{totalTime:{type:Number,required:!0},routeName:String},data(){return{timer:null,hours:0,minutes:0,seconds:0,timeRemaining:this.totalTime,fullTimer:null,isLoad:!1,routeName:this.routeName,urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,token:null,PermListId:null}},mounted(){this.startTimer()},methods:{getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},startTimer(){this.timer=setInterval(()=>{this.updateTimer()},1e3)},updateTimer(){if(console.log(this.timeRemaining),this.timeRemaining>0){this.hours=Math.floor(this.timeRemaining/3600);var e=this.timeRemaining%3600;this.minutes=Math.floor(e/60),this.seconds=Math.floor(e%60);const t=this.addZeroBefore(this.hours),a=this.addZeroBefore(this.minutes),o=this.addZeroBefore(this.seconds);this.fullTimer=`${t}:${a}:${o}`,this.isLoad=!0,this.timeRemaining--}else this.fullTimer="00:00:00",clearInterval(this.timer),console.log("time over"),this.timerEnded()},timerEnded(){localStorage.setItem("prevExit",!1),console.log("time is end"),this.deletePer().then(e=>{e?this.$swal({title:"נגמר הזמן...",text:"שים לב שנגמר לך הזמן. המבחן יוגש עם כל מה שפתרת עד עכשיו !",icon:"warning",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"}).then(e=>{this.$router.push({name:"submitted",params:{Title:this.routeName}})}):this.$swal({title:"שגיאה!",text:"נגמר לך הזמן, אך קרתה שגיאה בשליחת המבחן. אנא פנה לאחראי",icon:"error",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"})}).catch(e=>{console.error(e),this.$swal({title:"אין רשת!",text:"שים לב שנגמר לך הזמן, אך משום שאין רשת המבחן לא הוגש. אנא פנה לאחראי...",icon:"error",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"OK"})})},addZeroBefore(e){return e<10?"0"+e:e},getIdOfgroup(){return y.a.get(this.urlForId).then(e=>e.data.value)},async deletePer(){this.token=await this.getToken(),this.groupId=await this.getIdOfgroup(),console.log(this.groupId);try{const e=await y.a.post(this.$sharePointUrl+`getByTitle('${this.routeName}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});if(console.log(e.status),e.status>=200&&e.status<300){await this.updatePerm();return console.log("success deletePer"),!0}return console.log("no success deletePer"),!1}catch(e){return console.log("no success deletePer, catch"),!1}},getPermListId(){return y.a.get(this.$sharePointUrl+`getByTitle('isPermissionActive')/items?$filter=type eq '${this.routeName}'`).then(e=>e.data.value[0].ID)},async updatePerm(){this.PermListId=await this.getPermListId();try{const e=await y.a.post(this.$sharePointUrl+`getByTitle('isPermissionActive')/Items('${this.PermListId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"},isAllow:!1},{headers:{"X-HTTP-Method":"MERGE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}});return e.status>=200&&e.status<300?(console.log("success updatePerm"),!0):(console.log("no success updatePerm"),!1)}catch(e){return console.log("no success updatePerm, catch"),!1}}},beforeUnmount(){clearInterval(this.timer)}};const xn=N()(yn,[["render",En]]);var Bn=xn,Nn={components:{loadingSpinner:Y,timer:Bn},data(){return{examData:[],examUserData:{},isUserDataEmpty:!0,boolIfEmpty:[],dataToPost:[],token:"",routerName:null,userName:"",userId:"",isAlreadySub:null,isLoadForSpinner:!1,examExistData:[],subRouterIsShow:!1,showRedWarn:!1,showRedWarnToAmerican:!1,showExitAlert:!0,urlForId:"https://portal.army.idf/sites/hafifon383/_api/web/sitegroups/getbyname('מבקרי חפיפון')/id",groupId:null,isTime:!0}},methods:{getHebLetters(e){return this.$getHebLetters(e)},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},clickHandler(e,t,a,o,s){console.log(s),this.showRedWarn=!1;const n=this.$refs[`inputRef_${t}${a}`];console.log(n);const i=e.target.value;this.message=i,i.trim()?(this.isUserDataEmpty=!1,this.boolIfEmpty[s]=this.isUserDataEmpty,console.log(this.boolIfEmpty)):(this.boolIfEmpty[s]=!0,console.log(this.boolIfEmpty),console.log("is empty"))},getToken(){return y.a.post("https://portal.army.idf/sites/hafifon383/_api/contextinfo").then(e=>e.data.FormDigestValue)},async postExams(){console.log("you in post func");var e=[...this.examData.exam],t=null;return console.log(this.examsName.subject),this.$isSharePointUrl?(this.token=await this.getToken(),t=await y.a.post(this.$sharePointUrl+"getByTitle('pending tests')/Items",{Title:this.userName,exam:JSON.stringify(e),num:this.userId,type:this.$route.params.Title,name:this.examsName.subject},{headers:{"X-RequestDigest":this.token}})):(console.log(this.$route.params),t=await y.a.post(this.$sharePointUrl+"pendingTests",{value:[{Title:"sdsdsd",exam:e,num:this.userId,type:this.$route.params.Title,name:this.examsName.subject}]})),t.status>=200&&t.status<300},submit(){var e=!0;this.boolIfEmpty.forEach(t=>{0!=t&&(e=!1)}),console.log(e),1==e?(this.showRedWarn=!1,this.subRouterIsShow=!0):this.showRedWarn=!0},showAlertConfirmBeforeSend(){this.$swal({title:"האם אתה בטוח שברצונך להגיש מבחן זו ?",text:"אם תגיש לא תוכל/י לחזור עליו...",icon:"warning",showCancelButton:!0,confirmButtonColor:"var(--main-background-color)",confirmButtonText:"כן, הגש מבחן",cancelButtonText:"ביטול",customClass:{popup:"submit-swal"}}).then(e=>{e.value&&(this.postExams()?(this.showExitAlert=!1,this.$swal({title:"נשלח בהצלחה",icon:"success",confirmButtonColor:"var(--main-background-color)",confirmButtonText:"סיים"}),console.log(this.showExitAlert),this.$router.push({name:"submitted",params:{Title:this.$route.params.Title}}),this.deletePer()):this.$swal("Not Send","אירעה שגיעה","not succeeded"),console.log(this.$route))})},async sendData(){this.submit();for(let t=0;t<this.boolIfEmpty.length;t++){console.log(this.$refs["inputRef_"+t]);var e=this.$refs["inputRef_"+t].children[0];if(1==this.boolIfEmpty[t])return this.$refs["inputRef_"+t].scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("text-aria-placeholder"),alert("אנא הכנס תשובה בשאלה "+(t+1))}1==this.subRouterIsShow&&this.showAlertConfirmBeforeSend()},checkIfExamExist(){return this.userId=localStorage.getItem("userId"),this.$isSharePointUrl?y.a.get(this.$sharePointUrl+`getByTitle('pending tests')/Items?$filter=(num eq '${this.userId}') and (type eq '${this.$route.params.Title}')`).then(e=>e.data.value):y.a.get(this.$sharePointUrl+`pendingTests?num=${this.userId}&type=${this.$route.params.Title}`).then(e=>e.data.value)},spinner(){this.isLoadForSpinner=!0},pushToArrToCheckIfEmpty(){this.examData.exam.forEach(e=>{e.questions.forEach(e=>{this.boolIfEmpty.push(!0)})}),console.log(this.boolIfEmpty)},handlePageReload(e){e.preventDefault(),e.returnValue=""},getIdOfgroup(){return y.a.get(this.urlForId).then(e=>e.data.value)},async deletePer(){this.groupId=await this.getIdOfgroup(),console.log(this.groupId);await y.a.post(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/roleassignments/getbyprincipalid('${this.groupId}')`,{__metadata:{type:"SP.Data.IsPermissionActiveListItem"}},{headers:{"X-HTTP-Method":"DELETE","IF-MATCH":"*","X-RequestDigest":this.token,Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}})},async postSh(){var e=["*מבחן זה רשום בלשון זכר אך פונה אל כל המגדרים כלשון אחד.","*בכל שאלה בה אופן הטיפול כולל סיוע של צוות נוסף, יש לציין את דרך הפנייה אל הצוות ואת הפרטים הנחוצים."],t={exam:[{type:"subQue",questions:[{type:"open",que:"הסבר מהו  IMAGEומדוע משתמשים בו. הסבר מהו IMAGE ייעודי וציין אילו מערכות דורשות אותו (4 נק')",inputAns:"",id:0,points:4,pointsReceived:"",comments:""},{type:"open",que:"הצג בקצרה את שלושת הדרכים שדרכם ניתן להתקין IMAGE על מחשב וציין איזה מערכת הפעלה בכל דרך? (2  נק')",inputAns:"",id:1,points:2,pointsReceived:"",comments:""}]},{type:"subQue",questions:[{type:"open",que:"פרט, כיצד נפיץ אימג' משואה על מחשב? מה חשוב לוודא לפני הפצת האימג'? (3 נק')",inputAns:"",id:2,points:3,pointsReceived:"",comments:""},{type:"open",que:"פרט את שלבי התקנת המשואה לאחר התקנת האימג' (2 נק')",inputAns:"",id:3,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט, כיצד נפיץ מפות על משואה? אילו מפות נפיץ? (2 נק')",inputAns:"",id:4,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט, מה ההבדל בין משואה אחודה ללקוח? ציין שני הבדלים עיקריים. (2 נק')",inputAns:"",id:5,points:2,pointsReceived:"",comments:""}]},{type:"subQue",questions:[{type:"open",que:"איזה 2 מערכות קיימות ברשת הMOIP? ומה הקונבנציה של כל מערכת? (2 נק')",inputAns:"",id:6,points:2,pointsReceived:"",comments:""},{type:"open",que:"פרט כיצד נתקין MOIP ואיזה אימג' המערכת דורשת?(2 נק')",inputAns:"",id:7,points:2,pointsReceived:"",comments:""},{type:"open",que:"ציין בקצרה מה השלבים לאחר ההפצת אימג'? (2 נק')",inputAns:"",id:8,points:2,pointsReceived:"",comments:""},{type:"open",que:"מה הדומיין של MOIP? (1 נק')",inputAns:"",id:9,points:1,pointsReceived:"",comments:""}]},{type:"regularQue",questions:[{que:"ציין 2 דרכים להתקנת WIN10 , בחר דרך אחת ופרט כיצד תתקין מחשב WIN10. (3 נק')",type:"open"}],inputAns:"",id:10,points:3,pointsReceived:"",comments:""},{type:"regularQue",questions:[{que:"ציין את תפקיד המקשים F2,F8,F9,F10,F12 הבאים בהפעלת המחשב (2 נק')",type:"open"}],inputAns:"",id:11,points:2,pointsReceived:"",comments:""},{}]};this.token=await this.getToken();await y.a.post(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items`,{Title:"0",instructions:JSON.stringify(e),exam:JSON.stringify(t)},{headers:{"X-RequestDigest":this.token}})}},async beforeMount(){console.log(this.$route.params),this.routerName=this.$route.params.Title,this.userName=localStorage.getItem("userName"),console.log(this.userName);const e=localStorage.getItem("examsName"),t=JSON.parse(e);this.examsName=t.filter(e=>e.Title==this.$route.params.Title)[0],console.log(this.examsName),this.examExistData=await this.checkIfExamExist(),console.log("yess");var a=null;if(this.$isSharePointUrl){try{console.log(this.examExistData),this.examExistData.length?(console.log("is full"),this.isLoadForSpinner=!0,this.isAlreadySub=!0):(console.log("is empty, you should see the exam"),this.isAlreadySub=!1)}catch{console.log("is empty, you should see the exam")}console.log(this.isAlreadySub),a=await y.a.get(this.$sharePointUrl+`getByTitle('${this.$route.params.Title}')/Items`);var o=a.data.value;this.examData=o;await Promise.all(this.examData.map(e=>this.asyncParse(e.exam).then(t=>(e.exam=t,{item:e}))));this.examData=this.examData[0]}else{a=await y.a.get(this.$sharePointUrl+""+this.$route.params.Title);o=a.data.value;this.examData=o[0],this.isAlreadySub=!1}console.log(this.examData);setTimeout(this.spinner,170);this.pushToArrToCheckIfEmpty()},mounted(){window.addEventListener("beforeunload",this.handlePageReload)},beforeRouteLeave(e,t,a){var o=JSON.parse(localStorage.getItem("prevExit"));console.log(o),console.log(this.showExitAlert),this.showExitAlert&&0!=o?this.$swal({title:"את/ה בטוח/ה שברצונך לצאת ממבחן זה ?",text:"אם תצא/י השינויים לא ישמרו !",icon:"warning",showCancelButton:!0,confirmButtonText:"צא/י",cancelButtonText:"הישאר/י",confirmButtonColor:"var(--main-background-color)"}).then(e=>{e.isConfirmed?a():a(!1)}):a(),localStorage.setItem("prevExit",!0)},beforeUnmount(){window.removeEventListener("beforeunload",this.handlePageReload)}};a("d4b7");const Vn=N()(Nn,[["render",kn],["__scopeId","data-v-001a5d0e"]]);var wn=Vn;const Cn={class:"title"};function Sn(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Cn,"המבחן הוגש בהצלחה")}var Dn={};a("8904");const Tn=N()(Dn,[["render",Sn],["__scopeId","data-v-5876e149"]]);var In=Tn;const An=e=>(Object(o["pushScopeId"])("data-v-7e375bfc"),e=e(),Object(o["popScopeId"])(),e),Pn={key:0,class:"loader-spinner"},$n={key:1,class:"no-permission-mess"},qn=An(()=>Object(o["createElementVNode"])("h1",null,"אין לך הרשאות לעמוד זה...",-1)),Ln=[qn];function Un(e,t,a,s,n,i){const c=Object(o["resolveComponent"])("loadingSpinner");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.isLoadForSpinner?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pn,[Object(o["createVNode"])(c)])),n.isLoadForSpinner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$n,Ln)):Object(o["createCommentVNode"])("",!0)],64)}var Fn={components:{loadingSpinner:Y},data(){return{isLoadForSpinner:!1}},methods:{spinner(){this.isLoadForSpinner=!0}},beforeMount(){setTimeout(this.spinner,170)}};a("bca1");const Rn=N()(Fn,[["render",Un],["__scopeId","data-v-7e375bfc"]]);var Mn=Rn;const Qn=e=>(Object(o["pushScopeId"])("data-v-b7c82ffa"),e=e(),Object(o["popScopeId"])(),e),Hn={class:"exam"},_n={class:"que-index"},zn={key:0,class:"regular-que"},Gn={class:"que-points"},Wn={class:"que-title"},Jn={class:"points"},Zn=Qn(()=>Object(o["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),Yn={class:"ans"},Xn=Qn(()=>Object(o["createElementVNode"])("p",{class:"comments-title"},"הערות הבודק\\ת:",-1)),Kn={key:0,class:"comments"},ei={key:1},ti={key:1,class:"sub-que"},ai={class:"que-points"},oi={class:"que-title"},si={class:"points"},ni=Qn(()=>Object(o["createElementVNode"])("p",null,"התשובה שענ\\תה:",-1)),ii={class:"ans"},ci=Qn(()=>Object(o["createElementVNode"])("p",{class:"comments-title"},"הערות הבודק\\ת:",-1)),li={key:0,class:"comments"},ri={key:1},mi=Qn(()=>Object(o["createElementVNode"])("div",{class:"under-line"},null,-1));function di(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Hn,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.checkedExam[n.examType],(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"exam-checked",key:e},[Object(o["createElementVNode"])("div",_n,Object(o["toDisplayString"])(t+1+"."),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.questions,(t,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"exam-item",key:a},["regularQue"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",zn,[Object(o["createElementVNode"])("div",Gn,[Object(o["createElementVNode"])("div",Wn,Object(o["toDisplayString"])(t.que),1),Object(o["createElementVNode"])("div",Jn,Object(o["toDisplayString"])(e.pointsReceived)+"/"+Object(o["toDisplayString"])(e.points),1)]),Zn,Object(o["createElementVNode"])("div",Yn,Object(o["toDisplayString"])(e.inputAns),1),Xn,e.Comments?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Kn,Object(o["toDisplayString"])(e.comments),1)):Object(o["createCommentVNode"])("",!0),e.Comments?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ei,"אין הערות"))])):Object(o["createCommentVNode"])("",!0),"subQue"==e.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ti,[Object(o["createElementVNode"])("div",ai,[Object(o["createElementVNode"])("div",oi,Object(o["toDisplayString"])(i.getHebLetters(a))+". "+Object(o["toDisplayString"])(t.que),1),Object(o["createElementVNode"])("div",si,Object(o["toDisplayString"])(t.pointsReceived)+"/"+Object(o["toDisplayString"])(t.points),1)]),ni,Object(o["createElementVNode"])("div",ii,Object(o["toDisplayString"])(t.inputAns),1),ci,t.Comments?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",li,Object(o["toDisplayString"])(t.comments),1)):Object(o["createCommentVNode"])("",!0),t.Comments?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ri,"אין הערות"))])):Object(o["createCommentVNode"])("",!0)]))),128)),mi]))),128))])}var ui={data(){return{checkedExam:[],examType:null,userId:null,fullcheckedExam:[],exam:[]}},methods:{async getdata(){var e=null;if(this.$isSharePointUrl)e=await y.a.get(this.$sharePointUrl+`getByTitle('students')/Items?$filter=num eq '${this.userId}'&$select=${this.examType}`),this.checkedExam=e.data.value,this.parseData();else{e=await y.a.get(this.$sharePointUrl+"students");var t=e.data.value[0];this.checkedExam[this.examType]=t[this.examType].filter(e=>"finalGrade"!=Object.keys(e))}console.log(this.checkedExam),console.log(this.fullcheckedExam)},getHebLetters(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},asyncParse(e){return new Promise(t=>{t(JSON.parse(e))})},async parseData(){Promise.all(this.checkedExam.map(e=>this.asyncParse(e[this.examType]).then(t=>(this.fullcheckedExam=[...t],e[this.examType]=t.filter(e=>"finalGrade"!=Object.keys(e)),{item:e}))));this.checkedExam=this.checkedExam[0]},showTheGradeOutOf(e){var t=100/this.checkedExam[this.examType].length;return t.toFixed(1)}},beforeMount(){this.examType=this.$route.params.title,this.userId=localStorage.getItem("userId"),this.getdata()}};a("8952");const pi=N()(ui,[["render",di],["__scopeId","data-v-b7c82ffa"]]);var hi=pi;const bi=e=>(Object(o["pushScopeId"])("data-v-027da256"),e=e(),Object(o["popScopeId"])(),e),Oi={class:"not-found-page"},gi=bi(()=>Object(o["createElementVNode"])("h1",null,"404 - הדף לא נמצא...",-1)),ji=bi(()=>Object(o["createElementVNode"])("p",null,"אופס ! העמוד שחיפשת לא קיים.",-1)),ki=[gi,ji];function vi(e,t,a,s,n,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Oi,ki)}var fi={};a("9a96");const Ei=N()(fi,[["render",vi],["__scopeId","data-v-027da256"]]);var yi=Ei;const xi=[{path:"/",name:"HomePage",component:ee},{path:"/Practices",name:"PracticesList",component:Te},{path:"/User",name:"User",component:ut},{path:"/User/:title",name:"CheckedExams",component:hi},{path:"/Admin/MainCheckPage",name:"MainCheckPage",component:Mt},{path:"/Admin/examsToCheck/:num/:examType",name:"examsToCheck",component:ka,props:!0},{path:"/Admin/openPermForExams",name:"openPerm",component:To,props:!0},{path:"/Admin/uploadEditExams",name:"uploadEditExams",component:Ra},{path:"/Admin/uploadEditExams/:title",name:"editExams",component:ko},{path:"/examsToCheck/:num/:examType/submitted",name:"submitted",component:In,props:!0},{path:"/exams/:Title",name:"exams",component:wn,props:e=>({...e.params})},{path:"/exams/:Title/beforeStarting",name:"beforeStartingExam",component:Js,props:e=>({...e.params})},{path:"/exams/:Title/submitted",name:"submitted",component:In,props:e=>({...e.params})},{path:"/exams/:Title/noPermissionMessage",name:"noPermission",component:Mn,props:e=>({...e.params})},{path:"/Practices/:week/:title/beforeEnterQuiz",name:"beforeEnterQuiz",component:Ve,props:e=>({...e.params})},{path:"/Practices/:week/:title",name:"quiz",component:qs,props:e=>({...e.params})},{path:"/Practices/:title/result",name:"result",component:Bs,props:e=>({...e.params})},{path:"/:catchAll(.*)",name:"notFound",component:yi,meta:{notFound:!0}}],Bi=Object(L["a"])({history:Object(L["b"])(""),routes:xi});var Ni=Bi,Vi=a("b05d"),wi=(a("0e21"),a("b3f7")),Ci=a.n(wi),Si=(a("573e"),{config:{rtl:!0},plugins:{},iconSet:Ci.a}),Di=(a("c789"),a("f9d5")),Ti=a.n(Di);a("4413");const Ii=Object(o["createApp"])(q).use(Vi["a"],{quasarUserOptions:Si}).use(Ci.a);Ii.config.globalProperties.$sharePointUrl="https://portal.army.idf/sites/hafifon383/_api/web/Lists/",Ii.config.globalProperties.$isSharePointUrl=!0,Ii.config.globalProperties.$getHebLetters=function(e){const t=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","כ","ל","מ","נ","ס","ע","פ","צ","ק","ר","ש","ת"];return t[e%t.length]},Ii.config.globalProperties.$asyncParse=function(e){return new Promise(t=>{t(JSON.parse(e))})},Ii.use(Vi["a"],{quasarUserOptions:Si}),Ii.use(Ni),Ii.use(Ti.a),Ii.mount("#app")},"580a":function(e,t,a){e.exports=a.p+"img/xrm.0eb906a3.jpg"},"5d80":function(e,t,a){},"638a":function(e,t,a){"use strict";a("0ca9")},"66ff":function(e,t,a){"use strict";a("5d80")},"6a30":function(e,t,a){},"713a":function(e,t,a){e.exports=a.p+"img/bios.ea33ba68.png"},7301:function(e,t,a){},"784c":function(e,t,a){"use strict";a("45f7")},"7d83":function(e,t,a){"use strict";a("7301")},"80e6":function(e,t,a){e.exports=a.p+"img/onlineCourse.fd2b6fae.jpg"},8134:function(e,t,a){e.exports=a.p+"img/CMD.4a05cdd1.png"},8904:function(e,t,a){"use strict";a("4be1")},8952:function(e,t,a){"use strict";a("2846")},"8e4a":function(e,t,a){e.exports=a.p+"img/mail.b1be72ce.jpg"},"8fbf":function(e,t,a){"use strict";a("6a30")},"914e":function(e,t,a){e.exports=a.p+"img/communication.51737fd5.png"},"95bd":function(e,t,a){"use strict";a("b15d")},"97c7":function(e,t,a){"use strict";a("dea8")},"9a96":function(e,t,a){"use strict";a("bd5d")},"9b19":function(e,t,a){e.exports=a.p+"img/logo.6980b57d.svg"},"9bf5":function(e,t,a){},"9d4e":function(e,t,a){},"9db6":function(e,t,a){e.exports=a.p+"img/printer.8bd0f703.jpg"},a550:function(e,t,a){},b15d:function(e,t,a){},b5de:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAAA/CAYAAACl6tAWAAAAAXNSR0IArs4c6QAADHtJREFUeF7tnXtwVNUdx7+/c/eRBMhGRB6iyCMiEtjsI0FCEI0YBawP1DDWilPRqtWKGVtHRFupL6wOb1uVqRZHq4wRFQEdSwsqCGiz2QhEa0VsO4I0BPJ+be7eX+duHmwyWjDhJtnN787kn3vP+Z3z+5xfvnP23N85lyCXEBACQkAIWEKALLEqRoWAEBACQgAisBIEQkAICAGLCIjAWgRWzAoBISAERGAlBoSAEBACFhEQgbUIrJgVAkJACIjASgwIASEgBCwiIAJrEVgxKwSEgBAQgZUYEAJCQAhYREAE1iKwYlYICAEhIAIrMSAEhIAQsIiACKxFYMWsEBACQkAEVmIgrgh4PJ5sUupxAKeA6J1QQ8OTJSUlR+PKSXEmZgiIwMbMUElHj0fA7XaP0my2t0DkbinbxMCK4kBgAYDw8erLcyFwsgmIwJ5somKvpwiQx+dbSEQPAbC3dYK5kA0jt7i4uKKnOibt9l0CIrB9d+zjyvOsrKzE+lBoEwE5UY4xA++UORx53+zcWR9XDoszMUFABDYmhkk6eTwC6enpY5XN9jGAlKiyIWL+ZVFR0dPfVX/pjrzEfo79+m0Zgabj2ZfnQqAzBERgO0NN6vQ6Ah6//w4CTCFti2lmLtVDoSl79+79KrrDzxX67fVNI39BULczuBQ63Z9/fsH2XueUdCjmCYjAxvwQigN+v99uAG8BmBVNg4HNxYHApQA4+v7S7deer1Sk/EDzmVmu8kjj7EWXb6gTmkLgZBIQgT2ZNMVWjxDw+Xxuc60VRMM7dOBXwUBgSfS9JZ9cd6am628C8LfcF4HtkVHrG42KwPaNcY5nL8nn8+Uz0e/aZQ8Ah2EYucFg8NNW5xeV5DlclbySgHmtZRmoJOBn+VNeL4hnSOJbzxAQge0Z7tLqSSKQmprqHOBybQCQ284k84ehxsbLSkpKalru07Kd19xOBq0CQWu5pxtsrNh5QLuvYE6B5MmepDERM8cIiMBKNMQ0gYmZmaNthhEEkBzlSJiZFxYXFT3Zem/Frjw/G2yuu57RujQAxhZo9p/kT371vzENQTrfawmIwPbaoZGOnQgBb0bGjWBeE509AKBeB87bEwjsMW08/fHsU5vCaj0BUwCKxLyZPaDryL132rrdJ9KOlBECnSEgAtsZalKnVxBIS0tz2J3OtUQ0u8PywM7qqqqcffv2NS7a+tMEl7NmOQG3RZWpZsO4Jz/7jeeJ2mcY5O3YkXgG97uSiXLAfBAhY8XyHK/sAusVIx57nRCBjb0xkx63EPD5fKkG0V8IGBUNhZgfLCoqMg984eU7r74CrMwZ7imtZRh4TquovXv+rHcbo+vdWljoSmyyP0yMOwDYIjNdg59YMdVzv0AXAp0hIALbGWpSp1cQSPd65ymlngHgiOrQkTBw2e5A4OOl269JI8ImpWgEs7kBwczIomIo+8x2666LFqn506+aQhoeIVB2dDYCM/9pRbbHzDqQSwj8YAIisD8YmVToJQRsXp/vDRBdHt0fBrbX19TMmvf8OXBqjj8AuB4M1VLmIAE33j3l9S2tmw9uLSxMSgw55hGwEOBhUbNcJlA1yLhpeZbnjV7is3QjxgiIwMbYgEl3mwlMnDhxtM3hMF9iJbUTWObHr1qS/JDLMehBIpg/7Vtnt00g/Dp/8utPomXddf62whGk2ZYRcDlAx07gMtWXsAth4zcHsz1bCogkhUsCr1MERGA7hU0q9TQBd0bGjRrzix36EbY51PTrl4wYQ0wrQOjf8txg0NtcVXXzPTPeO7po61ZbuZY8Xdlti5nh7WCjmmG8aXD44VXZGe3OMOhpn6X92CMgAht7YyY9BlS6379MAfM7wCi6+M4hDw0fl7QS7V98fQZ7wtX5mS9/kb81mAIH8gG1AARn9JIAGN8CeOyUkHv1ohzSBbQQ6CoBEdiuEpT63U5gwoQJZ9qczr8SMLZNIJk5ebDjhSsXDB+rOej8qE5VMRs3f+5ctz6h4dOppLCYIucQUCRLoOUKEXgbs/r1gQP/+KRgzhxZEuj2UY3PBkVg43Nc49ort893kUZkbo9tW38lhdqpNwz6enTmgHOisgDMc15/X27MfKqC/OaLrLtANLg9HKph4GlD15eumuY7HNfgxLluJyAC2+3IpcEuEiCv32/mtc6N3r2VMsyhX3LXUCNxgNbyUouZYfvgCGYvqcG5tzBwKQEJ0UsCRLQbBj9aETq6cU1OTkPHfrGZfbADg8IO52QiToOCpmD8DT59l5nz1UU/pHofICAC2wcGOZ5c9Pv9LoP57yA6O9qvsdn9Oeu606LimQ6WYeaGGvbngjC6AwPzY4gbWNkXrJw8/svoZ2aibO0uDE4gZybZ6AYwZ7Ss50ZSvQi8t7YudNGAaZDZbjwFlkW+iMBaBFbMWkPA6/VeC6VeQtRslBR4+m1Defj4xIgIMjSjElmHKnBBMqD6tc50OZJ9hVJmWlZfF3p2dW5GZaT8a9BwFlLC5JgBRRcQ8CMAgzocfxhxiAgHSGs8jzw4YI2HYjWeCIjAxtNoxr8vmsfnMw/QvouIWjcPIGWonXPvHIqkFBuZv9vr4OYyzCA+liRgkgkzG0VgPDA+4Zn3b924Olw/C8Md5PAphbnM5AXjrKijDNvTZIRBXA9GgWoK3UlTIB9RjP9467KHIrBdRigGuotAWmbmUKdhvM+A+SKr7Ro3LZkzZw+EshE1YhgO42rokaMH2sK7lsh4LUe9+PIltLqfXelpYHgAuhAUmam2ng/7Ha5wBYNKCPyhAq+Hq6mYzka7Mwy6y39pJ/YIiMDG3pj12R6nZ2RMUszrzS/HMrOTiMjuJGT9eBBG+fvDoCSjjK+kOqS2xjUnorrCq97bNlNb3diPyk1hHsMgc9ng+64QwNUMfEmEDQYZW21N+j/pPBzps+DF8U4TEIHtNDqp2N0E3G73BOVwjFDAmcqOmQTMTHLZHJfePQyJLgfKkYMqTIpMSBV0jKK94cu0VTVnqT2th3F/f7wzHyVFRWzwVqWwEVWhzygHstmguwc5ztoTgY2zAe0r7lyYl9bfqQ2ZPWik7YnMK5JPr8W5OIJZMJCIRFRzlnqTpqrXkKwOH1soiIbD3ABQGQFfMOHtMBvb7Lamr+GNfKNLUrD6SiBZ7KcIrMWA48185JBru73dAStW+ahpWuSdVSAQMDcMYOTIkQkOh6O/3W5vKCkpqTUTAB5+95YbklzamlLkaSGchiG0H7n0PKfbtkAh/F3xXcqMbQRs1ok/cFSH9slM1aoRFLsisBIDJ0zA4/GMJKWeBdG4E67UtYLlYeDm3YFAkdfrTQfRSjP/lYEqIno8WFj40p+3XZ/yL9uMdZU8JidNfYTptAZDtP1QzZNQMzOrHqCDxPjcAK3XbPwhahsP0VRUd61rUlsIHJ+ACOzxGUkJAJGZa0LCS2DOM18udQcUBvbWVFZmGy4XuYBNzDyltW1mPgDDyCkuLv7yhY+WPDDGFnwkU20kJzVnT4XrEsH7B7P+n8HlxpEBxVyWvBmG2m5oWp3B3GTX9U4vA7BSh5JffbWsOxhIG7FNoFv+UWIbkfTeJGDuoAoz7yCi8d1GhPmDYFHRhV6v93QoZX6c8NS2tpkrWKk5xYWFm6s2jbrXmVyxWNUrTT88EMZXQxD+5jRwgx1oaj7ThQADzX9dvgzGH1PWvvLzLhsSA3FPQAQ27of45DiYmprqHJCSUgBmc5dTt8QNM+8oKy292OVyJTqczvdA5G9p25x9fqWAaYFA4Nu63067jxtsjxkV/TWjsl/zfi0rL8Ya19pXbrKyCbEdHwQsjsT4gCReNBPweDzZpNRiJhpLzG07qaziw0RHyTBuCgaDu7xe73RWaiEBoxk4RIbxVDAYXMdz5/ar1PVVzdtbrQ9nAhqZ8Zxr7SuPWuW32I0fAtZHZPywEk8AuN3uwUqp09lm+97YYWZzqbTTa5ytoEnXORwO/3vPnj3l5r1xkyadmqTrgxsbG8tLSkpKzZ/8nJenHTFsZ2t2TuyOAbIRhZp0/ZuBBQWRcwzkEgL/j4AIrMSHEBACQsAiAiKwFoEVs0JACAgBEViJASEgBISARQREYC0CK2aFgBAQAiKwEgNCQAgIAYsIiMBaBFbMCgEhIAREYCUGhIAQEAIWERCBtQismBUCQkAIiMBKDAgBISAELCIgAmsRWDErBISAEBCBlRgQAkJACFhEQATWIrBiVggIASEgAisxIASEgBCwiIAIrEVgxawQEAJCQARWYkAICAEhYBGB/wG6nKlto1dAzwAAAABJRU5ErkJggg=="},b7b7:function(e,t,a){"use strict";a("9bf5")},bca1:function(e,t,a){"use strict";a("e5e9")},bd5d:function(e,t,a){},be77:function(e,t,a){"use strict";a("eb58")},bf45:function(e,t,a){"use strict";a("ce5b")},c442:function(e,t,a){e.exports=a.p+"img/homePageBackground.4bcf9a61.png"},ce5b:function(e,t,a){},d4b7:function(e,t,a){"use strict";a("2eac")},de8b:function(e,t,a){"use strict";a("a550")},dea8:function(e,t,a){},df0b:function(e,t,a){e.exports=a.p+"img/active-directory-logo2.6af63782.png"},e0d7:function(e,t,a){e.exports=a.p+"img/fileServer.9953c2a0.jpg"},e5df:function(e,t,a){},e5e9:function(e,t,a){},e708:function(e,t,a){"use strict";a("fc03")},eb58:function(e,t,a){},ed98:function(e,t,a){e.exports=a.p+"img/mivzOper.996f2a76.png"},f108:function(e,t,a){"use strict";a("3358")},fc03:function(e,t,a){},fd40:function(e,t,a){e.exports=a.p+"img/KioskServlet.3c3587b1.jpg"}});
//# sourceMappingURL=app.9f4d6c1b.js.map